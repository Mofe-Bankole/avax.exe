"use strict";function e(e){var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}}),t.default=e,Object.freeze(t)}var t=e(require("node:crypto"));const n=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],r=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],s=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],a=[...s,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],o=[...s,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],i=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],c=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],u=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],d=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];function l(e,{includeName:t=!1}={}){if("function"!==e.type&&"event"!==e.type&&"error"!==e.type)throw new G(e.type);return`${e.name}(${f(e.inputs,{includeName:t})})`}function f(e,{includeName:t=!1}={}){return e?e.map(e=>function(e,{includeName:t}){if(e.type.startsWith("tuple"))return`(${f(e.components,{includeName:t})})${e.type.slice(5)}`;return e.type+(t&&e.name?` ${e.name}`:"")}(e,{includeName:t})).join(t?", ":","):""}function p(e,{strict:t=!0}={}){return!!e&&("string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")))}function h(e){return p(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const b="2.38.6";let m=({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,y=`viem@${b}`,g=class e extends Error{constructor(t,n={}){const r=n.cause instanceof e?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof e&&n.cause.docsPath||n.docsPath,a=m?.({...n,docsPath:s});super([t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...y?[`Version: ${y}`]:[]].join("\n"),n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=b}walk(e){return w(this,e)}};function w(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e&&void 0!==e.cause?w(e.cause,t):t?null:e}class v extends g{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join("\n"),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class x extends g{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join("\n"),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class P extends g{constructor({data:e,params:t,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join("\n"),{metaMessages:[`Params: (${f(t,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=n}}class E extends g{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class I extends g{constructor({expectedLength:e,givenLength:t,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${t}`].join("\n"),{name:"AbiEncodingArrayLengthMismatchError"})}}class A extends g{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${h(t)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class k extends g{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${t}`].join("\n"),{name:"AbiEncodingLengthMismatchError"})}}class B extends g{constructor(e,{docsPath:t}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join("\n"),{docsPath:t,name:"AbiErrorInputsNotFoundError"})}}class $ extends g{constructor(e,{docsPath:t}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join("\n"),{docsPath:t,name:"AbiErrorNotFoundError"})}}class N extends g{constructor(e,{docsPath:t}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class T extends g{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class O extends g{constructor(e,{docsPath:t}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t,name:"AbiEventSignatureNotFoundError"})}}class z extends g{constructor(e,{docsPath:t}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join("\n"),{docsPath:t,name:"AbiEventNotFoundError"})}}class S extends g{constructor(e,{docsPath:t}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t,name:"AbiFunctionNotFoundError"})}}class F extends g{constructor(e,{docsPath:t}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t,name:"AbiFunctionOutputsNotFoundError"})}}class C extends g{constructor(e,{docsPath:t}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t,name:"AbiFunctionSignatureNotFoundError"})}}class L extends g{constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${l(e.abiItem)}\`, and`,`\`${t.type}\` in \`${l(t.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let R=class extends g{constructor({expectedSize:e,givenSize:t}){super(`Expected bytes${e}, got bytes${t}.`,{name:"BytesSizeMismatchError"})}};class M extends g{constructor({abiItem:e,data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for non-indexed event parameters.`].join("\n"),{metaMessages:[`Params: (${f(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=t,this.params=n,this.size=r}}class U extends g{constructor({abiItem:e,param:t}){super([`Expected a topic for indexed event parameter${t.name?` "${t.name}"`:""} on event "${l(e,{includeName:!0})}".`].join("\n"),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class j extends g{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t,name:"InvalidAbiEncodingType"})}}class _ extends g{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t,name:"InvalidAbiDecodingType"})}}let q=class extends g{constructor(e){super([`Value "${e}" is not a valid array.`].join("\n"),{name:"InvalidArrayError"})}};class G extends g{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join("\n"),{name:"InvalidDefinitionTypeError"})}}let D=class extends g{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},H=class extends g{constructor({offset:e,position:t,size:n}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}},V=class extends g{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}};class W extends g{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${t} ${n} long, but is ${e} ${n} long.`,{name:"InvalidBytesLengthError"})}}function Z(e,{dir:t,size:n=32}={}){return"string"==typeof e?Y(e,{dir:t,size:n}):function(e,{dir:t,size:n=32}={}){if(null===n)return e;if(e.length>n)throw new V({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const a="right"===t;r[a?s:n-s-1]=e[a?s:e.length-s-1]}return r}(e,{dir:t,size:n})}function Y(e,{dir:t,size:n=32}={}){if(null===n)return e;const r=e.replace("0x","");if(r.length>2*n)throw new V({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r["right"===t?"padEnd":"padStart"](2*n,"0")}`}let K=class extends g{constructor({max:e,min:t,signed:n,size:r,value:s}){super(`Number "${s}" is not in safe ${r?`${8*r}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}},J=class extends g{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class X extends g{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Q=class extends g{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function ee(e,{dir:t="left"}={}){let n="string"==typeof e?e.replace("0x",""):e,r=0;for(let e=0;e<n.length-1&&"0"===n["left"===t?e:n.length-e-1].toString();e++)r++;return n="left"===t?n.slice(r):n.slice(0,n.length-r),"string"==typeof e?(1===n.length&&"right"===t&&(n=`${n}0`),`0x${n.length%2==1?`0${n}`:n}`):n}function te(e,{size:t}){if(h(e)>t)throw new Q({givenSize:h(e),maxSize:t})}function ne(e,t={}){const{signed:n}=t;t.size&&te(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2;return r<=(1n<<8n*BigInt(s)-1n)-1n?r:r-BigInt(`0x${"f".padStart(2*s,"f")}`)-1n}function re(e,t={}){return Number(ne(e,t))}const se=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ae(e,t={}){return"number"==typeof e||"bigint"==typeof e?ce(e,t):"string"==typeof e?de(e,t):"boolean"==typeof e?oe(e,t):ie(e,t)}function oe(e,t={}){const n=`0x${Number(e)}`;return"number"==typeof t.size?(te(n,{size:t.size}),Z(n,{size:t.size})):n}function ie(e,t={}){let n="";for(let t=0;t<e.length;t++)n+=se[e[t]];const r=`0x${n}`;return"number"==typeof t.size?(te(r,{size:t.size}),Z(r,{dir:"right",size:t.size})):r}function ce(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let a;r?a=n?(1n<<8n*BigInt(r)-1n)-1n:2n**(8n*BigInt(r))-1n:"number"==typeof e&&(a=BigInt(Number.MAX_SAFE_INTEGER));const o="bigint"==typeof a&&n?-a-1n:0;if(a&&s>a||s<o){const t="bigint"==typeof e?"n":"";throw new K({max:a?`${a}${t}`:void 0,min:`${o}${t}`,signed:n,size:r,value:`${e}${t}`})}const i=`0x${(n&&s<0?(1n<<BigInt(8*r))+BigInt(s):s).toString(16)}`;return r?Z(i,{size:r}):i}const ue=new TextEncoder;function de(e,t={}){return ie(ue.encode(e),t)}const le=new TextEncoder;function fe(e,t={}){return"number"==typeof e||"bigint"==typeof e?function(e,t){const n=ce(e,t);return be(n)}(e,t):"boolean"==typeof e?function(e,t={}){const n=new Uint8Array(1);if(n[0]=Number(e),"number"==typeof t.size)return te(n,{size:t.size}),Z(n,{size:t.size});return n}(e,t):p(e)?be(e,t):me(e,t)}const pe={zero:48,nine:57,A:65,F:70,a:97,f:102};function he(e){return e>=pe.zero&&e<=pe.nine?e-pe.zero:e>=pe.A&&e<=pe.F?e-(pe.A-10):e>=pe.a&&e<=pe.f?e-(pe.a-10):void 0}function be(e,t={}){let n=e;t.size&&(te(n,{size:t.size}),n=Z(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,a=new Uint8Array(s);for(let e=0,t=0;e<s;e++){const n=he(r.charCodeAt(t++)),s=he(r.charCodeAt(t++));if(void 0===n||void 0===s)throw new g(`Invalid byte sequence ("${r[t-2]}${r[t-1]}" in "${r}").`);a[e]=16*n+s}return a}function me(e,t={}){const n=le.encode(e);return"number"==typeof t.size?(te(n,{size:t.size}),Z(n,{dir:"right",size:t.size})):n}const ye=BigInt(2**32-1),ge=BigInt(32);function we(e,t=!1){return t?{h:Number(e&ye),l:Number(e>>ge&ye)}:{h:0|Number(e>>ge&ye),l:0|Number(e&ye)}}const ve=t&&"object"==typeof t&&"webcrypto"in t?t.webcrypto:t&&"object"==typeof t&&"randomBytes"in t?t:void 0;function xe(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Pe(e,...t){if(!((n=e)instanceof Uint8Array||ArrayBuffer.isView(n)&&"Uint8Array"===n.constructor.name))throw new Error("Uint8Array expected");
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
var n;if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Ee(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ie(e,t){Pe(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Ae(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function ke(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Be(e,t){return e<<32-t|e>>>t}function $e(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const Ne=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])()?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=$e(e[t]);return e};function Te(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}(e)),Pe(e),e}let Oe=class{};function ze(e){const t=t=>e().update(Te(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Se(e=32){if(ve&&"function"==typeof ve.getRandomValues)return ve.getRandomValues(new Uint8Array(e));if(ve&&"function"==typeof ve.randomBytes)return Uint8Array.from(ve.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const Fe=BigInt(0),Ce=BigInt(1),Le=BigInt(2),Re=BigInt(7),Me=BigInt(256),Ue=BigInt(113),je=[],_e=[],qe=[];for(let e=0,t=Ce,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],je.push(2*(5*r+n)),_e.push((e+1)*(e+2)/2%64);let s=Fe;for(let e=0;e<7;e++)t=(t<<Ce^(t>>Re)*Ue)%Me,t&Le&&(s^=Ce<<(Ce<<BigInt(e))-Ce);qe.push(s)}const Ge=function(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let a=0;a<n;a++){const{h:n,l:o}=we(e[a],t);[r[a],s[a]]=[n,o]}return[r,s]}(qe,!0),De=Ge[0],He=Ge[1],Ve=(e,t,n)=>n>32?((e,t,n)=>t<<n-32|e>>>64-n)(e,t,n):((e,t,n)=>e<<n|t>>>32-n)(e,t,n),We=(e,t,n)=>n>32?((e,t,n)=>e<<n-32|t>>>64-n)(e,t,n):((e,t,n)=>t<<n|e>>>32-n)(e,t,n);let Ze=class e extends Oe{constructor(e,t,n,r=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=s,xe(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");var a;this.state=new Uint8Array(200),this.state32=(a=this.state,new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)))}clone(){return this._cloneInto()}keccak(){Ne(this.state32),function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,s=(t+2)%10,a=n[s],o=n[s+1],i=Ve(a,o,1)^n[r],c=We(a,o,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=i,e[t+n+1]^=c}let t=e[2],s=e[3];for(let n=0;n<24;n++){const r=_e[n],a=Ve(t,s,r),o=We(t,s,r),i=je[n];t=e[i],s=e[i+1],e[i]=a,e[i+1]=o}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=De[r],e[1]^=He[r]}Ae(n)}(this.state32,this.rounds),Ne(this.state32),this.posOut=0,this.pos=0}update(e){Ee(this),Pe(e=Te(e));const{blockLen:t,state:n}=this,r=e.length;for(let s=0;s<r;){const a=Math.min(t-this.pos,r-s);for(let t=0;t<a;t++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,128&t&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){Ee(this,!1),Pe(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,s=e.length;r<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-r);e.set(t.subarray(this.posOut,this.posOut+a),r),this.posOut+=a,r+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return xe(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ie(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Ae(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:a,enableXOF:o}=this;return t||(t=new e(n,r,s,o,a)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=a,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}};const Ye=(()=>{return e=1,t=136,n=32,ze(()=>new Ze(t,e,n));var e,t,n})();function Ke(e,t){const n=t||"hex",r=Ye(p(e,{strict:!1})?fe(e):e);return"bytes"===n?r:ae(r)}let Je=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}};const Xe=/^0x[a-fA-F0-9]{40}$/,Qe=new Je(8192);function et(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(Qe.has(r))return Qe.get(r);const s=!(!Xe.test(e)||e.toLowerCase()!==e&&n&&nt(e)!==e);return Qe.set(r,s),s}const tt=new Je(8192);function nt(e,t){if(tt.has(`${e}.${t}`))return tt.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=Ke(me(n),"bytes"),s=n.split("");for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&s[e]&&(s[e]=s[e].toUpperCase()),(15&r[e>>1])>=8&&s[e+1]&&(s[e+1]=s[e+1].toUpperCase());const a=`0x${s.join("")}`;return tt.set(`${e}.${t}`,a),a}function rt(e,t){if(!et(e,{strict:!1}))throw new D({address:e});return nt(e,t)}let st=class extends g{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},at=class extends g{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},ot=class extends g{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const it={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new ot({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new at({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new st({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new st({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function ct(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(it);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function ut(e,t,n,{strict:r}={}){return p(e,{strict:!1})?pt(e,t,n,{strict:r}):ft(e,t,n,{strict:r})}function dt(e,t){if("number"==typeof t&&t>0&&t>h(e)-1)throw new H({offset:t,position:"start",size:h(e)})}function lt(e,t,n){if("number"==typeof t&&"number"==typeof n&&h(e)!==n-t)throw new H({offset:n,position:"end",size:h(e)})}function ft(e,t,n,{strict:r}={}){dt(e,t);const s=e.slice(t,n);return r&&lt(s,t,n),s}function pt(e,t,n,{strict:r}={}){dt(e,t);const s=`0x${e.replace("0x","").slice(2*(t??0),2*(n??e.length))}`;return r&&lt(s,t,n),s}function ht(e,t={}){void 0!==t.size&&te(e,{size:t.size});return ne(ie(e,t),t)}function bt(e,t={}){let n=e;if(void 0!==t.size&&(te(n,{size:t.size}),n=ee(n)),n.length>1||n[0]>1)throw new J(n);return Boolean(n[0])}function mt(e,t={}){void 0!==t.size&&te(e,{size:t.size});return re(ie(e,t),t)}function yt(e){return"string"==typeof e[0]?gt(e):function(e){let t=0;for(const n of e)t+=n.length;const n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(e)}function gt(e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}const wt=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,vt=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function xt(e,t){if(e.length!==t.length)throw new k({expectedLength:e.length,givenLength:t.length});const n=function({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Pt({param:e[r],value:t[r]}));return n}({params:e,values:t}),r=Et(n);return 0===r.length?"0x":r}function Pt({param:e,value:t}){const n=It(e.type);if(n){const[r,s]=n;return function(e,{length:t,param:n}){const r=null===t;if(!Array.isArray(e))throw new q(e);if(!r&&e.length!==t)throw new I({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const a=[];for(let t=0;t<e.length;t++){const r=Pt({param:n,value:e[t]});r.dynamic&&(s=!0),a.push(r)}if(r||s){const e=Et(a);if(r){const t=ce(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?yt([t,e]):t}}if(s)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:yt(a.map(({encoded:e})=>e))}}(t,{length:r,param:{...e,type:s}})}if("tuple"===e.type)return function(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const a=t.components[s],o=Pt({param:a,value:e[Array.isArray(e)?s:a.name]});r.push(o),o.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Et(r):yt(r.map(({encoded:e})=>e))}}(t,{param:e});if("address"===e.type)return function(e){if(!et(e))throw new D({address:e});return{dynamic:!1,encoded:Y(e.toLowerCase())}}(t);if("bool"===e.type)return function(e){if("boolean"!=typeof e)throw new g(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Y(oe(e))}}(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const n=e.type.startsWith("int"),[,,r="256"]=vt.exec(e.type)??[];return function(e,{signed:t,size:n=256}){if("number"==typeof n){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new K({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:ce(e,{size:32,signed:t})}}(t,{signed:n,size:Number(r)})}if(e.type.startsWith("bytes"))return function(e,{param:t}){const[,n]=t.type.split("bytes"),r=h(e);if(!n){let t=e;return r%32!=0&&(t=Y(t,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:yt([Y(ce(r,{size:32})),t])}}if(r!==Number.parseInt(n,10))throw new A({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Y(e,{dir:"right"})}}(t,{param:e});if("string"===e.type)return function(e){const t=de(e),n=Math.ceil(h(t)/32),r=[];for(let e=0;e<n;e++)r.push(Y(ut(t,32*e,32*(e+1)),{dir:"right"}));return{dynamic:!0,encoded:yt([Y(ce(h(t),{size:32})),...r])}}(t);throw new j(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Et(e){let t=0;for(let n=0;n<e.length;n++){const{dynamic:r,encoded:s}=e[n];t+=r?32:h(s)}const n=[],r=[];let s=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:i}=e[a];o?(n.push(ce(t+s,{size:32})),r.push(i),s+=h(i)):n.push(i)}return yt([...n,...r])}function It(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function At(e,t){const n="string"==typeof t?be(t):t,r=ct(n);if(0===h(n)&&e.length>0)throw new E;if(h(t)&&h(t)<32)throw new P({data:"string"==typeof t?t:ie(t),params:e,size:h(t)});let s=0;const a=[];for(let t=0;t<e.length;++t){const n=e[t];r.setPosition(s);const[o,i]=kt(r,n,{staticPosition:0});s+=i,a.push(o)}return a}function kt(e,t,{staticPosition:n}){const r=It(t.type);if(r){const[s,a]=r;return function(e,t,{length:n,staticPosition:r}){if(!n){const n=r+mt(e.readBytes($t)),s=n+Bt;e.setPosition(n);const a=mt(e.readBytes(Bt)),o=Nt(t);let i=0;const c=[];for(let n=0;n<a;++n){e.setPosition(s+(o?32*n:i));const[r,a]=kt(e,t,{staticPosition:s});i+=a,c.push(r)}return e.setPosition(r+32),[c,32]}if(Nt(t)){const s=r+mt(e.readBytes($t)),a=[];for(let r=0;r<n;++r){e.setPosition(s+32*r);const[n]=kt(e,t,{staticPosition:s});a.push(n)}return e.setPosition(r+32),[a,32]}let s=0;const a=[];for(let o=0;o<n;++o){const[n,o]=kt(e,t,{staticPosition:r+s});s+=o,a.push(n)}return[a,s]}(e,{...t,type:a},{length:s,staticPosition:n})}if("tuple"===t.type)return function(e,t,{staticPosition:n}){const r=0===t.components.length||t.components.some(({name:e})=>!e),s=r?[]:{};let a=0;if(Nt(t)){const o=n+mt(e.readBytes($t));for(let n=0;n<t.components.length;++n){const i=t.components[n];e.setPosition(o+a);const[c,u]=kt(e,i,{staticPosition:o});a+=u,s[r?n:i?.name]=c}return e.setPosition(n+32),[s,32]}for(let o=0;o<t.components.length;++o){const i=t.components[o],[c,u]=kt(e,i,{staticPosition:n});s[r?o:i?.name]=c,a+=u}return[s,a]}(e,t,{staticPosition:n});if("address"===t.type)return function(e){const t=e.readBytes(32);return[nt(ie(ft(t,-20))),32]}(e);if("bool"===t.type)return function(e){return[bt(e.readBytes(32),{size:32}),32]}(e);if(t.type.startsWith("bytes"))return function(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const t=mt(e.readBytes(32));e.setPosition(n+t);const r=mt(e.readBytes(32));if(0===r)return e.setPosition(n+32),["0x",32];const s=e.readBytes(r);return e.setPosition(n+32),[ie(s),32]}const a=ie(e.readBytes(Number.parseInt(s,10),32));return[a,32]}(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return function(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?ht(s,{signed:n}):mt(s,{signed:n}),32]}(e,t);if("string"===t.type)return function(e,{staticPosition:t}){const n=mt(e.readBytes(32)),r=t+n;e.setPosition(r);const s=mt(e.readBytes(32));if(0===s)return e.setPosition(t+32),["",32];const a=e.readBytes(s,32),o=function(e,t={}){let n=e;return void 0!==t.size&&(te(n,{size:t.size}),n=ee(n,{dir:"right"})),(new TextDecoder).decode(n)}(ee(a));return e.setPosition(t+32),[o,32]}(e,{staticPosition:n});throw new _(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Bt=32,$t=32;function Nt(e){const{type:t}=e;if("string"===t)return!0;if("bytes"===t)return!0;if(t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(Nt);const n=It(e.type);return!(!n||!Nt({...e,type:n[1]}))}function Tt(e){return Ke(fe(e))}let Ot=class e extends Error{constructor(t,n={}){const r=n.cause instanceof e?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof e&&n.cause.docsPath||n.docsPath;super([t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],"Version: abitype@1.1.0"].join("\n")),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function zt(e,t){const n=e.exec(t);return n?.groups}const St=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ft=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Ct=/^\(.+?\).*?$/,Lt=/^tuple(?<array>(\[(\d*)\])*)$/;function Rt(e){let t=e.type;if(Lt.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let r=0;r<n;r++){t+=Rt(e.components[r]),r<n-1&&(t+=", ")}const r=zt(Lt,e.type);return t+=`)${r?.array??""}`,Rt({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Mt(e){let t="";const n=e.length;for(let r=0;r<n;r++){t+=Rt(e[r]),r!==n-1&&(t+=", ")}return t}function Ut(e){return"function"===e.type?`function ${e.name}(${Mt(e.inputs)})${e.stateMutability&&"nonpayable"!==e.stateMutability?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${Mt(e.outputs)})`:""}`:"event"===e.type?`event ${e.name}(${Mt(e.inputs)})`:"error"===e.type?`error ${e.name}(${Mt(e.inputs)})`:"constructor"===e.type?`constructor(${Mt(e.inputs)})${"payable"===e.stateMutability?" payable":""}`:"fallback"===e.type?"fallback() external"+("payable"===e.stateMutability?" payable":""):"receive() external payable"}const jt=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;const _t=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;const qt=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;const Gt=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Dt(e){return Gt.test(e)}function Ht(e){return zt(Gt,e)}const Vt=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;const Wt=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;const Zt=/^receive\(\) external payable$/;const Yt=new Set(["memory","indexed","storage","calldata"]),Kt=new Set(["indexed"]),Jt=new Set(["calldata","memory","storage"]);class Xt extends Ot{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Qt extends Ot{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class en extends Ot{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class tn extends Ot{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class nn extends Ot{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class rn extends Ot{constructor({param:e,name:t}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${t}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class sn extends Ot{constructor({param:e,type:t,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${t?` in "${t}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class an extends Ot{constructor({param:e,type:t,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${t?` in "${t}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${n}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class on extends Ot{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class cn extends Ot{constructor({signature:e,type:t}){super(`Invalid ${t} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class un extends Ot{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class dn extends Ot{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class ln extends Ot{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class fn extends Ot{constructor({current:e,depth:t}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${t>0?"opening":"closing"} parentheses.`],details:`Depth "${t}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}const pn=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function hn(e,t={}){if(function(e){return qt.test(e)}(e))return function(e,t={}){const n=function(e){return zt(qt,e)}(e);if(!n)throw new cn({signature:e,type:"function"});const r=wn(n.parameters),s=[],a=r.length;for(let e=0;e<a;e++)s.push(gn(r[e],{modifiers:Jt,structs:t,type:"function"}));const o=[];if(n.returns){const e=wn(n.returns),r=e.length;for(let n=0;n<r;n++)o.push(gn(e[n],{modifiers:Jt,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}(e,t);if(function(e){return _t.test(e)}(e))return function(e,t={}){const n=function(e){return zt(_t,e)}(e);if(!n)throw new cn({signature:e,type:"event"});const r=wn(n.parameters),s=[],a=r.length;for(let e=0;e<a;e++)s.push(gn(r[e],{modifiers:Kt,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}(e,t);if(function(e){return jt.test(e)}(e))return function(e,t={}){const n=function(e){return zt(jt,e)}(e);if(!n)throw new cn({signature:e,type:"error"});const r=wn(n.parameters),s=[],a=r.length;for(let e=0;e<a;e++)s.push(gn(r[e],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}(e,t);if(function(e){return Vt.test(e)}(e))return function(e,t={}){const n=function(e){return zt(Vt,e)}(e);if(!n)throw new cn({signature:e,type:"constructor"});const r=wn(n.parameters),s=[],a=r.length;for(let e=0;e<a;e++)s.push(gn(r[e],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}(e,t);if(function(e){return Wt.test(e)}(e))return function(e){const t=function(e){return zt(Wt,e)}(e);if(!t)throw new cn({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}(e);if(function(e){return Zt.test(e)}(e))return{type:"receive",stateMutability:"payable"};throw new un({signature:e})}const bn=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,mn=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,yn=/^u?int$/;function gn(e,t){const n=function(e,t,n){let r="";if(n)for(const e of Object.entries(n)){if(!e)continue;let t="";for(const n of e[1])t+=`[${n.type}${n.name?`:${n.name}`:""}]`;r+=`(${e[0]}{${t}})`}return t?`${t}:${e}${r}`:e}(e,t?.type,t?.structs);if(pn.has(n))return pn.get(n);const r=Ct.test(e),s=zt(r?mn:bn,e);if(!s)throw new nn({param:e});if(s.name&&function(e){return"address"===e||"bool"===e||"function"===e||"string"===e||"tuple"===e||St.test(e)||Ft.test(e)||xn.test(e)}(s.name))throw new rn({param:e,name:s.name});const a=s.name?{name:s.name}:{},o="indexed"===s.modifier?{indexed:!0}:{},i=t?.structs??{};let c,u={};if(r){c="tuple";const e=wn(s.type),t=[],n=e.length;for(let r=0;r<n;r++)t.push(gn(e[r],{structs:i}));u={components:t}}else if(s.type in i)c="tuple",u={components:i[s.type]};else if(yn.test(s.type))c=`${s.type}256`;else if("address payable"===s.type)c="address";else if(c=s.type,"struct"!==t?.type&&!vn(c))throw new en({type:c});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new sn({param:e,type:t?.type,modifier:s.modifier});if(Jt.has(s.modifier)&&!function(e,t){return t||"bytes"===e||"string"===e||"tuple"===e}(c,!!s.array))throw new an({param:e,type:t?.type,modifier:s.modifier})}const d={type:`${c}${s.array??""}`,...a,...o,...u};return pn.set(n,d),d}function wn(e,t=[],n="",r=0){const s=e.trim().length;for(let a=0;a<s;a++){const s=e[a],o=e.slice(a+1);switch(s){case",":return 0===r?wn(o,[...t,n.trim()]):wn(o,t,`${n}${s}`,r);case"(":return wn(o,t,`${n}${s}`,r+1);case")":return wn(o,t,`${n}${s}`,r-1);default:return wn(o,t,`${n}${s}`,r)}}if(""===n)return t;if(0!==r)throw new fn({current:n,depth:r});return t.push(n.trim()),t}function vn(e){return"address"===e||"bool"===e||"function"===e||"string"===e||St.test(e)||Ft.test(e)}const xn=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Pn(e){const t={},n=e.length;for(let r=0;r<n;r++){const n=e[r];if(!Dt(n))continue;const s=Ht(n);if(!s)throw new cn({signature:n,type:"struct"});const a=s.properties.split(";"),o=[],i=a.length;for(let e=0;e<i;e++){const t=a[e].trim();if(!t)continue;const n=gn(t,{type:"struct"});o.push(n)}if(!o.length)throw new dn({signature:n});t[s.name]=o}const r={},s=Object.entries(t),a=s.length;for(let e=0;e<a;e++){const[n,a]=s[e];r[n]=In(a,t)}return r}const En=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function In(e,t,n=new Set){const r=[],s=e.length;for(let a=0;a<s;a++){const s=e[a];if(Ct.test(s.type))r.push(s);else{const e=zt(En,s.type);if(!e?.type)throw new on({abiParameter:s});const{array:a,type:o}=e;if(o in t){if(n.has(o))throw new ln({type:o});r.push({...s,type:`tuple${a??""}`,components:In(t[o]??[],t,new Set([...n,o]))})}else{if(!vn(o))throw new Qt({type:o});r.push(s)}}}return r}function An(e){const t=Pn(e),n=[],r=e.length;for(let s=0;s<r;s++){const r=e[s];Dt(r)||n.push(hn(r,t))}return n}function kn(e){let t;if("string"==typeof e)t=hn(e);else{const n=Pn(e),r=e.length;for(let s=0;s<r;s++){const r=e[s];if(!Dt(r)){t=hn(r,n);break}}}if(!t)throw new Xt({signature:e});return t}function Bn(e){const t=[];if("string"==typeof e){const n=wn(e),r=n.length;for(let e=0;e<r;e++)t.push(gn(n[e],{modifiers:Yt}))}else{const n=Pn(e),r=e.length;for(let s=0;s<r;s++){const r=e[s];if(Dt(r))continue;const a=wn(r),o=a.length;for(let e=0;e<o;e++)t.push(gn(a[e],{modifiers:Yt,structs:n}))}}if(0===t.length)throw new tn({params:e});return t}const $n=e=>function(e){let t=!0,n="",r=0,s="",a=!1;for(let o=0;o<e.length;o++){const i=e[o];if(["(",")",","].includes(i)&&(t=!0),"("===i&&r++,")"===i&&r--,t)if(0!==r)" "!==i?(s+=i,n+=i):","!==e[o-1]&&","!==n&&",("!==n&&(n="",t=!1);else if(" "===i&&["event","function",""].includes(s))s="";else if(s+=i,")"===i){a=!0;break}}if(!a)throw new g("Unable to normalize signature.");return s}("string"==typeof e?e:Ut(e));function Nn(e){return Tt($n(e))}const Tn=Nn,On=e=>ut(Nn(e),0,4);function zn(e){const{abi:t,args:n=[],name:r}=e,s=p(r,{strict:!1}),a=t.filter(e=>s?"function"===e.type?On(e)===r:"event"===e.type&&Tn(e)===r:"name"in e&&e.name===r);if(0===a.length)return;if(1===a.length)return a[0];let o;for(const e of a){if(!("inputs"in e))continue;if(!n||0===n.length){if(!e.inputs||0===e.inputs.length)return e;continue}if(!e.inputs)continue;if(0===e.inputs.length)continue;if(e.inputs.length!==n.length)continue;if(n.every((t,n)=>{const r="inputs"in e&&e.inputs[n];return!!r&&Sn(t,r)})){if(o&&"inputs"in o&&o.inputs){const t=Fn(e.inputs,o.inputs,n);if(t)throw new L({abiItem:e,type:t[0]},{abiItem:o,type:t[1]})}o=e}}return o||a[0]}function Sn(e,t){const n=typeof e,r=t.type;switch(r){case"address":return et(e,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:return"tuple"===r&&"components"in t?Object.values(t.components).every((t,n)=>Sn(Object.values(e)[n],t)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?"number"===n||"bigint"===n:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?"string"===n||e instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)&&(Array.isArray(e)&&e.every(e=>Sn(e,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})))}}function Fn(e,t,n){for(const r in e){const s=e[r],a=t[r];if("tuple"===s.type&&"tuple"===a.type&&"components"in s&&"components"in a)return Fn(s.components,a.components,n[r]);const o=[s.type,a.type];if((()=>!(!o.includes("address")||!o.includes("bytes20"))||(o.includes("address")&&o.includes("string")||!(!o.includes("address")||!o.includes("bytes")))&&et(n[r],{strict:!1}))())return o}}const Cn="/docs/contract/decodeFunctionResult";function Ln(e){const{abi:t,args:n,functionName:r,data:s}=e;let a=t[0];if(r){const e=zn({abi:t,args:n,name:r});if(!e)throw new S(r,{docsPath:Cn});a=e}if("function"!==a.type)throw new S(void 0,{docsPath:Cn});if(!a.outputs)throw new F(a.name,{docsPath:Cn});const o=At(a.outputs,s);return o&&o.length>1?o:o&&1===o.length?o[0]:void 0}const Rn="/docs/contract/encodeFunctionData";function Mn(e){const{args:t}=e,{abi:n,functionName:r}=1===e.abi.length&&e.functionName?.startsWith("0x")?e:function(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const e=zn({abi:t,args:n,name:r});if(!e)throw new S(r,{docsPath:Rn});s=e}if("function"!==s.type)throw new S(void 0,{docsPath:Rn});return{abi:[s],functionName:On(l(s))}}(e),s=n[0];return gt([r,("inputs"in s&&s.inputs?xt(s.inputs,t??[]):void 0)??"0x"])}class Un extends g{constructor({blockNumber:e,chain:t,contract:n}){super(`Chain "${t.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class jn extends g{constructor({chain:e,currentChainId:t}){super(`The current chain of the wallet (id: ${t}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${t}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class _n extends g{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join("\n"),{name:"ChainNotFoundError"})}}class qn extends g{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function Gn({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new Un({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Un({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Dn(e){return"string"==typeof e?{address:e,type:"json-rpc"}:e}const Hn={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Vn={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Wn={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function Zn(e){const{abi:t,data:n}=e,r=ut(n,0,4);if("0x"===r)throw new E;const s=[...t||[],Vn,Wn].find(e=>"error"===e.type&&r===On(l(e)));if(!s)throw new N(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?At(s.inputs,ut(n,4)):void 0,errorName:s.name}}const Yn=(e,t,n)=>JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString():t,n);function Kn({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((e,n)=>`${r&&e.name?`${e.name}: `:""}${"object"==typeof t[n]?Yn(t[n]):t[n]}`).join(", ")})`}const Jn={gwei:9,wei:18},Xn={ether:-9,wei:9};function Qn(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,a]=[n.slice(0,n.length-t),n.slice(n.length-t)];return a=a.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${a?`.${a}`:""}`}function er(e,t="wei"){return Qn(e,Jn[t])}function tr(e,t="wei"){return Qn(e,Xn[t])}class nr extends g{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class rr extends g{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function sr(e){return e.reduce((e,{slot:t,value:n})=>`${e}        ${t}: ${n}\n`,"")}function ar(e){const t=Object.entries(e).map(([e,t])=>void 0===t||!1===t?null:[e,t]).filter(Boolean),n=t.reduce((e,[t])=>Math.max(e,t.length),0);return t.map(([e,t])=>`  ${`${e}:`.padEnd(n+1)}  ${t}`).join("\n")}class or extends g{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join("\n"),{name:"FeeConflictError"})}}class ir extends g{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",ar(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class cr extends g{constructor(e,{account:t,docsPath:n,chain:r,data:s,gas:a,gasPrice:o,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:u,to:d,value:l}){const f=ar({chain:r&&`${r?.name} (id: ${r?.id})`,from:t?.address,to:d,value:void 0!==l&&`${er(l)} ${r?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:void 0!==o&&`${tr(o)} gwei`,maxFeePerGas:void 0!==i&&`${tr(i)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${tr(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",f].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class ur extends g{constructor({blockHash:e,blockNumber:t,blockTag:n,hash:r,index:s}){let a="Transaction";n&&void 0!==s&&(a=`Transaction at block time "${n}" at index "${s}"`),e&&void 0!==s&&(a=`Transaction at block hash "${e}" at index "${s}"`),t&&void 0!==s&&(a=`Transaction at block number "${t}" at index "${s}"`),r&&(a=`Transaction with hash "${r}"`),super(`${a} could not be found.`,{name:"TransactionNotFoundError"})}}class dr extends g{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class lr extends g{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}class fr extends g{constructor(e,{account:t,docsPath:n,chain:r,data:s,gas:a,gasPrice:o,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:u,to:d,value:l,stateOverride:f}){const p=t?Dn(t):void 0;let h=ar({from:p?.address,to:d,value:void 0!==l&&`${er(l)} ${r?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:void 0!==o&&`${tr(o)} gwei`,maxFeePerGas:void 0!==i&&`${tr(i)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${tr(c)} gwei`,nonce:u});f&&(h+=`\n${function(e){return e.reduce((e,{address:t,...n})=>{let r=`${e}    ${t}:\n`;return n.nonce&&(r+=`      nonce: ${n.nonce}\n`),n.balance&&(r+=`      balance: ${n.balance}\n`),n.code&&(r+=`      code: ${n.code}\n`),n.state&&(r+="      state:\n",r+=sr(n.state)),n.stateDiff&&(r+="      stateDiff:\n",r+=sr(n.stateDiff)),r},"  State Override:\n").slice(0,-1)}(f)}`),super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",h].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class pr extends g{constructor(e,{abi:t,args:n,contractAddress:r,docsPath:s,functionName:a,sender:o}){const i=zn({abi:t,args:n,name:a}),c=i?Kn({abiItem:i,args:n,includeFunctionName:!1,includeName:!1}):void 0,u=ar({address:r&&r,function:i?l(i,{includeName:!0}):void 0,args:c&&"()"!==c&&`${[...Array(a?.length??0).keys()].map(()=>" ").join("")}${c}`,sender:o});super(e.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],u&&"Contract Call:",u].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=t,this.args=n,this.cause=e,this.contractAddress=r,this.functionName=a,this.sender=o}}class hr extends g{constructor({abi:e,data:t,functionName:n,message:r}){let s,a,o,i,c;if(t&&"0x"!==t)try{a=Zn({abi:e,data:t});const{abiItem:n,errorName:r,args:s}=a;if("Error"===r)i=s[0];else if("Panic"===r){const[e]=s;i=Hn[e]}else{const e=n?l(n,{includeName:!0}):void 0,t=n&&s?Kn({abiItem:n,args:s,includeFunctionName:!1,includeName:!1}):void 0;o=[e?`Error: ${e}`:"",t&&"()"!==t?`       ${[...Array(r?.length??0).keys()].map(()=>" ").join("")}${t}`:""]}}catch(e){s=e}else r&&(i=r);s instanceof N&&(c=s.signature,o=[`Unable to decode signature "${c}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${c}.`]),super(i&&"execution reverted"!==i||c?[`The contract function "${n}" reverted with the following ${c?"signature":"reason"}:`,i||c].join("\n"):`The contract function "${n}" reverted.`,{cause:s,metaMessages:o,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.raw=t,this.reason=i,this.signature=c}}class br extends g{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class mr extends g{constructor({factory:e}){super("Deployment for counterfactual contract call failed"+(e?` for factory "${e}".`:""),{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class yr extends g{constructor({data:e,message:t}){super(t||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function gr(e){if(!(e instanceof g))return!1;const t=e.walk(e=>e instanceof hr);return t instanceof hr&&("HttpError"===t.data?.errorName||("ResolverError"===t.data?.errorName||("ResolverNotContract"===t.data?.errorName||("ResolverNotFound"===t.data?.errorName||("ReverseAddressMismatch"===t.data?.errorName||"UnsupportedResolverProfile"===t.data?.errorName)))))}const wr="/docs/contract/encodeErrorResult";function vr(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const e=zn({abi:t,args:r,name:n});if(!e)throw new $(n,{docsPath:wr});s=e}if("error"!==s.type)throw new $(void 0,{docsPath:wr});const a=l(s),o=On(a);let i="0x";if(r&&r.length>0){if(!s.inputs)throw new B(s.name,{docsPath:wr});i=xt(s.inputs,r)}return gt([o,i])}const xr="/docs/contract/encodeFunctionResult";const Pr="x-batch-gateway:true";async function Er(e){const{data:t,ccipRequest:n}=e,{args:[s]}=function(e){const{abi:t,data:n}=e,r=ut(n,0,4),s=t.find(e=>"function"===e.type&&r===On(l(e)));if(!s)throw new C(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?At(s.inputs,ut(n,4)):void 0}}({abi:r,data:t}),a=[],o=[];return await Promise.all(s.map(async(e,t)=>{try{o[t]=e.urls.includes(Pr)?await Er({data:e.data,ccipRequest:n}):await n(e),a[t]=!1}catch(e){a[t]=!0,o[t]="HttpRequestError"===(s=e).name&&s.status?vr({abi:r,errorName:"HttpError",args:[s.status,s.shortMessage]}):vr({abi:[Vn],errorName:"Error",args:["shortMessage"in s?s.shortMessage:s.message]})}var s})),function(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const e=zn({abi:t,name:n});if(!e)throw new S(n,{docsPath:xr});s=e}if("function"!==s.type)throw new S(void 0,{docsPath:xr});if(!s.outputs)throw new F(s.name,{docsPath:xr});const a=(()=>{if(0===s.outputs.length)return[];if(1===s.outputs.length)return[r];if(Array.isArray(r))return r;throw new q(r)})();return xt(s.outputs,a)}({abi:r,functionName:"query",result:[a,o]})}function Ir(e){if(66!==e.length)return null;if(0!==e.indexOf("["))return null;if(65!==e.indexOf("]"))return null;const t=`0x${e.slice(1,65)}`;return p(t)?t:null}function Ar(e){let t=new Uint8Array(32).fill(0);if(!e)return ie(t);const n=e.split(".");for(let e=n.length-1;e>=0;e-=1){const r=Ir(n[e]),s=r?fe(r):Ke(me(n[e]),"bytes");t=Ke(yt([t,s]),"bytes")}return ie(t)}function kr(e){return`[${e.slice(2)}]`}function Br(e){const t=new Uint8Array(32).fill(0);return e?Ir(e)||Ke(me(e)):ie(t)}function $r(e){const t=e.replace(/^\.|\.$/gm,"");if(0===t.length)return new Uint8Array(1);const n=new Uint8Array(me(t).byteLength+2);let r=0;const s=t.split(".");for(let e=0;e<s.length;e++){let t=me(s[e]);t.byteLength>255&&(t=me(kr(Br(s[e])))),n[r]=t.length,n.set(t,r+1),r+=t.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}function Nr(e,t,n){const r=e[t.name];if("function"==typeof r)return r;const s=e[n];return"function"==typeof s?s:n=>t(e,n)}class Tr extends g{constructor({body:e,cause:t,details:n,headers:r,status:s,url:a}){super("HTTP request failed.",{cause:t,details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${a}`,e&&`Request body: ${Yn(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=r,this.status=s,this.url=a}}class Or extends g{constructor({body:e,error:t,url:n}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${n}`,`Request body: ${Yn(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data}}class zr extends g{constructor(e,{code:t,docsPath:n,metaMessages:r,name:s,shortMessage:a}){super(a,{cause:e,docsPath:n,metaMessages:r||e?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof Or?e.code:t??-1}}class Sr extends zr{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class Fr extends zr{constructor(e){super(e,{code:Fr.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Fr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Cr extends zr{constructor(e){super(e,{code:Cr.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join("\n")})}}Object.defineProperty(Cr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Lr extends Sr{constructor(e){super(e,{code:Lr.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Lr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Rr extends Sr{constructor(e){super(e,{code:Rr.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Rr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});const Mr=3;function Ur(e,{abi:t,address:n,args:r,docsPath:s,functionName:a,sender:o}){const i=e instanceof yr?e:e instanceof g?e.walk(e=>"data"in e)||e.walk():{},{code:c,data:u,details:d,message:l,shortMessage:f}=i,p=e instanceof E?new br({functionName:a}):[Mr,Fr.code].includes(c)&&(u||d||l||f)?new hr({abi:t,data:"object"==typeof u?u.data:u,functionName:a,message:i instanceof Or?d:f??l}):e;return new pr(p,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:a,sender:o})}class jr extends Error{constructor(e,t={}){const n=(()=>{if(t.cause instanceof jr){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"==typeof t.cause.details?t.cause.details:t.cause?.message?t.cause.message:t.details})(),r=t.cause instanceof jr&&t.cause.docsPath||t.docsPath,s=`https://oxlib.sh${r??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...n||r?["",n?`Details: ${n}`:void 0,r?`See: ${s}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=n,this.docs=s,this.docsPath=r,this.shortMessage=e}walk(e){return _r(this,e)}}function _r(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e&&e.cause?_r(e.cause,t):t?null:e}function qr(e,t){if(as(e)>t)throw new ps({givenSize:as(e),maxSize:t})}const Gr=48,Dr=57,Hr=65,Vr=70,Wr=97,Zr=102;function Yr(e){return e>=Gr&&e<=Dr?e-Gr:e>=Hr&&e<=Vr?e-(Hr-10):e>=Wr&&e<=Zr?e-(Wr-10):void 0}function Kr(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let e=0;e<r.length-1&&"0"===r["left"===n?e:r.length-e-1].toString();e++)s++;return r="left"===n?r.slice(s):r.slice(0,r.length-s),r}function Jr(e,t){if(As(e)>t)throw new zs({givenSize:As(e),maxSize:t})}function Xr(e,t={}){const{dir:n,size:r=32}=t;if(0===r)return e;const s=e.replace("0x","");if(s.length>2*r)throw new Fs({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s["right"===n?"padEnd":"padStart"](2*r,"0")}`}function Qr(e,t,n){return JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString()+"#__bigint":t,n)}const es=new TextDecoder,ts=new TextEncoder;function ns(e){return e instanceof Uint8Array?e:"string"==typeof e?rs(e):function(e){return e instanceof Uint8Array?e:new Uint8Array(e)}(e)}function rs(e,t={}){const{size:n}=t;let r=e;n&&(Jr(e,n),r=Es(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const a=s.length/2,o=new Uint8Array(a);for(let e=0,t=0;e<a;e++){const n=Yr(s.charCodeAt(t++)),r=Yr(s.charCodeAt(t++));if(void 0===n||void 0===r)throw new jr(`Invalid byte sequence ("${s[t-2]}${s[t-1]}" in "${s}").`);o[e]=16*n+r}return o}function ss(e,t={}){const{size:n}=t,r=ts.encode(e);return"number"==typeof n?(qr(r,n),function(e,t){return function(e,t={}){const{dir:n,size:r=32}=t;if(0===r)return e;if(e.length>r)throw new hs({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let t=0;t<r;t++){const a="right"===n;s[a?t:r-t-1]=e[a?t:e.length-t-1]}return s}(e,{dir:"right",size:t})}(r,n)):r}function as(e){return e.length}function os(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function is(e,t={}){const{size:n}=t;void 0!==n&&qr(e,n);return ks(ws(e,t),t)}function cs(e,t={}){const{size:n}=t;let r=e;if(void 0!==n&&(qr(r,n),r=ls(r)),r.length>1||r[0]>1)throw new fs(r);return Boolean(r[0])}function us(e,t={}){const{size:n}=t;void 0!==n&&qr(e,n);return Bs(ws(e,t),t)}function ds(e,t={}){const{size:n}=t;let r=e;return void 0!==n&&(qr(r,n),r=Kr(r,{dir:"right"})),es.decode(r)}function ls(e){return Kr(e,{dir:"left"})}class fs extends jr{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let ps=class extends jr{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},hs=class extends jr{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const bs=new TextEncoder,ms=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ys(...e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}function gs(e,t={}){const n=`0x${Number(e)}`;return"number"==typeof t.size?(Jr(n,t.size),Ps(n,t.size)):n}function ws(e,t={}){let n="";for(let t=0;t<e.length;t++)n+=ms[e[t]];const r=`0x${n}`;return"number"==typeof t.size?(Jr(r,t.size),Es(r,t.size)):r}function vs(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let a;r?a=n?(1n<<8n*BigInt(r)-1n)-1n:2n**(8n*BigInt(r))-1n:"number"==typeof e&&(a=BigInt(Number.MAX_SAFE_INTEGER));const o="bigint"==typeof a&&n?-a-1n:0;if(a&&s>a||s<o){const t="bigint"==typeof e?"n":"";throw new Ns({max:a?`${a}${t}`:void 0,min:`${o}${t}`,signed:n,size:r,value:`${e}${t}`})}const i=`0x${(n&&s<0?(1n<<BigInt(8*r))+BigInt(s):s).toString(16)}`;return r?Ps(i,r):i}function xs(e,t={}){return ws(bs.encode(e),t)}function Ps(e,t){return Xr(e,{dir:"left",size:t})}function Es(e,t){return Xr(e,{dir:"right",size:t})}function Is(e,t,n,r={}){const{strict:s}=r;!function(e,t){if("number"==typeof t&&t>0&&t>As(e)-1)throw new Ss({offset:t,position:"start",size:As(e)})}(e,t);const a=`0x${e.replace("0x","").slice(2*(t??0),2*(n??e.length))}`;return s&&function(e,t,n){if("number"==typeof t&&"number"==typeof n&&As(e)!==n-t)throw new Ss({offset:n,position:"end",size:As(e)})}(a,t,n),a}function As(e){return Math.ceil((e.length-2)/2)}function ks(e,t={}){const{signed:n}=t;t.size&&Jr(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,a=(1n<<8n*BigInt(s))-1n;return r<=a>>1n?r:r-a-1n}function Bs(e,t={}){const{signed:n,size:r}=t;return Number(n||r?ks(e,t):e)}function $s(e,t={}){const{strict:n=!1}=t;try{return function(e,t={}){const{strict:n=!1}=t;if(!e)throw new Ts(e);if("string"!=typeof e)throw new Ts(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new Os(e);if(!e.startsWith("0x"))throw new Os(e)}(e,{strict:n}),!0}catch{return!1}}class Ns extends jr{constructor({max:e,min:t,signed:n,size:r,value:s}){super(`Number \`${s}\` is not in safe${r?` ${8*r}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Ts extends jr{constructor(e){super(`Value \`${"object"==typeof e?Qr(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class Os extends jr{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class zs extends jr{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Ss extends jr{constructor({offset:e,position:t,size:n}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class Fs extends jr{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function Cs(e){return{address:e.address,amount:vs(e.amount),index:vs(e.index),validatorIndex:vs(e.validatorIndex)}}function Ls(e){return{..."bigint"==typeof e.baseFeePerGas&&{baseFeePerGas:vs(e.baseFeePerGas)},..."bigint"==typeof e.blobBaseFee&&{blobBaseFee:vs(e.blobBaseFee)},..."string"==typeof e.feeRecipient&&{feeRecipient:e.feeRecipient},..."bigint"==typeof e.gasLimit&&{gasLimit:vs(e.gasLimit)},..."bigint"==typeof e.number&&{number:vs(e.number)},..."bigint"==typeof e.prevRandao&&{prevRandao:vs(e.prevRandao)},..."bigint"==typeof e.time&&{time:vs(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(Cs)}}}const Rs="0x82ad56cb",Ms="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Us="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",js="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",_s="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033",qs="/docs/contract/encodeDeployData";function Gs(e){const{abi:t,args:n,bytecode:r}=e;if(!n||0===n.length)return r;const s=t.find(e=>"type"in e&&"constructor"===e.type);if(!s)throw new v({docsPath:qs});if(!("inputs"in s))throw new x({docsPath:qs});if(!s.inputs||0===s.inputs.length)throw new x({docsPath:qs});return gt([r,xt(s.inputs,n)])}class Ds extends g{constructor({cause:e,message:t}={}){const n=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Ds,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(Ds,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Hs extends g{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${tr(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(Hs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Vs extends g{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${tr(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(Vs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Ws extends g{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(Ws,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Zs extends g{constructor({cause:e,nonce:t}={}){super([`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join("\n"),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(Zs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Ys extends g{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(Ys,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Ks extends g{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join("\n"),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Ks,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Js extends g{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Js,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Xs extends g{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Xs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Qs extends g{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Qs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class ea extends g{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${tr(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${tr(n)} gwei`:""}).`].join("\n"),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(ea,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class ta extends g{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function na(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof g?e.walk(e=>e?.code===Ds.code):e;return r instanceof g?new Ds({cause:e,message:r.details}):Ds.nodeMessage.test(n)?new Ds({cause:e,message:e.details}):Hs.nodeMessage.test(n)?new Hs({cause:e,maxFeePerGas:t?.maxFeePerGas}):Vs.nodeMessage.test(n)?new Vs({cause:e,maxFeePerGas:t?.maxFeePerGas}):Ws.nodeMessage.test(n)?new Ws({cause:e,nonce:t?.nonce}):Zs.nodeMessage.test(n)?new Zs({cause:e,nonce:t?.nonce}):Ys.nodeMessage.test(n)?new Ys({cause:e,nonce:t?.nonce}):Ks.nodeMessage.test(n)?new Ks({cause:e}):Js.nodeMessage.test(n)?new Js({cause:e,gas:t?.gas}):Xs.nodeMessage.test(n)?new Xs({cause:e,gas:t?.gas}):Qs.nodeMessage.test(n)?new Qs({cause:e}):ea.nodeMessage.test(n)?new ea({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new ta({cause:e})}function ra(e,{docsPath:t,...n}){const r=(()=>{const t=na(e,n);return t instanceof ta?e:t})();return new fr(r,{docsPath:t,...n})}function sa(e,{format:t}){if(!t)return{};const n={};return function t(r){const s=Object.keys(r);for(const a of s)a in e&&(n[a]=e[a]),r[a]&&"object"==typeof r[a]&&!Array.isArray(r[a])&&t(r[a])}(t(e||{})),n}const aa={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function oa(e,t){const n={};return void 0!==e.authorizationList&&(n.authorizationList=e.authorizationList.map(e=>({address:e.address,r:e.r?ce(BigInt(e.r)):e.r,s:e.s?ce(BigInt(e.s)):e.s,chainId:ce(e.chainId),nonce:ce(e.nonce),...void 0!==e.yParity?{yParity:ce(e.yParity)}:{},...void 0!==e.v&&void 0===e.yParity?{v:ce(e.v)}:{}}))),void 0!==e.accessList&&(n.accessList=e.accessList),void 0!==e.blobVersionedHashes&&(n.blobVersionedHashes=e.blobVersionedHashes),void 0!==e.blobs&&("string"!=typeof e.blobs[0]?n.blobs=e.blobs.map(e=>ie(e)):n.blobs=e.blobs),void 0!==e.data&&(n.data=e.data),e.account&&(n.from=e.account.address),void 0!==e.from&&(n.from=e.from),void 0!==e.gas&&(n.gas=ce(e.gas)),void 0!==e.gasPrice&&(n.gasPrice=ce(e.gasPrice)),void 0!==e.maxFeePerBlobGas&&(n.maxFeePerBlobGas=ce(e.maxFeePerBlobGas)),void 0!==e.maxFeePerGas&&(n.maxFeePerGas=ce(e.maxFeePerGas)),void 0!==e.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=ce(e.maxPriorityFeePerGas)),void 0!==e.nonce&&(n.nonce=ce(e.nonce)),void 0!==e.to&&(n.to=e.to),void 0!==e.type&&(n.type=aa[e.type]),void 0!==e.value&&(n.value=ce(e.value)),n}function ia(){let e=()=>{},t=()=>{};return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}}const ca=new Map;function ua(e){if(e&&0!==e.length)return e.reduce((e,{slot:t,value:n})=>{if(66!==t.length)throw new W({size:t.length,targetSize:66,type:"hex"});if(66!==n.length)throw new W({size:n.length,targetSize:66,type:"hex"});return e[t]=n,e},{})}function da(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:a}=e,o={};if(void 0!==a&&(o.code=a),void 0!==t&&(o.balance=ce(t)),void 0!==n&&(o.nonce=ce(n)),void 0!==r&&(o.state=ua(r)),void 0!==s){if(o.state)throw new rr;o.stateDiff=ua(s)}return o}function la(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!et(n,{strict:!1}))throw new D({address:n});if(t[n])throw new nr({address:n});t[n]=da(r)}return t}const fa=2n**256n-1n;function pa(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:a}=e,o=t?Dn(t):void 0;if(o&&!et(o.address))throw new D({address:o.address});if(a&&!et(a))throw new D({address:a});if(void 0!==n&&(void 0!==r||void 0!==s))throw new or;if(r&&r>fa)throw new Hs({maxFeePerGas:r});if(s&&r&&s>r)throw new ea({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function ha(e,t){const{account:r=e.account,authorizationList:s,batch:a=Boolean(e.batch?.multicall),blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",accessList:c,blobs:u,blockOverrides:d,code:l,data:f,factory:p,factoryData:h,gas:b,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:x,to:P,value:E,stateOverride:I,...A}=t,k=r?Dn(r):void 0;if(l&&(p||h))throw new g("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(l&&P)throw new g("Cannot provide both `code` & `to` as parameters.");const B=l&&f,$=p&&h&&P&&f,N=B||$,T=B?ba({code:l,data:f}):$?function(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Gs({abi:An(["constructor(address, bytes, address, bytes)"]),bytecode:Us,args:[s,t,n,r]})}({data:f,factory:p,factoryData:h,to:P}):f;try{pa(t);const r=("bigint"==typeof o?ce(o):void 0)||i,l=d?Ls(d):void 0,f=la(I),p=e.chain?.formatters?.transactionRequest?.format,h=(p||oa)({...sa(A,{format:p}),accessList:c,account:k,authorizationList:s,blobs:u,data:T,gas:b,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:x,to:N?void 0:P,value:E},"call");if(a&&function({request:e}){const{data:t,to:n,...r}=e;return!!t&&(!t.startsWith(Rs)&&(!!n&&!(Object.values(r).filter(e=>void 0!==e).length>0)))}({request:h})&&!f&&!l)try{return await async function(e,t){const{batchSize:r=1024,deployless:s=!1,wait:a=0}="object"==typeof e.batch?.multicall?e.batch.multicall:{},{blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",data:c,to:u}=t,d=(()=>{if(s)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return Gn({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new qn})(),l="bigint"==typeof o?ce(o):void 0,f=l||i,{schedule:p}=function({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const a=async()=>{const t=i();o();const n=t.map(({args:e})=>e);0!==n.length&&e(n).then(e=>{s&&Array.isArray(e)&&e.sort(s);for(let n=0;n<t.length;n++){const{resolve:r}=t[n];r?.([e[n],e])}}).catch(e=>{for(let n=0;n<t.length;n++){const{reject:r}=t[n];r?.(e)}})},o=()=>ca.delete(t),i=()=>ca.get(t)||[],c=e=>ca.set(t,[...i(),e]);return{flush:o,async schedule(e){const{promise:t,resolve:s,reject:o}=ia(),u=n?.([...i().map(({args:e})=>e),e]);return u&&a(),i().length>0?(c({args:e,resolve:s,reject:o}),t):(c({args:e,resolve:s,reject:o}),setTimeout(a,r),t)}}}({id:`${e.uid}.${f}`,wait:a,shouldSplitBatch(e){const t=e.reduce((e,{data:t})=>e+(t.length-2),0);return t>2*r},fn:async t=>{const r=t.map(e=>({allowFailure:!0,callData:e.data,target:e.to})),s=Mn({abi:n,args:[r],functionName:"aggregate3"}),a=await e.request({method:"eth_call",params:[{...null===d?{data:ba({code:_s,data:s})}:{to:d,data:s}},f]});return Ln({abi:n,args:[r],functionName:"aggregate3",data:a||"0x"})}}),[{returnData:h,success:b}]=await p({data:c,to:u});if(!b)throw new yr({data:h});return"0x"===h?{data:void 0}:{data:h}}(e,{...h,blockNumber:o,blockTag:i})}catch(e){if(!(e instanceof qn||e instanceof Un))throw e}const g=(()=>{const e=[h,r];return f&&l?[...e,f,l]:f?[...e,f]:l?[...e,{},l]:e})(),B=await e.request({method:"eth_call",params:g});return"0x"===B?{data:void 0}:{data:B}}catch(n){const r=function(e){if(!(e instanceof g))return;const t=e.walk();return"object"==typeof t?.data?t.data?.data:t.data}(n),{offchainLookup:s,offchainLookupSignature:a}=await Promise.resolve().then(function(){return Qo});if(!1!==e.ccipRead&&r?.slice(0,10)===a&&P)return{data:await s(e,{data:r,to:P})};if(N&&"0x101bb98d"===r?.slice(0,10))throw new mr({factory:p});throw ra(n,{...t,account:k,chain:e.chain})}}function ba(e){const{code:t,data:n}=e;return Gs({abi:An(["constructor(bytes, bytes)"]),bytecode:Ms,args:[t,n]})}async function ma(e,t){const{abi:n,address:r,args:s,functionName:a,...o}=t,i=Mn({abi:n,args:s,functionName:a});try{const{data:t}=await Nr(e,ha,"call")({...o,data:i,to:r});return Ln({abi:n,args:s,functionName:a,data:t||"0x"})}catch(e){throw Ur(e,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:a})}}class ya extends g{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class ga extends g{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class wa extends g{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class va extends g{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const xa=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Pa=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Ea=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Ia=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;function Aa(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function ka({uri:e,gatewayUrls:t}){const n=Ea.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Aa(t?.ipfs,"https://ipfs.io"),s=Aa(t?.arweave,"https://arweave.net"),a=e.match(xa),{protocol:o,subpath:i,target:c,subtarget:u=""}=a?.groups||{},d="ipns:/"===o||"ipns/"===i,l="ipfs:/"===o||"ipfs/"===i||Pa.test(e);if(e.startsWith("http")&&!d&&!l){let n=e;return t?.arweave&&(n=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:n,isOnChain:!1,isEncoded:!1}}if((d||l)&&c)return{uri:`${r}/${d?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if("ar:/"===o&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let f=e.replace(Ia,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new wa({uri:e})}function Ba(e){if("object"!=typeof e||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new ya({data:e});return e.image||e.image_url||e.image_data}async function $a({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=ka({uri:t,gatewayUrls:e});if(r)return n;const s=await async function(e){try{const t=await fetch(e,{method:"HEAD"});if(200===t.status){const e=t.headers.get("content-type");return e?.startsWith("image/")}return!1}catch(t){return("object"!=typeof t||void 0===t.response)&&!!Object.hasOwn(globalThis,"Image")&&new Promise(t=>{const n=new Image;n.onload=()=>{t(!0)},n.onerror=()=>{t(!1)},n.src=e})}}(n);if(s)return n;throw new wa({uri:t})}async function Na(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?async function(e,{gatewayUrls:t,record:n}){const r=function(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[a,o]=n.split(":"),[i,c]=r.split(":");if(!a||"eip155"!==a.toLowerCase())throw new ga({reason:"Only EIP-155 supported"});if(!o)throw new ga({reason:"Chain ID not found"});if(!c)throw new ga({reason:"Contract address not found"});if(!s)throw new ga({reason:"Token ID not found"});if(!i)throw new ga({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:i.toLowerCase(),contractAddress:c,tokenID:s}}(n),s=await async function(e,{nft:t}){if("erc721"===t.namespace)return ma(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if("erc1155"===t.namespace)return ma(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new va({namespace:t.namespace})}(e,{nft:r}),{uri:a,isOnChain:o,isEncoded:i}=ka({uri:s,gatewayUrls:t});if(o&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const e=i?atob(a.replace("data:application/json;base64,","")):a;return $a({uri:Ba(JSON.parse(e)),gatewayUrls:t})}let c=r.tokenID;"erc1155"===r.namespace&&(c=c.replace("0x","").padStart(64,"0"));return async function({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(e=>e.json());return await $a({gatewayUrls:e,uri:Ba(n)})}catch{throw new wa({uri:t})}}({gatewayUrls:t,uri:a.replace(/(?:0x)?{id}/,c)})}(e,{gatewayUrls:t,record:n}):$a({uri:n,gatewayUrls:t})}async function Ta(e,t){const{blockNumber:n,blockTag:r,key:s,name:o,gatewayUrls:c,strict:u}=t,{chain:d}=e,l=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!d)throw new Error("client chain not configured. universalResolverAddress is required.");return Gn({blockNumber:n,chain:d,contract:"ensUniversalResolver"})})(),f=d?.ensTlds;if(f&&!f.some(e=>o.endsWith(e)))return null;try{const t={address:l,abi:a,args:[ae($r(o)),Mn({abi:i,functionName:"text",args:[Ar(o),s]}),c??[Pr]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},u=Nr(e,ma,"readContract"),d=await u(t);if("0x"===d[0])return null;const f=Ln({abi:i,functionName:"text",data:d[0]});return""===f?null:f}catch(e){if(u)throw e;if(gr(e))return null;throw e}}async function Oa(e,t){const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:a,data:o,gas:i,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:l,to:f,value:p,...h}=t,b=n?Dn(n):void 0;try{pa(t);const n=("bigint"==typeof r?ce(r):void 0)||s,m=e.chain?.formatters?.transactionRequest?.format,y=(m||oa)({...sa(h,{format:m}),account:b,blobs:a,data:o,gas:i,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:l,to:f,value:p},"createAccessList"),g=await e.request({method:"eth_createAccessList",params:[y,n]});return{accessList:g.accessList,gasUsed:BigInt(g.gasUsed)}}catch(n){throw ra(n,{...t,account:b,chain:e.chain})}}function za(e,{method:t}){const n={};return"fallback"===e.transport.type&&e.transport.onResponse?.(({method:e,response:r,status:s,transport:a})=>{"success"===s&&t===e&&(n[r]=a.request)}),t=>n[t]||e.request}class Sa extends g{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const Fa="/docs/contract/encodeEventTopics";function Ca(e){const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const e=zn({abi:t,name:n});if(!e)throw new z(n,{docsPath:Fa});s=e}if("event"!==s.type)throw new z(void 0,{docsPath:Fa});const a=l(s),o=Tn(a);let i=[];if(r&&"inputs"in s){const e=s.inputs?.filter(e=>"indexed"in e&&e.indexed),t=Array.isArray(r)?r:Object.values(r).length>0?e?.map(e=>r[e.name])??[]:[];t.length>0&&(i=e?.map((e,n)=>Array.isArray(t[n])?t[n].map((r,s)=>La({param:e,value:t[n][s]})):void 0!==t[n]&&null!==t[n]?La({param:e,value:t[n]}):null)??[])}return[o,...i]}function La({param:e,value:t}){if("string"===e.type||"bytes"===e.type)return Ke(fe(t));if("tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Sa(e.type);return xt([e],[t])}async function Ra(e,t){const{address:n,abi:r,args:s,eventName:a,fromBlock:o,strict:i,toBlock:c}=t,u=za(e,{method:"eth_newFilter"}),d=a?Ca({abi:r,args:s,eventName:a}):void 0,l=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:"bigint"==typeof o?ce(o):o,toBlock:"bigint"==typeof c?ce(c):c,topics:d}]});return{abi:r,args:s,eventName:a,id:l,request:u(l),strict:Boolean(i),type:"event"}}async function Ma(e,{address:t,args:n,event:r,events:s,fromBlock:a,strict:o,toBlock:i}={}){const c=s??(r?[r]:void 0),u=za(e,{method:"eth_newFilter"});let d=[];if(c){const e=c.flatMap(e=>Ca({abi:[e],eventName:e.name,args:n}));d=[e],r&&(d=d[0])}const l=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof a?ce(a):a,toBlock:"bigint"==typeof i?ce(i):i,...d.length?{topics:d}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:a,id:l,request:u(l),strict:Boolean(o),toBlock:i,type:"event"}}async function Ua(e){const t=za(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}function ja(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw new Error("Invalid yParityOrV value")}async function _a({hash:e,signature:t}){return n=await async function({hash:e,signature:t}){const n=p(e)?e:ae(e),{secp256k1:r}=await Promise.resolve().then(function(){return Ud});return`0x${(()=>{if("object"==typeof t&&"r"in t&&"s"in t){const{r:e,s:n,v:s,yParity:a}=t,o=ja(Number(a??s));return new r.Signature(ne(e),ne(n)).addRecoveryBit(o)}const e=p(t)?t:ae(t);if(65!==h(e))throw new Error("invalid signature length");const n=ja(re(`0x${e.slice(130)}`));return r.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(n)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}({hash:e,signature:t}),nt(`0x${Ke(`0x${n.substring(4)}`).substring(26)}`);var n}function qa(e,t="hex"){const n=Ga(e),r=ct(new Uint8Array(n.length));return n.encode(r),"hex"===t?ie(r.bytes):r.bytes}function Ga(e){return Array.isArray(e)?function(e){const t=e.reduce((e,t)=>e+t.length,0),n=Da(t);return{length:t<=55?1+t:1+n+t,encode(r){t<=55?r.pushByte(192+t):(r.pushByte(247+n),1===n?r.pushUint8(t):2===n?r.pushUint16(t):3===n?r.pushUint24(t):r.pushUint32(t));for(const{encode:t}of e)t(r)}}}(e.map(e=>Ga(e))):function(e){const t="string"==typeof e?be(e):e,n=Da(t.length),r=1===t.length&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length;return{length:r,encode(e){1===t.length&&t[0]<128?e.pushBytes(t):t.length<=55?(e.pushByte(128+t.length),e.pushBytes(t)):(e.pushByte(183+n),1===n?e.pushUint8(t.length):2===n?e.pushUint16(t.length):3===n?e.pushUint24(t.length):e.pushUint32(t.length),e.pushBytes(t))}}}(e)}function Da(e){if(e<256)return 1;if(e<65536)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new g("Length is too large.")}function Ha(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,a=Ke(gt(["0x05",qa([t?ce(t):"0x",s,n?ce(n):"0x"])]));return"bytes"===r?be(a):a}async function Va(e){const{authorization:t,signature:n}=e;return _a({hash:Ha(t),signature:n??t})}class Wa extends g{constructor(e,{account:t,docsPath:n,chain:r,data:s,gas:a,gasPrice:o,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:u,to:d,value:l}){const f=ar({from:t?.address,to:d,value:void 0!==l&&`${er(l)} ${r?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:void 0!==o&&`${tr(o)} gwei`,maxFeePerGas:void 0!==i&&`${tr(i)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${tr(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",f].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Za extends g{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Ya extends g{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Ka extends g{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${tr(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Ja extends g{constructor({blockHash:e,blockNumber:t}){let n="Block";e&&(n=`Block at hash "${e}"`),t&&(n=`Block at number "${t}"`),super(`${n} could not be found.`,{name:"BlockNotFoundError"})}}const Xa={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Qa(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?re(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?re(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Xa[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=e.authorizationList.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof n.v){if(0n===n.v||27n===n.v)return 0;if(1n===n.v||28n===n.v)return 1;if(n.v>=35n)return n.v%2n==0n?1:0}})(),"legacy"===n.type&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),"eip2930"===n.type&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),"eip1559"===n.type&&delete n.maxFeePerBlobGas,n}function eo(e,t){const n=(e.transactions??[]).map(e=>"string"==typeof e?e:Qa(e));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function to(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){const a=s??!1,o=void 0!==n?ce(n):void 0;let i=null;if(i=t?await e.request({method:"eth_getBlockByHash",params:[t,a]},{dedupe:!0}):await e.request({method:"eth_getBlockByNumber",params:[o||r,a]},{dedupe:Boolean(o)}),!i)throw new Ja({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||eo)(i,"getBlock")}async function no(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function ro(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const t=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if("function"==typeof t){const r=n||await Nr(e,to,"getBlock")({}),a=await t({block:r,client:e,request:s});if(null===a)throw new Error;return a}if(void 0!==t)return t;return ne(await e.request({method:"eth_maxPriorityFeePerGas"}))}catch{const[t,r]=await Promise.all([n?Promise.resolve(n):Nr(e,to,"getBlock")({}),Nr(e,no,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new Ya;const s=r-t.baseFeePerGas;return s<0n?0n:s}}async function so(e,t){const{block:n,chain:r=e.chain,request:s,type:a="eip1559"}=t||{},o=await(async()=>"function"==typeof r?.fees?.baseFeeMultiplier?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(o<1)throw new Za;const i=10**(o.toString().split(".")[1]?.length??0),c=e=>e*BigInt(Math.ceil(o*i))/BigInt(i),u=n||await Nr(e,to,"getBlock")({});if("function"==typeof r?.fees?.estimateFeesPerGas){const t=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:c,request:s,type:a});if(null!==t)return t}if("eip1559"===a){if("bigint"!=typeof u.baseFeePerGas)throw new Ya;const t="bigint"==typeof s?.maxPriorityFeePerGas?s.maxPriorityFeePerGas:await ro(e,{block:u,chain:r,request:s}),n=c(u.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??n+t,maxPriorityFeePerGas:t}}return{gasPrice:s?.gasPrice??c(await Nr(e,no,"getGasPrice")({}))}}async function ao(e,{address:t,blockTag:n="latest",blockNumber:r}){return re(await e.request({method:"eth_getTransactionCount",params:[t,"bigint"==typeof r?ce(r):n]},{dedupe:Boolean(r)}))}function oo(e){const{kzg:t}=e,n=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),r="string"==typeof e.blobs[0]?e.blobs.map(e=>be(e)):e.blobs,s=[];for(const e of r)s.push(Uint8Array.from(t.blobToKzgCommitment(e)));return"bytes"===n?s:s.map(e=>ie(e))}function io(e){const{kzg:t}=e,n=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),r="string"==typeof e.blobs[0]?e.blobs.map(e=>be(e)):e.blobs,s="string"==typeof e.commitments[0]?e.commitments.map(e=>be(e)):e.commitments,a=[];for(let e=0;e<r.length;e++){const n=r[e],o=s[e];a.push(Uint8Array.from(t.computeBlobKzgProof(n,o)))}return"bytes"===n?a:a.map(e=>ie(e))}function co(e,t,n){return e&t^~e&n}function uo(e,t,n){return e&t^e&n^t&n}class lo extends Oe{constructor(e,t,n,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.buffer=new Uint8Array(e),this.view=ke(this.buffer)}update(e){Ee(this),Pe(e=Te(e));const{view:t,buffer:n,blockLen:r}=this,s=e.length;for(let a=0;a<s;){const o=Math.min(r-this.pos,s-a);if(o===r){const t=ke(e);for(;r<=s-a;a+=r)this.process(t,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ee(this),Ie(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:s}=this;let{pos:a}=this;t[a++]=128,Ae(this.buffer.subarray(a)),this.padOffset>r-a&&(this.process(n,0),a=0);for(let e=a;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const s=BigInt(32),a=BigInt(4294967295),o=Number(n>>s&a),i=Number(n&a),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,i,r)}(n,r-8,BigInt(8*this.length),s),this.process(n,0);const o=ke(e),i=this.outputLen;if(i%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=i/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)o.setUint32(4*e,u[e],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:s,destroyed:a,pos:o}=this;return e.destroyed=a,e.finished=s,e.length=r,e.pos=o,r%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const fo=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),po=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ho=new Uint32Array(64);class bo extends lo{constructor(e=32){super(64,e,8,!1),this.A=0|fo[0],this.B=0|fo[1],this.C=0|fo[2],this.D=0|fo[3],this.E=0|fo[4],this.F=0|fo[5],this.G=0|fo[6],this.H=0|fo[7]}get(){const{A:e,B:t,C:n,D:r,E:s,F:a,G:o,H:i}=this;return[e,t,n,r,s,a,o,i]}set(e,t,n,r,s,a,o,i){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|s,this.F=0|a,this.G=0|o,this.H=0|i}process(e,t){for(let n=0;n<16;n++,t+=4)ho[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=ho[e-15],n=ho[e-2],r=Be(t,7)^Be(t,18)^t>>>3,s=Be(n,17)^Be(n,19)^n>>>10;ho[e]=s+ho[e-7]+r+ho[e-16]|0}let{A:n,B:r,C:s,D:a,E:o,F:i,G:c,H:u}=this;for(let e=0;e<64;e++){const t=u+(Be(o,6)^Be(o,11)^Be(o,25))+co(o,i,c)+po[e]+ho[e]|0,d=(Be(n,2)^Be(n,13)^Be(n,22))+uo(n,r,s)|0;u=c,c=i,i=o,o=a+t|0,a=s,s=r,r=n,n=t+d|0}n=n+this.A|0,r=r+this.B|0,s=s+this.C|0,a=a+this.D|0,o=o+this.E|0,i=i+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,r,s,a,o,i,c,u)}roundClean(){Ae(ho)}destroy(){this.set(0,0,0,0,0,0,0,0),Ae(this.buffer)}}const mo=ze(()=>new bo),yo=mo;function go(e){const{commitment:t,version:n=1}=e,r=e.to??("string"==typeof t?"hex":"bytes"),s=yo(p(a=t,{strict:!1})?fe(a):a);var a;return s.set([n],0),"bytes"===r?s:ie(s)}const wo=4096,vo=131072,xo=761855;class Po extends g{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}}class Eo extends g{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function Io(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??function(e){const t="string"==typeof e.data?be(e.data):e.data,n=h(t);if(!n)throw new Eo;if(n>xo)throw new Po({maxSize:xo,size:n});const r=[];let s=!0,a=0;for(;s;){const e=ct(new Uint8Array(vo));let n=0;for(;n<wo;){const r=t.slice(a,a+31);if(e.pushByte(0),e.pushBytes(r),r.length<31){e.pushByte(128),s=!1;break}n++,a+=31}r.push(e)}return r.map(e=>ie(e.bytes))}({data:t}),a=e.commitments??oo({blobs:s,kzg:n,to:r}),o=e.proofs??io({blobs:s,commitments:a,kzg:n,to:r}),i=[];for(let e=0;e<s.length;e++)i.push({blob:s[e],commitment:a[e],proof:o[e]});return i}async function Ao(e){return re(await e.request({method:"eth_chainId"},{dedupe:!0}))}const ko=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Bo=new Map;async function $o(e,t){const{account:n=e.account,blobs:r,chain:s,gas:a,kzg:o,nonce:i,nonceManager:c,parameters:u=ko,type:d}=t,l=n?Dn(n):n,f={...t,...l?{from:l?.address}:{}};let p,h;async function b(){return p||(p=await Nr(e,to,"getBlock")({blockTag:"latest"}),p)}async function m(){if(h)return h;if(s)return s.id;if(void 0!==t.chainId)return t.chainId;const n=await Nr(e,Ao,"getChainId")({});return h=n,h}if(u.includes("nonce")&&void 0===i&&l)if(c){const t=await m();f.nonce=await c.consume({address:l.address,chainId:t,client:e})}else f.nonce=await Nr(e,ao,"getTransactionCount")({address:l.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&o){const e=oo({blobs:r,kzg:o});if(u.includes("blobVersionedHashes")){const t=function(e){const{commitments:t,version:n}=e,r=e.to,s=[];for(const e of t)s.push(go({commitment:e,to:r,version:n}));return s}({commitments:e,to:"hex"});f.blobVersionedHashes=t}if(u.includes("sidecars")){const t=Io({blobs:r,commitments:e,proofs:io({blobs:r,commitments:e,kzg:o}),to:"hex"});f.sidecars=t}}if(u.includes("chainId")&&(f.chainId=await m()),(u.includes("fees")||u.includes("type"))&&void 0===d)try{f.type=function(e){if(e.type)return e.type;if(void 0!==e.authorizationList)return"eip7702";if(void 0!==e.blobs||void 0!==e.blobVersionedHashes||void 0!==e.maxFeePerBlobGas||void 0!==e.sidecars)return"eip4844";if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new ir({transaction:e})}(f)}catch{let t=Bo.get(e.uid);if(void 0===t){const n=await b();t="bigint"==typeof n?.baseFeePerGas,Bo.set(e.uid,t)}f.type=t?"eip1559":"legacy"}if(u.includes("fees"))if("legacy"!==f.type&&"eip2930"!==f.type){if(void 0===f.maxFeePerGas||void 0===f.maxPriorityFeePerGas){const n=await b(),{maxFeePerGas:r,maxPriorityFeePerGas:a}=await so(e,{block:n,chain:s,request:f});if(void 0===t.maxPriorityFeePerGas&&t.maxFeePerGas&&t.maxFeePerGas<a)throw new Ka({maxPriorityFeePerGas:a});f.maxPriorityFeePerGas=a,f.maxFeePerGas=r}}else{if(void 0!==t.maxFeePerGas||void 0!==t.maxPriorityFeePerGas)throw new Ya;if(void 0===t.gasPrice){const t=await b(),{gasPrice:n}=await so(e,{block:t,chain:s,request:f,type:"legacy"});f.gasPrice=n}}return u.includes("gas")&&void 0===a&&(f.gas=await Nr(e,No,"estimateGas")({...f,account:l,prepare:"local"===l?.type?[]:["blobVersionedHashes"]})),pa(f),delete f.parameters,f}async function No(e,t){const{account:n=e.account,prepare:r=!0}=t,s=n?Dn(n):void 0,a=Array.isArray(r)?r:"local"!==s?.type?["blobVersionedHashes"]:void 0;try{const{accessList:n,authorizationList:o,blobs:i,blobVersionedHashes:c,blockNumber:u,blockTag:d,data:l,gas:f,gasPrice:p,maxFeePerBlobGas:h,maxFeePerGas:b,maxPriorityFeePerGas:m,nonce:y,value:w,stateOverride:v,...x}=r?await $o(e,{...t,parameters:a}):t,P=("bigint"==typeof u?ce(u):void 0)||d,E=la(v),I=await(async()=>x.to?x.to:o&&o.length>0?await Va({authorization:o[0]}).catch(()=>{throw new g("`to` is required. Could not infer from `authorizationList`")}):void 0)();pa(t);const A=e.chain?.formatters?.transactionRequest?.format,k=(A||oa)({...sa(x,{format:A}),account:s,accessList:n,authorizationList:o,blobs:i,blobVersionedHashes:c,data:l,gas:f,gasPrice:p,maxFeePerBlobGas:h,maxFeePerGas:b,maxPriorityFeePerGas:m,nonce:y,to:I,value:w},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:E?[k,P??e.experimental_blockTag??"latest",E]:P?[k,P]:[k]}))}catch(n){throw function(e,{docsPath:t,...n}){const r=(()=>{const t=na(e,n);return t instanceof ta?e:t})();return new Wa(r,{docsPath:t,...n})}(n,{...t,account:s,chain:e.chain})}}const To=new Map,Oo=new Map;async function zo(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=function(e){const t=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:n=>t.set(e,n)}),n=t(e,To),r=t(e,Oo);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}(t),s=r.response.get();if(s&&n>0){if(Date.now()-s.created.getTime()<n)return s.data}let a=r.promise.get();a||(a=e(),r.promise.set(a));try{const e=await a;return r.response.set({created:new Date,data:e}),e}finally{r.promise.clear()}}async function So(e,{cacheTime:t=e.cacheTime}={}){const n=await zo(()=>e.request({method:"eth_blockNumber"}),{cacheKey:(r=e.uid,`blockNumber.${r}`),cacheTime:t});var r;return BigInt(n)}async function Fo(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=void 0!==n?ce(n):void 0,a=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:Boolean(s)});if("0x"!==a)return a}function Co(e,t){if(!et(e,{strict:!1}))throw new D({address:e});if(!et(t,{strict:!1}))throw new D({address:t});return e.toLowerCase()===t.toLowerCase()}const Lo="/docs/contract/decodeEventLog";function Ro(e){const{abi:t,data:n,strict:r,topics:s}=e,a=r??!0,[o,...i]=s;if(!o)throw new T({docsPath:Lo});const c=t.find(e=>"event"===e.type&&o===Tn(l(e)));if(!c||!("name"in c)||"event"!==c.type)throw new O(o,{docsPath:Lo});const{name:u,inputs:d}=c,f=d?.some(e=>!("name"in e&&e.name)),p=f?[]:{},b=d.map((e,t)=>[e,t]).filter(([e])=>"indexed"in e&&e.indexed);for(let e=0;e<b.length;e++){const[t,n]=b[e],r=i[e];if(!r)throw new U({abiItem:c,param:t});p[f?n:t.name||n]=Mo({param:t,value:r})}const m=d.filter(e=>!("indexed"in e&&e.indexed));if(m.length>0)if(n&&"0x"!==n)try{const e=At(m,n);if(e)if(f)for(let t=0;t<d.length;t++)p[t]=p[t]??e.shift();else for(let t=0;t<m.length;t++)p[m[t].name]=e[t]}catch(e){if(a){if(e instanceof P||e instanceof at)throw new M({abiItem:c,data:n,params:m,size:h(n)});throw e}}else if(a)throw new M({abiItem:c,data:"0x",params:m,size:0});return{eventName:u,args:Object.values(p).length>0?p:void 0}}function Mo({param:e,value:t}){if("string"===e.type||"bytes"===e.type||"tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))return t;return(At([e],t)||[])[0]}function Uo(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,a=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(e=>{try{const r=t.find(t=>"event"===t.type&&e.topics[0]===Tn(t));if(!r)return null;const o=Ro({...e,abi:[r],strict:s});return a&&!a.includes(o.eventName)?null:function(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(e,t,n){try{return"address"===e.type?Co(t,n):"string"===e.type||"bytes"===e.type?Ke(fe(t))===n:t===n}catch{return!1}}if(Array.isArray(t)&&Array.isArray(r))return r.every((e,r)=>{if(null==e)return!0;const a=n[r];if(!a)return!1;return(Array.isArray(e)?e:[e]).some(e=>s(a,e,t[r]))});return"object"==typeof t&&!Array.isArray(t)&&"object"==typeof r&&!Array.isArray(r)&&Object.entries(r).every(([e,r])=>{if(null==r)return!0;const a=n.find(t=>t.name===e);if(!a)return!1;return(Array.isArray(r)?r:[r]).some(n=>s(a,n,t[e]))})}({args:o.args,inputs:r.inputs,matchArgs:n})?{...o,...e}:null}catch(t){let n,r;if(t instanceof O)return null;if(t instanceof M||t instanceof U){if(s)return null;n=t.abiItem.name,r=t.abiItem.inputs?.some(e=>!("name"in e&&e.name))}return{...e,args:r?[]:{},eventName:n}}}).filter(Boolean)}function jo(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function _o(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:a,events:o,args:i,strict:c}={}){const u=c??!1,d=o??(a?[a]:void 0);let l,f=[];if(d){const e=d.flatMap(e=>Ca({abi:[e],eventName:e.name,args:o?void 0:i}));f=[e],a&&(f=f[0])}l=n?await e.request({method:"eth_getLogs",params:[{address:t,topics:f,blockHash:n}]}):await e.request({method:"eth_getLogs",params:[{address:t,topics:f,fromBlock:"bigint"==typeof r?ce(r):r,toBlock:"bigint"==typeof s?ce(s):s}]});const p=l.map(e=>jo(e));return d?Uo({abi:d,args:i,logs:p,strict:u}):p}async function qo(e,t){const{abi:n,address:r,args:s,blockHash:a,eventName:o,fromBlock:i,toBlock:c,strict:u}=t,d=o?zn({abi:n,name:o}):void 0,l=d?void 0:n.filter(e=>"event"===e.type);return Nr(e,_o,"getLogs")({address:r,args:s,blockHash:a,event:d,events:l,fromBlock:i,toBlock:c,strict:u})}class Go extends g{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}const Do=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];async function Ho(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if("string"==typeof r[0])return r;const s=r.map(e=>jo(e));return"abi"in t&&t.abi?Uo({abi:t.abi,logs:s,strict:n}):s}async function Vo(e){return new Promise(t=>setTimeout(t,e))}function Wo(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,a)=>{const o=async({count:i=0}={})=>{try{const t=await e();s(t)}catch(e){if(i<n&&await r({count:i,error:e}))return(async({error:e})=>{const n="function"==typeof t?t({count:i,error:e}):t;n&&await Vo(n),o({count:i+1})})({error:e});a(e)}};o()})}class Zo extends g{constructor({callbackSelector:e,cause:t,data:n,extraData:r,sender:s,urls:a}){super(t.shortMessage||"An error occurred while fetching for an offchain result.",{cause:t,metaMessages:[...t.metaMessages||[],t.metaMessages?.length?"":[],"Offchain Gateway Call:",a&&["  Gateway URL(s):",...a.map(e=>`    ${e}`)],`  Sender: ${s}`,`  Data: ${n}`,`  Callback selector: ${e}`,`  Extra data: ${r}`].flat(),name:"OffchainLookupError"})}}class Yo extends g{constructor({result:e,url:t}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${t}`,`Response: ${Yn(e)}`],name:"OffchainLookupResponseMalformedError"})}}class Ko extends g{constructor({sender:e,to:t}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${t}`,`OffchainLookup sender address: ${e}`],name:"OffchainLookupSenderMismatchError"})}}const Jo={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function Xo({data:e,sender:t,urls:n}){let r=new Error("An unknown error occurred.");for(let s=0;s<n.length;s++){const a=n[s],o=a.includes("{data}")?"GET":"POST",i="POST"===o?{data:e,sender:t}:void 0,c="POST"===o?{"Content-Type":"application/json"}:{};try{const n=await fetch(a.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(i),headers:c,method:o});let s;if(s=n.headers.get("Content-Type")?.startsWith("application/json")?(await n.json()).data:await n.text(),!n.ok){r=new Tr({body:i,details:s?.error?Yn(s.error):n.statusText,headers:n.headers,status:n.status,url:a});continue}if(!p(s)){r=new Yo({result:s,url:a});continue}return s}catch(e){r=new Tr({body:i,details:e.message,url:a})}}throw r}var Qo=Object.freeze({__proto__:null,ccipRequest:Xo,offchainLookup:async function(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:a}=Zn({data:r,abi:[Jo]}),[o,i,c,u,d]=a,{ccipRead:l}=e,f=l&&"function"==typeof l?.request?l.request:Xo;try{if(!Co(s,o))throw new Ko({sender:o,to:s});const r=i.includes(Pr)?await Er({data:c,ccipRequest:f}):await f({data:c,sender:o,urls:i}),{data:a}=await ha(e,{blockNumber:t,blockTag:n,data:yt([u,xt([{type:"bytes"},{type:"bytes"}],[r,d])]),to:s});return a}catch(e){throw new Zo({callbackSelector:u,cause:e,data:r,extraData:d,sender:o,urls:i})}},offchainLookupAbiItem:Jo,offchainLookupSignature:"0x556f1830"});function ei({chain:e,currentChainId:t}){if(!e)throw new _n;if(t!==e.id)throw new jn({chain:e,currentChainId:t})}function ti(e,{docsPath:t,...n}){const r=(()=>{const t=na(e,n);return t instanceof ta?e:t})();return new cr(r,{docsPath:t,...n})}const ni={"0x0":"reverted","0x1":"success"};function ri(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(e=>jo(e)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?re(e.transactionIndex):null,status:e.status?ni[e.status]:null,type:e.type?Xa[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}function si(e,t){return Ke(function(e){const t="string"==typeof e?de(e):"string"==typeof e.raw?e.raw:ie(e.raw);return yt([de(`Ethereum Signed Message:\n${h(t)}`),t])}(e),t)}class ai extends g{constructor({domain:e}){super(`Invalid domain "${Yn(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class oi extends g{constructor({primaryType:e,types:t}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(t))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class ii extends g{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function ci(e){const{domain:t,message:n,primaryType:r,types:s}=e,a=(e,t)=>{for(const n of e){const{name:e,type:r}=n,o=t[e],i=r.match(vt);if(i&&("number"==typeof o||"bigint"==typeof o)){const[e,t,n]=i;ce(o,{signed:"int"===t,size:Number.parseInt(n,10)/8})}if("address"===r&&"string"==typeof o&&!et(o))throw new D({address:o});const c=r.match(wt);if(c){const[e,t]=c;if(t&&h(o)!==Number.parseInt(t,10))throw new R({expectedSize:Number.parseInt(t,10),givenSize:h(o)})}const u=s[r];u&&(di(r),a(u,o))}};if(s.EIP712Domain&&t){if("object"!=typeof t)throw new ai({domain:t});a(s.EIP712Domain,t)}if("EIP712Domain"!==r){if(!s[r])throw new oi({primaryType:r,types:s});a(s[r],n)}}function ui({domain:e}){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},("number"==typeof e?.chainId||"bigint"==typeof e?.chainId)&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function di(e){if("address"===e||"bool"===e||"string"===e||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new ii({type:e})}function li(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:ui({domain:t}),...e.types};ci({domain:t,message:n,primaryType:r,types:s});const a=["0x1901"];return t&&a.push(function({domain:e,types:t}){return fi({data:e,primaryType:"EIP712Domain",types:t})}({domain:t,types:s})),"EIP712Domain"!==r&&a.push(fi({data:n,primaryType:r,types:s})),Ke(yt(a))}function fi({data:e,primaryType:t,types:n}){return Ke(pi({data:e,primaryType:t,types:n}))}function pi({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[hi({primaryType:t,types:n})];for(const a of n[t]){const[t,o]=mi({types:n,name:a.name,type:a.type,value:e[a.name]});r.push(t),s.push(o)}return xt(r,s)}function hi({primaryType:e,types:t}){const n=ae(function({primaryType:e,types:t}){let n="";const r=bi({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const e of s)n+=`${e}(${t[e].map(({name:e,type:t})=>`${t} ${e}`).join(",")})`;return n}({primaryType:e,types:t}));return Ke(n)}function bi({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r?.[0];if(n.has(s)||void 0===t[s])return n;n.add(s);for(const e of t[s])bi({primaryType:e.type,types:t},n);return n}function mi({types:e,name:t,type:n,value:r}){if(void 0!==e[n])return[{type:"bytes32"},Ke(pi({data:r,primaryType:n,types:e}))];if("bytes"===n){return[{type:"bytes32"},Ke(r=`0x${(r.length%2?"0":"")+r.slice(2)}`)]}if("string"===n)return[{type:"bytes32"},Ke(ae(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),a=r.map(n=>mi({name:t,type:s,types:e,value:n}));return[{type:"bytes32"},Ke(xt(a.map(([e])=>e),a.map(([,e])=>e)))]}return[{type:n},r]}class yi extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}}const gi={checksum:new yi(8192)}.checksum;function wi(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function vi(e,...t){if(!((n=e)instanceof Uint8Array||ArrayBuffer.isView(n)&&"Uint8Array"===n.constructor.name))throw new Error("Uint8Array expected");
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
var n;if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function xi(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Pi(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Ei(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const Ii=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])()?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=Ei(e[t]);return e};function Ai(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}(e)),vi(e),e}class ki{}const Bi=BigInt(2**32-1),$i=BigInt(32);function Ni(e,t=!1){return t?{h:Number(e&Bi),l:Number(e>>$i&Bi)}:{h:0|Number(e>>$i&Bi),l:0|Number(e&Bi)}}const Ti=BigInt(0),Oi=BigInt(1),zi=BigInt(2),Si=BigInt(7),Fi=BigInt(256),Ci=BigInt(113),Li=[],Ri=[],Mi=[];for(let e=0,t=Oi,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Li.push(2*(5*r+n)),Ri.push((e+1)*(e+2)/2%64);let s=Ti;for(let e=0;e<7;e++)t=(t<<Oi^(t>>Si)*Ci)%Fi,t&zi&&(s^=Oi<<(Oi<<BigInt(e))-Oi);Mi.push(s)}const Ui=function(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let a=0;a<n;a++){const{h:n,l:o}=Ni(e[a],t);[r[a],s[a]]=[n,o]}return[r,s]}(Mi,!0),ji=Ui[0],_i=Ui[1],qi=(e,t,n)=>n>32?((e,t,n)=>t<<n-32|e>>>64-n)(e,t,n):((e,t,n)=>e<<n|t>>>32-n)(e,t,n),Gi=(e,t,n)=>n>32?((e,t,n)=>e<<n-32|t>>>64-n)(e,t,n):((e,t,n)=>t<<n|e>>>32-n)(e,t,n);class Di extends ki{constructor(e,t,n,r=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=s,wi(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");var a;this.state=new Uint8Array(200),this.state32=(a=this.state,new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)))}clone(){return this._cloneInto()}keccak(){Ii(this.state32),function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,s=(t+2)%10,a=n[s],o=n[s+1],i=qi(a,o,1)^n[r],c=Gi(a,o,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=i,e[t+n+1]^=c}let t=e[2],s=e[3];for(let n=0;n<24;n++){const r=Ri[n],a=qi(t,s,r),o=Gi(t,s,r),i=Li[n];t=e[i],s=e[i+1],e[i]=a,e[i+1]=o}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=ji[r],e[1]^=_i[r]}Pi(n)}(this.state32,this.rounds),Ii(this.state32),this.posOut=0,this.pos=0}update(e){xi(this),vi(e=Ai(e));const{blockLen:t,state:n}=this,r=e.length;for(let s=0;s<r;){const a=Math.min(t-this.pos,r-s);for(let t=0;t<a;t++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,128&t&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){xi(this,!1),vi(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,s=e.length;r<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-r);e.set(t.subarray(this.posOut,this.posOut+a),r),this.posOut+=a,r+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return wi(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(function(e,t){vi(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Pi(this.state)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:s,enableXOF:a}=this;return e||(e=new Di(t,n,r,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=r,e.enableXOF=a,e.destroyed=this.destroyed,e}}const Hi=(e,t,n)=>function(e){const t=t=>e().update(Ai(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}(()=>new Di(t,e,n)),Vi=(()=>Hi(1,136,32))();function Wi(e,t={}){const{as:n=("string"==typeof e?"Hex":"Bytes")}=t,r=Vi(ns(e));return"Bytes"===n?r:ws(r)}const Zi=/^0x[a-fA-F0-9]{40}$/;function Yi(e,t={}){const{strict:n=!0}=t;if(!Zi.test(e))throw new Xi({address:e,cause:new Qi});if(n){if(e.toLowerCase()===e)return;if(Ki(e)!==e)throw new Xi({address:e,cause:new ec})}}function Ki(e){if(gi.has(e))return gi.get(e);Yi(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Wi(ss(t),{as:"Bytes"}),r=t.split("");for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&r[e]&&(r[e]=r[e].toUpperCase()),(15&n[e>>1])>=8&&r[e+1]&&(r[e+1]=r[e+1].toUpperCase());const s=`0x${r.join("")}`;return gi.set(e,s),s}function Ji(e,t={}){const{strict:n=!0}=t??{};try{return Yi(e,{strict:n}),!0}catch{return!1}}class Xi extends jr{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Qi extends jr{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class ec extends jr{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const tc=/^(.*)\[([0-9]*)\]$/,nc=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,rc=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,sc=2n**256n-1n;function ac(e,t,n){const{checksumAddress:r,staticPosition:s}=n,a=dc(t.type);if(a){const[n,o]=a;return function(e,t,n){const{checksumAddress:r,length:s,staticPosition:a}=n;if(!s){const n=a+us(e.readBytes(ic)),s=n+oc;e.setPosition(n);const o=us(e.readBytes(oc)),i=lc(t);let c=0;const u=[];for(let n=0;n<o;++n){e.setPosition(s+(i?32*n:c));const[a,o]=ac(e,t,{checksumAddress:r,staticPosition:s});c+=o,u.push(a)}return e.setPosition(a+32),[u,32]}if(lc(t)){const n=a+us(e.readBytes(ic)),o=[];for(let a=0;a<s;++a){e.setPosition(n+32*a);const[s]=ac(e,t,{checksumAddress:r,staticPosition:n});o.push(s)}return e.setPosition(a+32),[o,32]}let o=0;const i=[];for(let n=0;n<s;++n){const[n,s]=ac(e,t,{checksumAddress:r,staticPosition:a+o});o+=s,i.push(n)}return[i,o]}(e,{...t,type:o},{checksumAddress:r,length:n,staticPosition:s})}if("tuple"===t.type)return function(e,t,n){const{checksumAddress:r,staticPosition:s}=n,a=0===t.components.length||t.components.some(({name:e})=>!e),o=a?[]:{};let i=0;if(lc(t)){const n=s+us(e.readBytes(ic));for(let s=0;s<t.components.length;++s){const c=t.components[s];e.setPosition(n+i);const[u,d]=ac(e,c,{checksumAddress:r,staticPosition:n});i+=d,o[a?s:c?.name]=u}return e.setPosition(s+32),[o,32]}for(let n=0;n<t.components.length;++n){const c=t.components[n],[u,d]=ac(e,c,{checksumAddress:r,staticPosition:s});o[a?n:c?.name]=u,i+=d}return[o,i]}(e,t,{checksumAddress:r,staticPosition:s});if("address"===t.type)return function(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32),s=e=>n?Ki(e):e;return[s(ws(os(r,-20))),32]}(e,{checksum:r});if("bool"===t.type)return function(e){return[cs(e.readBytes(32),{size:32}),32]}(e);if(t.type.startsWith("bytes"))return function(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const t=us(e.readBytes(32));e.setPosition(n+t);const r=us(e.readBytes(32));if(0===r)return e.setPosition(n+32),["0x",32];const s=e.readBytes(r);return e.setPosition(n+32),[ws(s),32]}const a=ws(e.readBytes(Number.parseInt(s,10),32));return[a,32]}(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return function(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?is(s,{signed:n}):us(s,{signed:n}),32]}(e,t);if("string"===t.type)return function(e,{staticPosition:t}){const n=us(e.readBytes(32)),r=t+n;e.setPosition(r);const s=us(e.readBytes(32));if(0===s)return e.setPosition(t+32),["",32];const a=e.readBytes(s,32),o=ds(ls(a));return e.setPosition(t+32),[o,32]}(e,{staticPosition:s});throw new kc(t.type)}const oc=32,ic=32;function cc({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=dc(r.type);if(s){const[t,a]=s;return function(e,t){const{checksumAddress:n,length:r,parameter:s}=t,a=null===r;if(!Array.isArray(e))throw new Ac(e);if(!a&&e.length!==r)throw new Pc({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let o=!1;const i=[];for(let t=0;t<e.length;t++){const r=cc({checksumAddress:n,parameter:s,value:e[t]});r.dynamic&&(o=!0),i.push(r)}if(a||o){const e=uc(i);if(a){const t=vs(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?ys(t,e):t}}if(o)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:ys(...i.map(({encoded:e})=>e))}}(n,{checksumAddress:e,length:t,parameter:{...r,type:a}})}if("tuple"===r.type)return function(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const a=[];for(let t=0;t<r.components.length;t++){const o=r.components[t],i=cc({checksumAddress:n,parameter:o,value:e[Array.isArray(e)?t:o.name]});a.push(i),i.dynamic&&(s=!0)}return{dynamic:s,encoded:s?uc(a):ys(...a.map(({encoded:e})=>e))}}(n,{checksumAddress:e,parameter:r});if("address"===r.type)return function(e,t){const{checksum:n=!1}=t;return Yi(e,{strict:n}),{dynamic:!1,encoded:Ps(e.toLowerCase())}}(n,{checksum:e});if("bool"===r.type)return function(e){if("boolean"!=typeof e)throw new jr(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ps(gs(e))}}(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const e=r.type.startsWith("int"),[,,t="256"]=rc.exec(r.type)??[];return function(e,{signed:t,size:n}){if("number"==typeof n){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Ns({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:vs(e,{size:32,signed:t})}}(n,{signed:e,size:Number(t)})}if(r.type.startsWith("bytes"))return function(e,{type:t}){const[,n]=t.split("bytes"),r=As(e);if(!n){let t=e;return r%32!=0&&(t=Es(t,32*Math.ceil((e.length-2)/2/32))),{dynamic:!0,encoded:ys(Ps(vs(r,{size:32})),t)}}if(r!==Number.parseInt(n,10))throw new Ec({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Es(e)}}(n,{type:r.type});if("string"===r.type)return function(e){const t=xs(e),n=Math.ceil(As(t)/32),r=[];for(let e=0;e<n;e++)r.push(Es(Is(t,32*e,32*(e+1))));return{dynamic:!0,encoded:ys(Es(vs(As(t),{size:32})),...r)}}(n);throw new kc(r.type)}function uc(e){let t=0;for(let n=0;n<e.length;n++){const{dynamic:r,encoded:s}=e[n];t+=r?32:As(s)}const n=[],r=[];let s=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:i}=e[a];o?(n.push(vs(t+s,{size:32})),r.push(i),s+=As(i)):n.push(i)}return ys(...n,...r)}function dc(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function lc(e){const{type:t}=e;if("string"===t)return!0;if("bytes"===t)return!0;if(t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(lc);const n=dc(e.type);return!(!n||!lc({...e,type:n[1]}))}const fc={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new bc({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new hc({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new pc({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new pc({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};class pc extends jr{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class hc extends jr{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class bc extends jr{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function mc(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,a="string"==typeof t?rs(t):t,o=function(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(fc);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}(a);if(0===as(a)&&e.length>0)throw new xc;if(as(a)&&as(a)<32)throw new vc({data:"string"==typeof t?t:ws(t),parameters:e,size:as(a)});let i=0;const c="Array"===r?[]:{};for(let t=0;t<e.length;++t){const n=e[t];o.setPosition(i);const[a,u]=ac(o,n,{checksumAddress:s,staticPosition:0});i+=u,"Array"===r?c.push(a):c[n.name??t]=a}return c}function yc(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new Ic({expectedLength:e.length,givenLength:t.length});const s=function({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(cc({checksumAddress:e,parameter:t[s],value:n[s]}));return r}({checksumAddress:r,parameters:e,values:t}),a=uc(s);return 0===a.length?"0x":a}function gc(e,t){if(e.length!==t.length)throw new Ic({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],a=t[r];n.push(gc.encode(s,a))}return ys(...n)}function wc(e){return Array.isArray(e)&&"string"==typeof e[0]||"string"==typeof e?Bn(e):e}!function(e){e.encode=function e(t,n,r=!1){if("address"===t){const e=n;return Yi(e),Ps(e.toLowerCase(),r?32:0)}if("string"===t)return xs(n);if("bytes"===t)return n;if("bool"===t)return Ps(gs(n),r?32:1);const s=t.match(rc);if(s){const[e,t,a="256"]=s,o=Number.parseInt(a,10)/8;return vs(n,{size:r?32:o,signed:"int"===t})}const a=t.match(nc);if(a){const[e,t]=a;if(Number.parseInt(t,10)!==(n.length-2)/2)throw new Ec({expectedSize:Number.parseInt(t,10),value:n});return Es(n,r?32:0)}const o=t.match(tc);if(o&&Array.isArray(n)){const[t,r]=o,s=[];for(let t=0;t<n.length;t++)s.push(e(r,n[t],!0));return 0===s.length?"0x":ys(...s)}throw new kc(t)}}(gc||(gc={}));class vc extends jr{constructor({data:e,parameters:t,size:n}){super(`Data size of ${n} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Mt(t)})`,`Data:   ${e} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class xc extends jr{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Pc extends jr{constructor({expectedLength:e,givenLength:t,type:n}){super(`Array length mismatch for type \`${n}\`. Expected: \`${e}\`. Given: \`${t}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Ec extends jr{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${As(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Ic extends jr{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${t}`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Ac extends jr{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class kc extends jr{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function Bc(e,t={}){const{recovered:n}=t;if(void 0===e.r)throw new zc({signature:e});if(void 0===e.s)throw new zc({signature:e});if(n&&void 0===e.yParity)throw new zc({signature:e});if(e.r<0n||e.r>sc)throw new Sc({value:e.r});if(e.s<0n||e.s>sc)throw new Fc({value:e.s});if("number"==typeof e.yParity&&0!==e.yParity&&1!==e.yParity)throw new Cc({value:e.yParity})}function $c(e){if(130!==e.length&&132!==e.length)throw new Oc({signature:e});const t=BigInt(Is(e,0,32)),n=BigInt(Is(e,32,64)),r=(()=>{const t=Number(`0x${e.slice(130)}`);if(!Number.isNaN(t))try{return Tc(t)}catch{throw new Cc({value:t})}})();return void 0===r?{r:t,s:n}:{r:t,s:n,yParity:r}}function Nc(e){if(void 0!==e.r&&void 0!==e.s)return function(e){const t="string"==typeof e?$c(e):e instanceof Uint8Array?function(e){return $c(ws(e))}(e):"string"==typeof e.r?function(e){const t=(()=>{const t=e.v?Number(e.v):void 0;let n=e.yParity?Number(e.yParity):void 0;if("number"==typeof t&&"number"!=typeof n&&(n=Tc(t)),"number"!=typeof n)throw new Cc({value:e.yParity});return n})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}(e):e.v?function(e){return{r:e.r,s:e.s,yParity:Tc(e.v)}}(e):{r:e.r,s:e.s,...void 0!==e.yParity?{yParity:e.yParity}:{}};return Bc(t),t}(e)}function Tc(e){if(0===e||27===e)return 0;if(1===e||28===e)return 1;if(e>=35)return e%2==0?1:0;throw new Lc({value:e})}class Oc extends jr{constructor({signature:e}){var t;super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${As((t=e,t instanceof Uint8Array?ws(t):Array.isArray(t)?ws(new Uint8Array(t)):t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class zc extends jr{constructor({signature:e}){super(`Signature \`${Qr(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class Sc extends jr{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class Fc extends jr{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Cc extends jr{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class Lc extends jr{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function Rc(e,t={}){return"string"==typeof e.chainId?function(e){const{address:t,chainId:n,nonce:r}=e,s=Nc(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}(e):{...e,...t.signature}}const Mc=wc("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Uc(e){if("string"==typeof e){if("0x8010801080108010801080108010801080108010801080108010801080108010"!==Is(e,-32))throw new jc(e)}else Bc(e.authorization)}let jc=class extends jr{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};async function _c(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){const o=r||"latest",i=void 0!==n?ce(n):void 0;let c=null;if(c=s?await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,ce(a)]},{dedupe:!0}):await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[i||o,ce(a)]},{dedupe:Boolean(i)}),!c)throw new ur({blockHash:t,blockNumber:n,blockTag:o,hash:s,index:a});return(e.chain?.formatters?.transaction?.format||Qa)(c,"getTransaction")}async function qc(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new dr({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||ri)(n,"getTransactionReceipt")}async function Gc(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:a,traceTransfers:o,validation:i}=t;try{const t=[];for(const e of s){const n=e.blockOverrides?Ls(e.blockOverrides):void 0,r=e.calls.map(e=>{const t=e,n=t.account?Dn(t.account):void 0,r=t.abi?Mn(t):t.data,s={...t,account:n,data:t.dataSuffix?yt([r||"0x",t.dataSuffix]):r,from:t.from??n?.address};return pa(s),oa(s)}),s=e.stateOverrides?la(e.stateOverrides):void 0;t.push({blockOverrides:n,calls:r,stateOverrides:s})}const c=("bigint"==typeof n?ce(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:t,returnFullTransactions:a,traceTransfers:o,validation:i},c]})).map((e,t)=>({...eo(e),calls:e.calls.map((e,n)=>{const{abi:r,args:a,functionName:o,to:i}=s[t].calls[n],c=e.error?.data??e.returnData,u=BigInt(e.gasUsed),d=e.logs?.map(e=>jo(e)),l="0x1"===e.status?"success":"failure",f=r&&"success"===l&&"0x"!==c?Ln({abi:r,data:c,functionName:o}):null,p=(()=>{if("success"===l)return;let t;return"0x"===e.error?.data?t=new E:e.error&&(t=new yr(e.error)),t?Ur(t,{abi:r??[],address:i??"0x",args:a,functionName:o??"<unknown>"}):void 0})();return{data:c,gasUsed:u,logs:d,status:l,..."success"===l?{result:f}:{error:p}}})}))}catch(e){const t=e,n=na(t,{});if(n instanceof ta)throw t;throw n}}function Dc(e){let t=!0,n="",r=0,s="",a=!1;for(let o=0;o<e.length;o++){const i=e[o];if(["(",")",","].includes(i)&&(t=!0),"("===i&&r++,")"===i&&r--,t)if(0!==r)" "!==i?(s+=i,n+=i):","!==e[o-1]&&","!==n&&",("!==n&&(n="",t=!1);else if(" "===i&&["event","function","error",""].includes(s))s="";else if(s+=i,")"===i){a=!0;break}}if(!a)throw new jr("Unable to normalize signature.");return s}function Hc(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Ji(e,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:return"tuple"===r&&"components"in t?Object.values(t.components).every((t,n)=>Hc(Object.values(e)[n],t)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?"number"===n||"bigint"===n:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?"string"===n||e instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)&&(Array.isArray(e)&&e.every(e=>Hc(e,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})))}}function Vc(e,t,n){for(const r in e){const s=e[r],a=t[r];if("tuple"===s.type&&"tuple"===a.type&&"components"in s&&"components"in a)return Vc(s.components,a.components,n[r]);const o=[s.type,a.type];if((()=>!(!o.includes("address")||!o.includes("bytes20"))||(o.includes("address")&&o.includes("string")||!(!o.includes("address")||!o.includes("bytes")))&&Ji(n[r],{strict:!1}))())return o}}function Wc(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||"string"==typeof e?kn(e):e;return{...r,...n?{hash:Kc(r)}:{}}}function Zc(e,t,n){const{args:r=[],prepare:s=!0}=n??{},a=$s(t,{strict:!1}),o=e.filter(e=>a?"function"===e.type||"error"===e.type?Yc(e)===Is(t,0,4):"event"===e.type&&Kc(e)===t:"name"in e&&e.name===t);if(0===o.length)throw new Xc({name:t});if(1===o.length)return{...o[0],...s?{hash:Kc(o[0])}:{}};let i;for(const e of o){if(!("inputs"in e))continue;if(!r||0===r.length){if(!e.inputs||0===e.inputs.length)return{...e,...s?{hash:Kc(e)}:{}};continue}if(!e.inputs)continue;if(0===e.inputs.length)continue;if(e.inputs.length!==r.length)continue;if(r.every((t,n)=>{const r="inputs"in e&&e.inputs[n];return!!r&&Hc(t,r)})){if(i&&"inputs"in i&&i.inputs){const t=Vc(e.inputs,i.inputs,r);if(t)throw new Jc({abiItem:e,type:t[0]},{abiItem:i,type:t[1]})}i=e}}const c=(()=>{if(i)return i;const[e,...t]=o;return{...e,overloads:t}})();if(!c)throw new Xc({name:t});return{...c,...s?{hash:Kc(c)}:{}}}function Yc(...e){const t=(()=>{if(Array.isArray(e[0])){const[t,n]=e;return Zc(t,n)}return e[0]})();return Is(Kc(t),0,4)}function Kc(...e){const t=(()=>{if(Array.isArray(e[0])){const[t,n]=e;return Zc(t,n)}return e[0]})();return"string"!=typeof t&&"hash"in t&&t.hash?t.hash:Wi(xs(function(...e){const t=(()=>{if(Array.isArray(e[0])){const[t,n]=e;return Zc(t,n)}return e[0]})();return Dc("string"==typeof t?t:Ut(t))}(t)))}class Jc extends jr{constructor(e,t){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${Dc(Ut(e.abiItem))}\`, and`,`\`${t.type}\` in \`${Dc(Ut(t.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Xc extends jr{constructor({name:e,data:t,type:n="item"}){super(`ABI ${n}${e?` with name "${e}"`:t?` with data "${t}"`:""} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function Qc(e){const t=e.find(e=>"constructor"===e.type);if(!t)throw new Xc({name:"constructor"});return t}function eu(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[t,n,r]=e;return[nu(t,n,{args:r}),r]}const[t,n]=e;return[t,n]})(),{overloads:r}=t,s=r?nu([t,...r],t.name,{args:n}):t,a=Yc(s);const o=n.length>0?yc(s.inputs,n):void 0;return o?ys(a,o):a}function tu(e,t={}){return Wc(e,t)}function nu(e,t,n){const r=Zc(e,t,n);if("function"!==r.type)throw new Xc({name:t,type:"function"});return r}const ru="0x0000000000000000000000000000000000000000";async function su(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}const au="0x6492649264926492649264926492649264926492649264926492649264926492";function ou(e){try{return function(e){if(Is(e,-32)!==au)throw new iu(e)}(e),!0}catch{return!1}}class iu extends jr{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}class cu extends Oe{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");xe(e.outputLen),xe(e.blockLen)}(e);const n=Te(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,s=new Uint8Array(r);s.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),Ae(s)}update(e){return Ee(this),this.iHash.update(e),this}digestInto(e){Ee(this),Pe(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:s,blockLen:a,outputLen:o}=this;return e.finished=r,e.destroyed=s,e.blockLen=a,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const uu=(e,t,n)=>new cu(e,t).update(n).digest();uu.create=(e,t)=>new cu(e,t);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const du=BigInt(0),lu=BigInt(1);function fu(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function pu(e){if(!fu(e))throw new Error("Uint8Array expected")}function hu(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}function bu(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function mu(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?du:BigInt("0x"+e)}const yu="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,gu=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function wu(e){if(pu(e),yu)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=gu[e[n]];return t}const vu=48,xu=57,Pu=65,Eu=70,Iu=97,Au=102;function ku(e){return e>=vu&&e<=xu?e-vu:e>=Pu&&e<=Eu?e-(Pu-10):e>=Iu&&e<=Au?e-(Iu-10):void 0}function Bu(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(yu)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,s=0;t<n;t++,s+=2){const n=ku(e.charCodeAt(s)),a=ku(e.charCodeAt(s+1));if(void 0===n||void 0===a){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}r[t]=16*n+a}return r}function $u(e){return mu(wu(e))}function Nu(e){return pu(e),mu(wu(Uint8Array.from(e).reverse()))}function Tu(e,t){return Bu(e.toString(16).padStart(2*t,"0"))}function Ou(e,t){return Tu(e,t).reverse()}function zu(e,t,n){let r;if("string"==typeof t)try{r=Bu(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!fu(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const s=r.length;if("number"==typeof n&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function Su(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];pu(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const s=e[t];n.set(s,r),r+=s.length}return n}const Fu=e=>"bigint"==typeof e&&du<=e;function Cu(e,t,n){return Fu(e)&&Fu(t)&&Fu(n)&&t<=e&&e<n}function Lu(e,t,n,r){if(!Cu(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}const Ru=e=>(lu<<BigInt(e))-lu,Mu=e=>new Uint8Array(e),Uu=e=>Uint8Array.from(e);const ju={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||fu(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function _u(e,t,n={}){const r=(t,n,r)=>{const s=ju[n];if("function"!=typeof s)throw new Error("invalid validator function");const a=e[t];if(!(r&&void 0===a||s(a,e)))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+a)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e}function qu(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(void 0!==s)return s;const a=e(n,...r);return t.set(n,a),a}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gu=BigInt(0),Du=BigInt(1),Hu=BigInt(2),Vu=BigInt(3),Wu=BigInt(4),Zu=BigInt(5),Yu=BigInt(8);function Ku(e,t){const n=e%t;return n>=Gu?n:t+n}function Ju(e,t,n){let r=e;for(;t-- >Gu;)r*=r,r%=n;return r}function Xu(e,t){if(e===Gu)throw new Error("invert: expected non-zero number");if(t<=Gu)throw new Error("invert: expected positive modulus, got "+t);let n=Ku(e,t),r=t,s=Gu,a=Du;for(;n!==Gu;){const e=r%n,t=s-a*(r/n);r=n,n=e,s=a,a=t}if(r!==Du)throw new Error("invert: does not exist");return Ku(s,t)}function Qu(e,t){const n=(e.ORDER+Du)/Wu,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function ed(e,t){const n=(e.ORDER-Zu)/Yu,r=e.mul(t,Hu),s=e.pow(r,n),a=e.mul(t,s),o=e.mul(e.mul(a,Hu),s),i=e.mul(a,e.sub(o,e.ONE));if(!e.eql(e.sqr(i),t))throw new Error("Cannot find square root");return i}function td(e){return e%Wu===Vu?Qu:e%Yu===Zu?ed:function(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-Du,n=0;for(;t%Hu===Gu;)t/=Hu,n++;let r=Hu;const s=od(e);for(;1===sd(s,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return Qu;let a=s.pow(r,t);const o=(t+Du)/Hu;return function(e,r){if(e.is0(r))return r;if(1!==sd(e,r))throw new Error("Cannot find square root");let s=n,i=e.mul(e.ONE,a),c=e.pow(r,t),u=e.pow(r,o);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,n=e.sqr(c);for(;!e.eql(n,e.ONE);)if(t++,n=e.sqr(n),t===s)throw new Error("Cannot find square root");const r=Du<<BigInt(s-t-1),a=e.pow(i,r);s=t,i=e.sqr(a),c=e.mul(c,i),u=e.mul(u,a)}return u}}(e)}const nd=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function rd(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((t,n,s)=>e.is0(n)?t:(r[s]=t,e.mul(t,n)),e.ONE),a=e.inv(s);return t.reduceRight((t,n,s)=>e.is0(n)?t:(r[s]=e.mul(t,r[s]),e.mul(t,n)),a),r}function sd(e,t){const n=(e.ORDER-Du)/Hu,r=e.pow(t,n),s=e.eql(r,e.ONE),a=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!a&&!o)throw new Error("invalid Legendre symbol result");return s?1:a?0:-1}function ad(e,t){void 0!==t&&xe(t);const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function od(e,t,n=!1,r={}){if(e<=Gu)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:a}=ad(e,t);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const i=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:a,MASK:Ru(s),ZERO:Gu,ONE:Du,create:t=>Ku(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return Gu<=t&&t<e},is0:e=>e===Gu,isOdd:e=>(e&Du)===Du,neg:t=>Ku(-t,e),eql:(e,t)=>e===t,sqr:t=>Ku(t*t,e),add:(t,n)=>Ku(t+n,e),sub:(t,n)=>Ku(t-n,e),mul:(t,n)=>Ku(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Gu)throw new Error("invalid exponent, negatives unsupported");if(n===Gu)return e.ONE;if(n===Du)return t;let r=e.ONE,s=t;for(;n>Gu;)n&Du&&(r=e.mul(r,s)),s=e.sqr(s),n>>=Du;return r}(i,e,t),div:(t,n)=>Ku(t*Xu(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Xu(t,e),sqrt:r.sqrt||(t=>(o||(o=td(e)),o(i,t))),toBytes:e=>n?Ou(e,a):Tu(e,a),fromBytes:e=>{if(e.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+e.length);return n?Nu(e):$u(e)},invertBatch:e=>rd(i,e),cmov:(e,t,n)=>n?t:e});return Object.freeze(i)}function id(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function cd(e){const t=id(e);return t+Math.ceil(t/2)}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const ud=BigInt(0),dd=BigInt(1);function ld(e,t){const n=t.negate();return e?n:t}function fd(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function pd(e,t){fd(e,t);const n=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:Ru(e),maxNumber:n,shiftBy:BigInt(e)}}function hd(e,t,n){const{windowSize:r,mask:s,maxNumber:a,shiftBy:o}=n;let i=Number(e&s),c=e>>o;i>r&&(i-=a,c+=dd);const u=t*r;return{nextN:c,offset:u+Math.abs(i)-1,isZero:0===i,isNeg:i<0,isNegF:t%2!=0,offsetF:u}}const bd=new WeakMap,md=new WeakMap;function yd(e){return md.get(e)||1}function gd(e,t,n,r){!function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})}(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}(r,t);const s=n.length,a=r.length;if(s!==a)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,i=function(e){let t;for(t=0;e>du;e>>=lu,t+=1);return t}(BigInt(s));let c=1;i>12?c=i-3:i>4?c=i-2:i>0&&(c=2);const u=Ru(c),d=new Array(Number(u)+1).fill(o);let l=o;for(let e=Math.floor((t.BITS-1)/c)*c;e>=0;e-=c){d.fill(o);for(let t=0;t<a;t++){const s=r[t],a=Number(s>>BigInt(e)&u);d[a]=d[a].add(n[t])}let t=o;for(let e=d.length-1,n=o;e>0;e--)n=n.add(d[e]),t=t.add(n);if(l=l.add(t),0!==e)for(let e=0;e<c;e++)l=l.double()}return l}function wd(e){return _u(e.Fp,nd.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),_u(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ad(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function vd(e){void 0!==e.lowS&&hu("lowS",e.lowS),void 0!==e.prehash&&hu("prehash",e.prehash)}class xd extends Error{constructor(e=""){super(e)}}const Pd={Err:xd,_tlv:{encode:(e,t)=>{const{Err:n}=Pd;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=bu(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?bu(s.length/2|128):"";return bu(e)+a+s+t},decode(e,t){const{Err:n}=Pd;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++];let a=0;if(!!(128&s)){const e=127&s;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const o=t.subarray(r,r+e);if(o.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===o[0])throw new n("tlv.decode(long): zero leftmost byte");for(const e of o)a=a<<8|e;if(r+=e,a<128)throw new n("tlv.decode(long): not minimal encoding")}else a=s;const o=t.subarray(r,r+a);if(o.length!==a)throw new n("tlv.decode: wrong value length");return{v:o,l:t.subarray(r+a)}}},_int:{encode(e){const{Err:t}=Pd;if(e<Id)throw new t("integer: negative integers are not allowed");let n=bu(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Pd;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return $u(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Pd,s=zu("signature",e),{v:a,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:i,l:c}=r.decode(2,a),{v:u,l:d}=r.decode(2,c);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(i),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Pd,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}};function Ed(e,t){return wu(Tu(e,t))}const Id=BigInt(0),Ad=BigInt(1);BigInt(2);const kd=BigInt(3),Bd=BigInt(4);function $d(e){const t=function(e){const t=wd(e);_u(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}(e),{Fp:n}=t,r=od(t.n,t.nBitLength),s=t.toBytes||((e,t,r)=>{const s=t.toAffine();return Su(Uint8Array.from([4]),n.toBytes(s.x),n.toBytes(s.y))}),a=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function o(e){const{a:r,b:s}=t,a=n.sqr(e),o=n.mul(a,e);return n.add(n.add(o,n.mul(e,r)),s)}function i(e,t){const r=n.sqr(t),s=o(e);return n.eql(r,s)}if(!i(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,kd),Bd),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function d(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:s,n:a}=t;if(n&&"bigint"!=typeof e){if(fu(e)&&(e=wu(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*r,"0")}let o;try{o="bigint"==typeof e?e:$u(zu("private key",e,r))}catch(t){throw new Error("invalid private key, expected hex or "+r+" bytes, got "+typeof e)}return s&&(o=Ku(o,a)),Lu("private key",o,Ad,a),o}function l(e){if(!(e instanceof h))throw new Error("ProjectivePoint expected")}const f=qu((e,t)=>{const{px:r,py:s,pz:a}=e;if(n.eql(a,n.ONE))return{x:r,y:s};const o=e.is0();null==t&&(t=o?n.ONE:n.inv(a));const i=n.mul(r,t),c=n.mul(s,t),u=n.mul(a,t);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(u,n.ONE))throw new Error("invZ was invalid");return{x:i,y:c}}),p=qu(e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:r,y:s}=e.toAffine();if(!n.isValid(r)||!n.isValid(s))throw new Error("bad point: x or y not FE");if(!i(r,s))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(e,t,r){if(null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t)||n.is0(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof h)throw new Error("projective point not allowed");const s=e=>n.eql(e,n.ZERO);return s(t)&&s(r)?h.ZERO:new h(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=rd(n,e.map(e=>e.pz));return e.map((e,n)=>e.toAffine(t[n])).map(h.fromAffine)}static fromHex(e){const t=h.fromAffine(a(zu("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(d(e))}static msm(e,t){return gd(h,r,e,t)}_setWindowSize(e){y.setWindowSize(this,e)}assertValidity(){p(this)}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){l(e);const{px:t,py:r,pz:s}=this,{px:a,py:o,pz:i}=e,c=n.eql(n.mul(t,i),n.mul(a,s)),u=n.eql(n.mul(r,i),n.mul(o,s));return c&&u}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,s=n.mul(r,kd),{px:a,py:o,pz:i}=this;let c=n.ZERO,u=n.ZERO,d=n.ZERO,l=n.mul(a,a),f=n.mul(o,o),p=n.mul(i,i),b=n.mul(a,o);return b=n.add(b,b),d=n.mul(a,i),d=n.add(d,d),c=n.mul(e,d),u=n.mul(s,p),u=n.add(c,u),c=n.sub(f,u),u=n.add(f,u),u=n.mul(c,u),c=n.mul(b,c),d=n.mul(s,d),p=n.mul(e,p),b=n.sub(l,p),b=n.mul(e,b),b=n.add(b,d),d=n.add(l,l),l=n.add(d,l),l=n.add(l,p),l=n.mul(l,b),u=n.add(u,l),p=n.mul(o,i),p=n.add(p,p),l=n.mul(p,b),c=n.sub(c,l),d=n.mul(p,f),d=n.add(d,d),d=n.add(d,d),new h(c,u,d)}add(e){l(e);const{px:r,py:s,pz:a}=this,{px:o,py:i,pz:c}=e;let u=n.ZERO,d=n.ZERO,f=n.ZERO;const p=t.a,b=n.mul(t.b,kd);let m=n.mul(r,o),y=n.mul(s,i),g=n.mul(a,c),w=n.add(r,s),v=n.add(o,i);w=n.mul(w,v),v=n.add(m,y),w=n.sub(w,v),v=n.add(r,a);let x=n.add(o,c);return v=n.mul(v,x),x=n.add(m,g),v=n.sub(v,x),x=n.add(s,a),u=n.add(i,c),x=n.mul(x,u),u=n.add(y,g),x=n.sub(x,u),f=n.mul(p,v),u=n.mul(b,g),f=n.add(u,f),u=n.sub(y,f),f=n.add(y,f),d=n.mul(u,f),y=n.add(m,m),y=n.add(y,m),g=n.mul(p,g),v=n.mul(b,v),y=n.add(y,g),g=n.sub(m,g),g=n.mul(p,g),v=n.add(v,g),m=n.mul(y,v),d=n.add(d,m),m=n.mul(x,v),u=n.mul(w,u),u=n.sub(u,m),m=n.mul(w,y),f=n.mul(x,f),f=n.add(f,m),new h(u,d,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return y.wNAFCached(this,e,h.normalizeZ)}multiplyUnsafe(e){const{endo:r,n:s}=t;Lu("scalar",e,Id,s);const a=h.ZERO;if(e===Id)return a;if(this.is0()||e===Ad)return this;if(!r||y.hasPrecomputes(this))return y.wNAFCachedUnsafe(this,e,h.normalizeZ);let{k1neg:o,k1:i,k2neg:c,k2:u}=r.splitScalar(e),d=a,l=a,f=this;for(;i>Id||u>Id;)i&Ad&&(d=d.add(f)),u&Ad&&(l=l.add(f)),f=f.double(),i>>=Ad,u>>=Ad;return o&&(d=d.negate()),c&&(l=l.negate()),l=new h(n.mul(l.px,r.beta),l.py,l.pz),d.add(l)}multiply(e){const{endo:r,n:s}=t;let a,o;if(Lu("scalar",e,Ad,s),r){const{k1neg:t,k1:s,k2neg:i,k2:c}=r.splitScalar(e);let{p:u,f:d}=this.wNAF(s),{p:l,f:f}=this.wNAF(c);u=y.constTimeNegate(t,u),l=y.constTimeNegate(i,l),l=new h(n.mul(l.px,r.beta),l.py,l.pz),a=u.add(l),o=d.add(f)}else{const{p:t,f:n}=this.wNAF(e);a=t,o=n}return h.normalizeZ([a,o])[0]}multiplyAndAddUnsafe(e,t,n){const r=h.BASE,s=(e,t)=>t!==Id&&t!==Ad&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),a=s(this,t).add(s(e,n));return a.is0()?void 0:a}toAffine(e){return f(this,e)}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Ad)return!0;if(n)return n(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Ad?this:n?n(h,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return hu("isCompressed",e),this.assertValidity(),s(h,this,e)}toHex(e=!0){return hu("isCompressed",e),wu(this.toRawBytes(e))}}h.BASE=new h(t.Gx,t.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const{endo:b,nBitLength:m}=t,y=(g=h,w=b?Math.ceil(m/2):m,{constTimeNegate:ld,hasPrecomputes:e=>1!==yd(e),unsafeLadder(e,t,n=g.ZERO){let r=e;for(;t>ud;)t&dd&&(n=n.add(r)),r=r.double(),t>>=dd;return n},precomputeWindow(e,t){const{windows:n,windowSize:r}=pd(t,w),s=[];let a=e,o=a;for(let e=0;e<n;e++){o=a,s.push(o);for(let e=1;e<r;e++)o=o.add(a),s.push(o);a=o.double()}return s},wNAF(e,t,n){let r=g.ZERO,s=g.BASE;const a=pd(e,w);for(let e=0;e<a.windows;e++){const{nextN:o,offset:i,isZero:c,isNeg:u,isNegF:d,offsetF:l}=hd(n,e,a);n=o,c?s=s.add(ld(d,t[l])):r=r.add(ld(u,t[i]))}return{p:r,f:s}},wNAFUnsafe(e,t,n,r=g.ZERO){const s=pd(e,w);for(let e=0;e<s.windows&&n!==ud;e++){const{nextN:a,offset:o,isZero:i,isNeg:c}=hd(n,e,s);if(n=a,!i){const e=t[o];r=r.add(c?e.negate():e)}}return r},getPrecomputes(e,t,n){let r=bd.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&bd.set(t,n(r))),r},wNAFCached(e,t,n){const r=yd(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const s=yd(e);return 1===s?this.unsafeLadder(e,t,r):this.wNAFUnsafe(s,this.getPrecomputes(s,e,n),t,r)},setWindowSize(e,t){fd(t,w),md.set(e,t),bd.delete(e)}});var g,w;return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:function(e){return Cu(e,Ad,t.n)}}}function Nd(e){const t=function(e){const t=wd(e);return _u(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r,nByteLength:s,nBitLength:a}=t,o=n.BYTES+1,i=2*n.BYTES+1;function c(e){return Ku(e,r)}function u(e){return Xu(e,r)}const{ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:f,isWithinCurveOrder:p}=$d({...t,toBytes(e,t,r){const s=t.toAffine(),a=n.toBytes(s.x),o=Su;return hu("isCompressed",r),r?o(Uint8Array.from([t.hasEvenY()?2:3]),a):o(Uint8Array.from([4]),a,n.toBytes(s.y))},fromBytes(e){const t=e.length,r=e[0],s=e.subarray(1);if(t!==o||2!==r&&3!==r){if(t===i&&4===r){return{x:n.fromBytes(s.subarray(0,n.BYTES)),y:n.fromBytes(s.subarray(n.BYTES,2*n.BYTES))}}throw new Error("invalid Point, expected length of "+o+", or uncompressed "+i+", got "+t)}{const e=$u(s);if(!Cu(e,Ad,n.ORDER))throw new Error("Point is not on curve");const t=f(e);let a;try{a=n.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return!(1&~r)!==((a&Ad)===Ad)&&(a=n.neg(a)),{x:e,y:a}}}});function h(e){return e>r>>Ad}const b=(e,t,n)=>$u(e.slice(t,n));class m{constructor(e,t,n){Lu("r",e,Ad,r),Lu("s",t,Ad,r),this.r=e,this.s=t,null!=n&&(this.recovery=n),Object.freeze(this)}static fromCompact(e){const t=s;return e=zu("compactSignature",e,2*t),new m(b(e,0,t),b(e,t,2*t))}static fromDER(e){const{r:t,s:n}=Pd.toSig(zu("DER",e));return new m(t,n)}assertValidity(){}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:s,recovery:a}=this,o=v(zu("msgHash",e));if(null==a||![0,1,2,3].includes(a))throw new Error("recovery id invalid");const i=2===a||3===a?r+t.n:r;if(i>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const l=1&a?"03":"02",f=d.fromHex(l+Ed(i,n.BYTES)),p=u(i),h=c(-o*p),b=c(s*p),m=d.BASE.multiplyAndAddUnsafe(f,h,b);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Bu(this.toDERHex())}toDERHex(){return Pd.hexFromSig(this)}toCompactRawBytes(){return Bu(this.toCompactHex())}toCompactHex(){const e=s;return Ed(this.r,e)+Ed(this.s,e)}}const y={isValidPrivateKey(e){try{return l(e),!0}catch(e){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const e=cd(t.n);return function(e,t,n=!1){const r=e.length,s=id(t),a=cd(t);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const o=Ku(n?Nu(e):$u(e),t-Du)+Du;return n?Ou(o,s):Tu(o,s)}(t.randomBytes(e),t.n)},precompute:(e=8,t=d.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function g(e){if("bigint"==typeof e)return!1;if(e instanceof d)return!0;const r=zu("key",e).length,a=n.BYTES,o=a+1,i=2*a+1;return t.allowedPrivateKeyLengths||s===o?void 0:r===o||r===i}const w=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=$u(e),n=8*e.length-a;return n>0?t>>BigInt(n):t},v=t.bits2int_modN||function(e){return c(w(e))},x=Ru(a);function P(e){return Lu("num < 2^"+a,e,Id,x),Tu(e,s)}function E(e,r,s=I){if(["recovered","canonical"].some(e=>e in s))throw new Error("sign() legacy options not supported");const{hash:a,randomBytes:o}=t;let{lowS:i,prehash:f,extraEntropy:b}=s;null==i&&(i=!0),e=zu("msgHash",e),vd(s),f&&(e=zu("prehashed msgHash",a(e)));const y=v(e),g=l(r),x=[P(g),P(y)];if(null!=b&&!1!==b){const e=!0===b?o(n.BYTES):b;x.push(zu("extraEntropy",e))}const E=Su(...x),A=y;return{seed:E,k2sig:function(e){const t=w(e);if(!p(t))return;const n=u(t),r=d.BASE.multiply(t).toAffine(),s=c(r.x);if(s===Id)return;const a=c(n*c(A+s*g));if(a===Id)return;let o=(r.x===s?0:2)|Number(r.y&Ad),l=a;return i&&h(a)&&(l=function(e){return h(e)?c(-e):e}(a),o^=1),new m(s,l,o)}}}const I={lowS:t.lowS,prehash:!1},A={lowS:t.lowS,prehash:!1};return d.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return d.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(!0===g(e))throw new Error("first arg must be private key");if(!1===g(t))throw new Error("second arg must be public key");return d.fromHex(t).multiply(l(e)).toRawBytes(n)},sign:function(e,n,r=I){const{seed:s,k2sig:a}=E(e,n,r),o=t,i=function(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=Mu(e),s=Mu(e),a=0;const o=()=>{r.fill(1),s.fill(0),a=0},i=(...e)=>n(s,r,...e),c=(e=Mu(0))=>{s=i(Uu([0]),e),r=i(),0!==e.length&&(s=i(Uu([1]),e),r=i())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=i();const t=r.slice();n.push(t),e+=r.length}return Su(...n)};return(e,t)=>{let n;for(o(),c(e);!(n=t(u()));)c();return o(),n}}(o.hash.outputLen,o.nByteLength,o.hmac);return i(s,a)},verify:function(e,n,r,s=A){const a=e;n=zu("msgHash",n),r=zu("publicKey",r);const{lowS:o,prehash:i,format:l}=s;if(vd(s),"strict"in s)throw new Error("options.strict was renamed to lowS");if(void 0!==l&&"compact"!==l&&"der"!==l)throw new Error("format must be compact or der");const f="string"==typeof a||fu(a),p=!f&&!l&&"object"==typeof a&&null!==a&&"bigint"==typeof a.r&&"bigint"==typeof a.s;if(!f&&!p)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let h,b;try{if(p&&(h=new m(a.r,a.s)),f){try{"compact"!==l&&(h=m.fromDER(a))}catch(e){if(!(e instanceof Pd.Err))throw e}h||"der"===l||(h=m.fromCompact(a))}b=d.fromHex(r)}catch(e){return!1}if(!h)return!1;if(o&&h.hasHighS())return!1;i&&(n=t.hash(n));const{r:y,s:g}=h,w=v(n),x=u(g),P=c(w*x),E=c(y*x),I=d.BASE.multiplyAndAddUnsafe(b,P,E)?.toAffine();return!!I&&c(I.x)===y},ProjectivePoint:d,Signature:m,utils:y}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Td(e){return{hash:e,hmac:(t,...n)=>uu(e,t,function(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];Pe(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const s=e[t];n.set(s,r),r+=s.length}return n}(...n)),randomBytes:Se}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Od=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),zd=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Sd=BigInt(0),Fd=BigInt(1),Cd=BigInt(2),Ld=(e,t)=>(e+t/Cd)/t;const Rd=od(Od,void 0,void 0,{sqrt:function(e){const t=Od,n=BigInt(3),r=BigInt(6),s=BigInt(11),a=BigInt(22),o=BigInt(23),i=BigInt(44),c=BigInt(88),u=e*e*e%t,d=u*u*e%t,l=Ju(d,n,t)*d%t,f=Ju(l,n,t)*d%t,p=Ju(f,Cd,t)*u%t,h=Ju(p,s,t)*p%t,b=Ju(h,a,t)*h%t,m=Ju(b,i,t)*b%t,y=Ju(m,c,t)*m%t,g=Ju(y,i,t)*b%t,w=Ju(g,n,t)*d%t,v=Ju(w,o,t)*h%t,x=Ju(v,r,t)*u%t,P=Ju(x,Cd,t);if(!Rd.eql(Rd.sqr(P),e))throw new Error("Cannot find square root");return P}}),Md=function(e,t){const n=t=>Nd({...e,...Td(t)});return{...n(t),create:n}}({a:Sd,b:BigInt(7),Fp:Rd,n:zd,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=zd,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Fd*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,o=BigInt("0x100000000000000000000000000000000"),i=Ld(a*e,t),c=Ld(-r*e,t);let u=Ku(e-i*n-c*s,t),d=Ku(-i*r-c*a,t);const l=u>o,f=d>o;if(l&&(u=t-u),f&&(d=t-d),u>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:u,k2neg:f,k2:d}}}},mo);var Ud=Object.freeze({__proto__:null,secp256k1:Md});async function jd(e,t){const{address:r,hash:s,erc6492VerifierAddress:a=t.universalSignatureVerifierAddress??e.chain?.contracts?.erc6492Verifier?.address,multicallAddress:o=t.multicallAddress??e.chain?.contracts?.multicall3?.address}=t,i=(()=>{const e=t.signature;return p(e)?e:"object"==typeof e&&"r"in e&&"s"in e?function({r:e,s:t,to:n="hex",v:r,yParity:s}){const a=(()=>{if(0===s||1===s)return s;if(r&&(27n===r||28n===r||r>=35n))return r%2n==0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new Md.Signature(ne(e),ne(t)).toCompactHex()}${0===a?"1b":"1c"}`;return"hex"===n?o:be(o)}(e):ie(e)})();try{return function(e){try{return Uc(e),!0}catch{return!1}}(i)?await async function(e,t){const{address:r,blockNumber:s,blockTag:a,hash:o,multicallAddress:i}=t,{authorization:c,data:d,signature:l,to:f}=function(e){Uc(e);const t=Bs(Is(e,-64,-32)),n=Is(e,-t-64,-64),r=Is(e,0,-t-64),[s,a,o]=mc(Mc,n);return{authorization:Rc({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...o&&"0x"!==o?{data:o,to:a}:{}}}(t.signature),p=await Fo(e,{address:r,blockNumber:s,blockTag:a});if(p===gt(["0xef0100",c.address]))return await async function(e,t){const{address:n,blockNumber:r,blockTag:s,hash:a,signature:o}=t,i=await Nr(e,ma,"readContract")({address:n,abi:u,args:[a,o],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(e=>{if(e instanceof pr)throw new _d;throw e});if(i.startsWith("0x1626ba7e"))return!0;throw new _d}(e,{address:r,blockNumber:s,blockTag:a,hash:o,signature:l});const h={address:c.address,chainId:Number(c.chainId),nonce:Number(c.nonce),r:ce(c.r,{size:32}),s:ce(c.s,{size:32}),yParity:c.yParity},b=await async function({address:e,authorization:t,signature:n}){return Co(rt(e),await Va({authorization:t,signature:n}))}({address:r,authorization:h});if(!b)throw new _d;const m=await Nr(e,ma,"readContract")({...i?{address:i}:{code:_s},authorizationList:[h],abi:n,blockNumber:s,blockTag:"pending",functionName:"aggregate3",args:[[...d?[{allowFailure:!0,target:f??r,callData:d}]:[],{allowFailure:!0,target:r,callData:Mn({abi:u,functionName:"isValidSignature",args:[o,l]})}]]}),y=m[m.length-1]?.returnData;if(y?.startsWith("0x1626ba7e"))return!0;throw new _d}(e,{...t,multicallAddress:o,signature:i}):await async function(e,t){const{address:n,factory:r,factoryData:s,hash:a,signature:o,verifierAddress:i,...c}=t,u=await(async()=>r||s?ou(o)?o:function(e){const{data:t,signature:n,to:r}=e;return ys(yc(wc("address, bytes, bytes"),[r,t,n]),au)}({data:s,signature:o,to:r}):o)(),l=i?{to:i,data:Mn({abi:d,functionName:"isValidSig",args:[n,a,u]}),...c}:{data:Gs({abi:d,args:[n,a,u],bytecode:js}),...c},{data:f}=await Nr(e,ha,"call")(l).catch(e=>{if(e instanceof fr)throw new _d;throw e});if(function(e,t={}){let n=e;if(t.size&&(te(n,{size:t.size}),n=ee(n)),"0x00"===ee(n))return!1;if("0x01"===ee(n))return!0;throw new X(n)}(f??"0x0"))return!0;throw new _d}(e,{...t,verifierAddress:a,signature:i})}catch(e){try{if(Co(rt(r),await _a({hash:s,signature:i})))return!0}catch{}if(e instanceof _d)return!1;throw e}}class _d extends Error{}const qd=new Map,Gd=new Map;let Dd=0;function Hd(e,t,n){const r=++Dd,s=()=>qd.get(e)||[],a=()=>{const t=s();if(!t.some(e=>e.id===r))return;const n=Gd.get(e);if(1===t.length&&n){const e=n();e instanceof Promise&&e.catch(()=>{})}(()=>{const t=s();qd.set(e,t.filter(e=>e.id!==r))})()},o=s();if(qd.set(e,[...o,{id:r,fns:t}]),o&&o.length>0)return a;const i={};for(const e in t)i[e]=(...t)=>{const n=s();if(0!==n.length)for(const r of n)r.fns[e]?.(...t)};const c=n(i);return"function"==typeof c&&Gd.set(e,c),a}function Vd(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let o;t&&(o=await e({unpoll:a}));const i=await(n?.(o))??r;await Vo(i);const c=async()=>{s&&(await e({unpoll:a}),await Vo(r),c())};c()})(),a}function Wd(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:o=e.pollingInterval}){let i;return(void 0!==a?a:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type))?Hd(Yn(["watchBlockNumber",e.uid,t,n,o]),{onBlockNumber:r,onError:s},r=>Vd(async()=>{try{const t=await Nr(e,So,"getBlockNumber")({cacheTime:0});if(void 0!==i){if(t===i)return;if(t-i>1&&n)for(let e=i+1n;e<t;e++)r.onBlockNumber(e,i),i=e}(void 0===i||t>i)&&(r.onBlockNumber(t,i),i=t)}catch(e){r.onError?.(e)}},{emitOnBegin:t,interval:o})):Hd(Yn(["watchBlockNumber",e.uid,t,n]),{onBlockNumber:r,onError:s},t=>{let n=!0,r=()=>n=!1;return(async()=>{try{const s=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:a}=await s.subscribe({params:["newHeads"],onData(e){if(!n)return;const r=ne(e.result?.number);t.onBlockNumber(r,i),i=r},onError(e){t.onError?.(e)}});r=a,n||r()}catch(e){s?.(e)}})(),()=>r()})}class Zd extends g{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join("\n"),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class Yd extends g{constructor({docsPath:e,metaMessages:t,type:n}){super(`Account type "${n}" is not supported.`,{docsPath:e,metaMessages:t,name:"AccountTypeNotSupportedError"})}}async function Kd(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const Jd=new Je(128);async function Xd(e,t){const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:a,blobs:o,data:i,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:f,nonce:p,type:h,value:b,...m}=t;if(void 0===n)throw new Zd({docsPath:"/docs/actions/wallet/sendTransaction"});const y=n?Dn(n):null;try{pa(t);const n=await(async()=>t.to?t.to:null!==t.to&&a&&a.length>0?await Va({authorization:a[0]}).catch(()=>{throw new g("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if("json-rpc"===y?.type||null===y){let t;null!==r&&(t=await Nr(e,Ao,"getChainId")({}),ei({currentChainId:t,chain:r}));const g=e.chain?.formatters?.transactionRequest?.format,w=(g||oa)({...sa(m,{format:g}),accessList:s,account:y,authorizationList:a,blobs:o,chainId:t,data:i,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:f,nonce:p,to:n,type:h,value:b},"sendTransaction"),v=Jd.get(e.uid),x=v?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:x,params:[w]},{retryCount:0})}catch(t){if(!1===v)throw t;const n=t;if("InvalidInputRpcError"===n.name||"InvalidParamsRpcError"===n.name||"MethodNotFoundRpcError"===n.name||"MethodNotSupportedRpcError"===n.name)return await e.request({method:"wallet_sendTransaction",params:[w]},{retryCount:0}).then(t=>(Jd.set(e.uid,!0),t)).catch(t=>{const r=t;if("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name)throw Jd.set(e.uid,!1),n;throw r});throw n}}if("local"===y?.type){const t=await Nr(e,$o,"prepareTransactionRequest")({account:y,accessList:s,authorizationList:a,blobs:o,chain:r,data:i,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:f,nonce:p,nonceManager:y.nonceManager,parameters:[...ko,"sidecars"],type:h,value:b,...m,to:n}),g=r?.serializers?.transaction,w=await y.signTransaction(t,{serializer:g});return await Nr(e,Kd,"sendRawTransaction")({serializedTransaction:w})}if("smart"===y?.type)throw new Yd({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new Yd({docsPath:"/docs/actions/wallet/sendTransaction",type:y?.type})}catch(e){if(e instanceof Yd)throw e;throw ti(e,{...t,account:y,chain:t.chain||void 0})}}const Qd="0x5792579257925792579257925792579257925792579257925792579257925792",el=ce(0,{size:32});async function tl(e,t){const{atomic:n=!1,chainId:r,receipts:s,version:a="2.0.0",...o}=await async function(t){if(t.endsWith(Qd.slice(2))){const n=ee(pt(t,-64,-32)),r=pt(t,0,-64).slice(2).match(/.{1,64}/g),s=await Promise.all(r.map(t=>el.slice(2)!==t?e.request({method:"eth_getTransactionReceipt",params:[`0x${t}`]},{dedupe:!0}):void 0)),a=s.some(e=>null===e)?100:s.every(e=>"0x1"===e?.status)?200:s.every(e=>"0x0"===e?.status)?500:600;return{atomic:!1,chainId:re(n),receipts:s.filter(Boolean),status:a,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[t]})}(t.id),[i,c]=(()=>{const e=o.status;return e>=100&&e<200?["pending",e]:e>=200&&e<300?["success",e]:e>=300&&e<700?["failure",e]:"CONFIRMED"===e?["success",200]:"PENDING"===e?["pending",100]:[void 0,e]})();return{...o,atomic:n,chainId:r?re(r):void 0,receipts:s?.map(e=>({...e,blockNumber:ne(e.blockNumber),gasUsed:ne(e.gasUsed),status:ni[e.status]}))??[],statusCode:c,status:i,version:a}}async function nl(e,t){const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new Zd({docsPath:"/docs/eip7702/prepareAuthorization"});const a=Dn(n),o=(()=>{if(t.executor)return"self"===t.executor?t.executor:Dn(t.executor)})(),i={address:t.contractAddress??t.address,chainId:r,nonce:s};return void 0===i.chainId&&(i.chainId=e.chain?.id??await Nr(e,Ao,"getChainId")({})),void 0===i.nonce&&(i.nonce=await Nr(e,ao,"getTransactionCount")({address:a.address,blockTag:"pending"}),("self"===o||o?.address&&Co(o.address,a.address))&&(i.nonce+=1)),i}class rl extends g{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}class sl extends g{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}async function al(e,t){return al.internal(e,Xd,"sendTransaction",t)}!function(e){e.internal=async function(e,t,n,r){const{abi:s,account:a=e.account,address:o,args:i,dataSuffix:c,functionName:u,...d}=r;if(void 0===a)throw new Zd({docsPath:"/docs/contract/writeContract"});const l=a?Dn(a):null,f=Mn({abi:s,args:i,functionName:u});try{return await Nr(e,t,n)({data:`${f}${c?c.replace("0x",""):""}`,to:o,account:l,...d})}catch(e){throw Ur(e,{abi:s,address:o,args:i,docsPath:"/docs/contract/writeContract",functionName:u,sender:l?.address})}}}(al||(al={}));exports.AVALANCHE_CHAIN_IDS={MAINNET:43114,FUJI:43113,LOCAL:43112},exports.AVALANCHE_NETWORK_IDS={MAINNET:1,FUJI:5,LOCAL:1337},exports.C_CHAIN_ALIAS="C",exports.C_CHAIN_FUJI_ID="yH8D7ThNJkxmtkuv2jgBa4P1Rn3Qpr4pPr7QYNfcdoS6k6HWp",exports.C_CHAIN_LOCAL_ID="2CA6j5zYzasynPsFeNoqWkmTCt3VScMvXUZHbfDJ8k3oGzAPtU",exports.C_CHAIN_MAINNET_ID="2q9e4r6Mu3U68nU1fYjgbR6JvwrRx36CohpAX5UQxse55x1Q5",exports.LOCAL_NETWORK_ID=1337,exports.MAINNET_NETWORK_ID=1,exports.P_CHAIN_ALIAS="P",exports.P_CHAIN_FUJI_ID="11111111111111111111111111111111LpoYY",exports.P_CHAIN_LOCAL_ID="11111111111111111111111111111111LpoYY",exports.P_CHAIN_MAINNET_ID="11111111111111111111111111111111LpoYY",exports.TESTNET_NETWORK_ID=5,exports.X_CHAIN_ALIAS="X",exports.X_CHAIN_FUJI_ID="2JVSBoinj9C2J33VntvzYtVJNZdN2NKiwwKjcumHUWEb5DbBrm",exports.X_CHAIN_LOCAL_ID="2eNy1mUFdmaxXNj1eQHUe7Np4gju9sJsEtWQ4MX3ToiNKuADed",exports.X_CHAIN_MAINNET_ID="2oYMBNV4eNHyqk2fjjV5nVQLDbtmNJzq5s3qs3Lo6ftnC6FByM",exports.addChain=async function(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:a,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:ce(n),chainName:r,nativeCurrency:s,rpcUrls:a.default.http,blockExplorerUrls:o?Object.values(o).map(({url:e})=>e):void 0}]},{dedupe:!0,retryCount:0})},exports.call=ha,exports.createAccessList=Oa,exports.createBlockFilter=async function(e){const t=za(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}},exports.createContractEventFilter=Ra,exports.createEventFilter=Ma,exports.createPendingTransactionFilter=Ua,exports.defaultPrepareTransactionRequestParameters=ko,exports.deployContract=function(e,t){const{abi:n,args:r,bytecode:s,...a}=t,o=Gs({abi:n,args:r,bytecode:s});return Xd(e,{...a,...a.authorizationList?{to:null}:{},data:o})},exports.dropTransaction=async function(e,{hash:t}){await e.request({method:`${e.mode}_dropTransaction`,params:[t]})},exports.dumpState=async function(e){return e.request({method:`${e.mode}_dumpState`})},exports.estimateContractGas=async function(e,t){const{abi:n,address:r,args:s,functionName:a,dataSuffix:o,...i}=t,c=Mn({abi:n,args:s,functionName:a});try{return await Nr(e,No,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:r,...i})}catch(e){const t=i.account?Dn(i.account):void 0;throw Ur(e,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:t?.address})}},exports.estimateFeesPerGas=async function(e,t){return so(e,t)},exports.estimateGas=No,exports.estimateMaxPriorityFeePerGas=async function(e,t){return ro(e,t)},exports.getAddresses=async function(e){return"local"===e.account?.type?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(e=>nt(e))},exports.getAutomine=async function(e){return"ganache"===e.mode?await e.request({method:"eth_mining"}):await e.request({method:`${e.mode}_getAutomine`})},exports.getBalance=async function(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s="bigint"==typeof n?ce(n):void 0,a=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(a)},exports.getBlobBaseFee=async function(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)},exports.getBlock=to,exports.getBlockNumber=So,exports.getBlockTransactionCount=async function(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=void 0!==n?ce(n):void 0;let a;return a=t?await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:Boolean(s)}),re(a)},exports.getBytecode=Fo,exports.getCallsStatus=tl,exports.getCapabilities=async function(e,t={}){const{account:n=e.account,chainId:r}=t,s=n?Dn(n):void 0,a=r?[s?.address,[ce(r)]]:[s?.address],o=await e.request({method:"wallet_getCapabilities",params:a}),i={};for(const[e,t]of Object.entries(o)){i[Number(e)]={};for(let[n,r]of Object.entries(t))"addSubAccount"===n&&(n="unstable_addSubAccount"),i[Number(e)][n]=r}return"number"==typeof r?i[r]:i},exports.getChainId=Ao,exports.getCode=Fo,exports.getContractEvents=qo,exports.getEip712Domain=async function(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[t,a,o,i,c,u,d]=await Nr(e,ma,"readContract")({abi:Do,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:a,version:o,chainId:Number(i),verifyingContract:c,salt:u},extensions:d,fields:t}}catch(e){const t=e;if("ContractFunctionExecutionError"===t.name&&"ContractFunctionZeroDataError"===t.cause.name)throw new Go({address:n});throw t}},exports.getEnsAddress=async function(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:o,gatewayUrls:i,strict:u}=t,{chain:d}=e,l=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!d)throw new Error("client chain not configured. universalResolverAddress is required.");return Gn({blockNumber:n,chain:d,contract:"ensUniversalResolver"})})(),f=d?.ensTlds;if(f&&!f.some(e=>o.endsWith(e)))return null;const p=null!=s?[Ar(o),BigInt(s)]:[Ar(o)];try{const t=Mn({abi:c,functionName:"addr",args:p}),s={address:l,abi:a,functionName:"resolveWithGateways",args:[ae($r(o)),t,i??[Pr]],blockNumber:n,blockTag:r},u=Nr(e,ma,"readContract"),d=await u(s);if("0x"===d[0])return null;const f=Ln({abi:c,args:p,functionName:"addr",data:d[0]});return"0x"===f||"0x00"===ee(f)?null:f}catch(e){if(u)throw e;if(gr(e))return null;throw e}},exports.getEnsAvatar=async function(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:a,strict:o,universalResolverAddress:i}){const c=await Nr(e,Ta,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:i,gatewayUrls:a,strict:o});if(!c)return null;try{return await Na(e,{record:c,gatewayUrls:r})}catch{return null}},exports.getEnsName=async function(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:a=60n,gatewayUrls:i,strict:c}=t,{chain:u}=e,d=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!u)throw new Error("client chain not configured. universalResolverAddress is required.");return Gn({blockNumber:r,chain:u,contract:"ensUniversalResolver"})})();try{const t={address:d,abi:o,args:[n,a,i??[Pr]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},c=Nr(e,ma,"readContract"),[u]=await c(t);return u||null}catch(e){if(c)throw e;if(gr(e))return null;throw e}},exports.getEnsResolver=async function(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:a}=e,o=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return Gn({blockNumber:n,chain:a,contract:"ensUniversalResolver"})})(),i=a?.ensTlds;if(i&&!i.some(e=>s.endsWith(e)))throw new Error(`${s} is not a valid ENS TLD (${i?.join(", ")}) for chain "${a.name}" (id: ${a.id}).`);const[c]=await Nr(e,ma,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[ae($r(s))],blockNumber:n,blockTag:r});return c},exports.getEnsText=Ta,exports.getFeeHistory=async function(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const a="bigint"==typeof n?ce(n):void 0;return function(e){return{baseFeePerGas:e.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(e=>e.map(e=>BigInt(e)))}}(await e.request({method:"eth_feeHistory",params:[ce(t),a||r,s]},{dedupe:Boolean(a)}))},exports.getFilterChanges=Ho,exports.getFilterLogs=async function(e,{filter:t}){const n=t.strict??!1,r=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(e=>jo(e));return t.abi?Uo({abi:t.abi,logs:r,strict:n}):r},exports.getGasPrice=no,exports.getLogs=_o,exports.getPermissions=async function(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})},exports.getProof=async function(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const a=r??"latest",o=void 0!==n?ce(n):void 0;return function(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?re(e.nonce):void 0,storageProof:e.storageProof?(t=e.storageProof,t.map(e=>({...e,value:BigInt(e.value)}))):void 0};var t}(await e.request({method:"eth_getProof",params:[t,s,o||a]}))},exports.getStorageAt=async function(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const a=void 0!==n?ce(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,a||r]})},exports.getTransaction=_c,exports.getTransactionConfirmations=async function(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([Nr(e,So,"getBlockNumber")({}),t?Nr(e,_c,"getTransaction")({hash:t}):void 0]),a=n?.blockNumber||s?.blockNumber;return a?r-a+1n:0n},exports.getTransactionCount=ao,exports.getTransactionReceipt=qc,exports.getTxpoolContent=async function(e){return await e.request({method:"txpool_content"})},exports.getTxpoolStatus=async function(e){const{pending:t,queued:n}=await e.request({method:"txpool_status"});return{pending:re(t),queued:re(n)}},exports.impersonateAccount=async function(e,{address:t}){await e.request({method:`${e.mode}_impersonateAccount`,params:[t]})},exports.increaseTime=async function(e,{seconds:t}){return await e.request({method:"evm_increaseTime",params:[ce(t)]})},exports.inspectTxpool=async function(e){return await e.request({method:"txpool_inspect"})},exports.loadState=async function(e,{state:t}){await e.request({method:`${e.mode}_loadState`,params:[t]})},exports.mine=async function(e,{blocks:t,interval:n}){"ganache"===e.mode?await e.request({method:"evm_mine",params:[{blocks:ce(t)}]}):await e.request({method:`${e.mode}_mine`,params:[ce(t),ce(n||0)]})},exports.multicall=async function(e,t){const{account:r,authorizationList:s,allowFailure:a=!0,blockNumber:o,blockOverrides:i,blockTag:c,stateOverride:u}=t,d=t.contracts,{batchSize:l=t.batchSize??1024,deployless:f=t.deployless??!1}="object"==typeof e.batch?.multicall?e.batch.multicall:{},p=(()=>{if(t.multicallAddress)return t.multicallAddress;if(f)return null;if(e.chain)return Gn({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let b=0,m=0;for(let e=0;e<d.length;e++){const{abi:t,address:n,args:s,functionName:o}=d[e];try{const e=Mn({abi:t,args:s,functionName:o});m+=(e.length-2)/2,l>0&&m>l&&h[b].length>0&&(b++,m=(e.length-2)/2,h[b]=[]),h[b]=[...h[b],{allowFailure:!0,callData:e,target:n}]}catch(e){const i=Ur(e,{abi:t,address:n,args:s,docsPath:"/docs/contract/multicall",functionName:o,sender:r});if(!a)throw i;h[b]=[...h[b],{allowFailure:!0,callData:"0x",target:n}]}}const y=await Promise.allSettled(h.map(t=>Nr(e,ma,"readContract")({...null===p?{code:_s}:{address:p},abi:n,account:r,args:[t],authorizationList:s,blockNumber:o,blockOverrides:i,blockTag:c,functionName:"aggregate3",stateOverride:u}))),w=[];for(let e=0;e<y.length;e++){const t=y[e];if("rejected"===t.status){if(!a)throw t.reason;for(let n=0;n<h[e].length;n++)w.push({status:"failure",error:t.reason,result:void 0});continue}const n=t.value;for(let t=0;t<n.length;t++){const{returnData:r,success:s}=n[t],{callData:o}=h[e][t],{abi:i,address:c,functionName:u,args:l}=d[w.length];try{if("0x"===o)throw new E;if(!s)throw new yr({data:r});const e=Ln({abi:i,args:l,data:r,functionName:u});w.push(a?{result:e,status:"success"}:e)}catch(e){const t=Ur(e,{abi:i,address:c,args:l,docsPath:"/docs/contract/multicall",functionName:u});if(!a)throw t;w.push({error:t,result:void 0,status:"failure"})}}}if(w.length!==d.length)throw new g("multicall results mismatch");return w},exports.prepareAuthorization=nl,exports.prepareTransactionRequest=$o,exports.readContract=ma,exports.removeBlockTimestampInterval=async function(e){await e.request({method:`${e.mode}_removeBlockTimestampInterval`})},exports.requestAddresses=async function(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(e=>rt(e))},exports.requestPermissions=async function(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})},exports.reset=async function(e,{blockNumber:t,jsonRpcUrl:n}={}){await e.request({method:`${e.mode}_reset`,params:[{forking:{blockNumber:Number(t),jsonRpcUrl:n}}]})},exports.revert=async function(e,{id:t}){await e.request({method:"evm_revert",params:[t]})},exports.sendCalls=async function(e,t){const{account:n=e.account,capabilities:r,chain:s=e.chain,experimental_fallback:a,experimental_fallbackDelay:o=32,forceAtomic:i=!1,id:c,version:u="2.0.0"}=t,d=n?Dn(n):null,l=t.calls.map(e=>{const t=e,n=t.abi?Mn({abi:t.abi,functionName:t.functionName,args:t.args}):t.data;return{data:t.dataSuffix&&n?yt([n,t.dataSuffix]):n,to:t.to,value:t.value?ce(t.value):void 0}});try{const t=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:i,calls:l,capabilities:r,chainId:ce(s.id),from:d?.address,id:c,version:u}]},{retryCount:0});return"string"==typeof t?{id:t}:t}catch(n){const c=n;if(a&&("MethodNotFoundRpcError"===c.name||"MethodNotSupportedRpcError"===c.name||"UnknownRpcError"===c.name||c.details.toLowerCase().includes("does not exist / is not available")||c.details.toLowerCase().includes("missing or invalid. request()")||c.details.toLowerCase().includes("did not match any variant of untagged enum")||c.details.toLowerCase().includes("account upgraded to unsupported contract")||c.details.toLowerCase().includes("eip-7702 not supported")||c.details.toLowerCase().includes("unsupported wc_ method")||c.details.toLowerCase().includes("feature toggled misconfigured")||c.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(r){if(Object.values(r).some(e=>!e.optional)){const e="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Lr(new g(e,{details:e}))}}if(i&&l.length>1){const e="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Rr(new g(e,{details:e}))}const t=[];for(const n of l){const r=Xd(e,{account:d,chain:s,data:n.data,to:n.to,value:n.value?ne(n.value):void 0});t.push(r),o>0&&await new Promise(e=>setTimeout(e,o))}const n=await Promise.allSettled(t);if(n.every(e=>"rejected"===e.status))throw n[0].reason;return{id:yt([...n.map(e=>"fulfilled"===e.status?e.value:el),ce(s.id,{size:32}),Qd])}}throw ti(n,{...t,account:d,chain:t.chain})}},exports.sendRawTransaction=Kd,exports.sendTransaction=Xd,exports.sendUnsignedTransaction=async function(e,t){const{accessList:n,data:r,from:s,gas:a,gasPrice:o,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:u,to:d,value:l,...f}=t,p=e.chain?.formatters?.transactionRequest?.format,h=(p||oa)({...sa(f,{format:p}),accessList:n,data:r,from:s,gas:a,gasPrice:o,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:u,to:d,value:l},"sendUnsignedTransaction");return await e.request({method:"eth_sendUnsignedTransaction",params:[h]})},exports.setAutomine=async function(e,t){"ganache"===e.mode?t?await e.request({method:"miner_start"}):await e.request({method:"miner_stop"}):await e.request({method:"evm_setAutomine",params:[t]})},exports.setBalance=async function(e,{address:t,value:n}){"ganache"===e.mode?await e.request({method:"evm_setAccountBalance",params:[t,ce(n)]}):await e.request({method:`${e.mode}_setBalance`,params:[t,ce(n)]})},exports.setBlockGasLimit=async function(e,{gasLimit:t}){await e.request({method:"evm_setBlockGasLimit",params:[ce(t)]})},exports.setBlockTimestampInterval=async function(e,{interval:t}){const n="hardhat"===e.mode?1e3*t:t;await e.request({method:`${e.mode}_setBlockTimestampInterval`,params:[n]})},exports.setCode=async function(e,{address:t,bytecode:n}){"ganache"===e.mode?await e.request({method:"evm_setAccountCode",params:[t,n]}):await e.request({method:`${e.mode}_setCode`,params:[t,n]})},exports.setCoinbase=async function(e,{address:t}){await e.request({method:`${e.mode}_setCoinbase`,params:[t]})},exports.setIntervalMining=async function(e,{interval:t}){const n="hardhat"===e.mode?1e3*t:t;await e.request({method:"evm_setIntervalMining",params:[n]})},exports.setLoggingEnabled=async function(e,t){await e.request({method:`${e.mode}_setLoggingEnabled`,params:[t]})},exports.setMinGasPrice=async function(e,{gasPrice:t}){await e.request({method:`${e.mode}_setMinGasPrice`,params:[ce(t)]})},exports.setNextBlockBaseFeePerGas=async function(e,{baseFeePerGas:t}){await e.request({method:`${e.mode}_setNextBlockBaseFeePerGas`,params:[ce(t)]})},exports.setNextBlockTimestamp=async function(e,{timestamp:t}){await e.request({method:"evm_setNextBlockTimestamp",params:[ce(t)]})},exports.setNonce=async function(e,{address:t,nonce:n}){await e.request({method:`${e.mode}_setNonce`,params:[t,ce(n)]})},exports.setRpcUrl=async function(e,t){await e.request({method:`${e.mode}_setRpcUrl`,params:[t]})},exports.setStorageAt=async function(e,{address:t,index:n,value:r}){await e.request({method:`${e.mode}_setStorageAt`,params:[t,"number"==typeof n?ce(n):n,r]})},exports.showCallsStatus=async function(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})},exports.signAuthorization=async function(e,t){const{account:n=e.account}=t;if(!n)throw new Zd({docsPath:"/docs/eip7702/signAuthorization"});const r=Dn(n);if(!r.signAuthorization)throw new Yd({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await nl(e,t);return r.signAuthorization(s)},exports.signMessage=async function(e,{account:t=e.account,message:n}){if(!t)throw new Zd({docsPath:"/docs/actions/wallet/signMessage"});const r=Dn(t);if(r.signMessage)return r.signMessage({message:n});const s="string"==typeof n?de(n):n.raw instanceof Uint8Array?ae(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})},exports.signTransaction=async function(e,t){const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new Zd({docsPath:"/docs/actions/wallet/signTransaction"});const a=Dn(n);pa({account:a,...t});const o=await Nr(e,Ao,"getChainId")({});null!==r&&ei({currentChainId:o,chain:r});const i=r?.formatters||e.chain?.formatters,c=i?.transactionRequest?.format||oa;return a.signTransaction?a.signTransaction({...s,chainId:o},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...c({...s,account:a},"signTransaction"),chainId:ce(o),from:a.address}]},{retryCount:0})},exports.signTypedData=async function(e,t){const{account:n=e.account,domain:r,message:s,primaryType:a}=t;if(!n)throw new Zd({docsPath:"/docs/actions/wallet/signTypedData"});const o=Dn(n),i={EIP712Domain:ui({domain:r}),...t.types};if(ci({domain:r,message:s,primaryType:a,types:i}),o.signTypedData)return o.signTypedData({domain:r,message:s,primaryType:a,types:i});const c=function(e){const{domain:t,message:n,primaryType:r,types:s}=e,a=(e,t)=>{const n={...t};for(const t of e){const{name:e,type:r}=t;"address"===r&&(n[e]=n[e].toLowerCase())}return n},o=s.EIP712Domain&&t?a(s.EIP712Domain,t):{},i=(()=>{if("EIP712Domain"!==r)return a(s[r],n)})();return Yn({domain:o,message:i,primaryType:r,types:s})}({domain:r,message:s,primaryType:a,types:i});return e.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})},exports.simulate=Gc,exports.simulateBlocks=Gc,exports.simulateCalls=async function(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:a,traceAssetChanges:o,traceTransfers:i,validation:c}=t,u=t.account?Dn(t.account):void 0;if(o&&!u)throw new g("`account` is required when `traceAssetChanges` is true");const d=u?function(...e){const[t,n]=(()=>{if(Array.isArray(e[0])){const[t,n]=e;return[Qc(t),n]}return e})(),{bytecode:r,args:s}=n;return ys(r,t.inputs?.length&&s?.length?yc(t.inputs,s):"0x")}(Wc("constructor(bytes, bytes)"),{bytecode:Ms,args:["0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033",eu(tu("function getBalance(address)"),[u.address])]}):void 0,l=o?await Promise.all(t.calls.map(async t=>{if(!t.data&&!t.abi)return;const{accessList:n}=await Oa(e,{account:u.address,...t,data:t.abi?Mn(t):t.data});return n.map(({address:e,storageKeys:t})=>t.length>0?e:null)})).then(e=>e.flat().filter(Boolean)):[],f=await Gc(e,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:d}],stateOverrides:a},{calls:l.map((e,t)=>({abi:[tu("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:e,from:ru,nonce:t})),stateOverrides:[{address:ru,nonce:0}]}]:[],{calls:[...s,{}].map(e=>({...e,from:u?.address})),stateOverrides:a},...o?[{calls:[{data:d}]},{calls:l.map((e,t)=>({abi:[tu("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:e,from:ru,nonce:t})),stateOverrides:[{address:ru,nonce:0}]},{calls:l.map((e,t)=>({to:e,abi:[tu("function decimals() returns (uint256)")],functionName:"decimals",from:ru,nonce:t})),stateOverrides:[{address:ru,nonce:0}]},{calls:l.map((e,t)=>({to:e,abi:[tu("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:ru,nonce:t})),stateOverrides:[{address:ru,nonce:0}]},{calls:l.map((e,t)=>({to:e,abi:[tu("function symbol() returns (string)")],functionName:"symbol",from:ru,nonce:t})),stateOverrides:[{address:ru,nonce:0}]}]:[]],traceTransfers:i,validation:c}),p=o?f[2]:f[0],[h,b,,m,y,w,v,x]=o?f:[],{calls:P,...E}=p,I=P.slice(0,-1)??[],A=[...h?.calls??[],...b?.calls??[]].map(e=>"success"===e.status?ne(e.data):null),k=[...m?.calls??[],...y?.calls??[]].map(e=>"success"===e.status?ne(e.data):null),B=(w?.calls??[]).map(e=>"success"===e.status?e.result:null),$=(x?.calls??[]).map(e=>"success"===e.status?e.result:null),N=(v?.calls??[]).map(e=>"success"===e.status?e.result:null),T=[];for(const[e,t]of k.entries()){const n=A[e];if("bigint"!=typeof t)continue;if("bigint"!=typeof n)continue;const r=B[e-1],s=$[e-1],a=N[e-1],o=(()=>0===e?{address:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",decimals:18,symbol:"ETH"}:{address:l[e-1],decimals:a||r?Number(r??1):void 0,symbol:s??void 0})();T.some(e=>e.token.address===o.address)||T.push({token:o,value:{pre:n,post:t,diff:t-n}})}return{assetChanges:T,block:E,results:I}},exports.simulateContract=async function(e,t){const{abi:n,address:r,args:s,dataSuffix:a,functionName:o,...i}=t,c=i.account?Dn(i.account):e.account,u=Mn({abi:n,args:s,functionName:o});try{const{data:d}=await Nr(e,ha,"call")({batch:!1,data:`${u}${a?a.replace("0x",""):""}`,to:r,...i,account:c}),l=Ln({abi:n,args:s,functionName:o,data:d||"0x"});return{result:l,request:{abi:n.filter(e=>"name"in e&&e.name===t.functionName),address:r,args:s,dataSuffix:a,functionName:o,...i,account:c}}}catch(e){throw Ur(e,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c?.address})}},exports.snapshot=async function(e){return await e.request({method:"evm_snapshot"})},exports.stopImpersonatingAccount=async function(e,{address:t}){await e.request({method:`${e.mode}_stopImpersonatingAccount`,params:[t]})},exports.switchChain=async function(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:ce(t)}]},{retryCount:0})},exports.uninstallFilter=su,exports.verifyHash=jd,exports.verifyMessage=async function(e,{address:t,message:n,factory:r,factoryData:s,signature:a,...o}){return jd(e,{address:t,factory:r,factoryData:s,hash:si(n),signature:a,...o})},exports.verifyTypedData=async function(e,t){const{address:n,factory:r,factoryData:s,signature:a,message:o,primaryType:i,types:c,domain:u,...d}=t;return jd(e,{address:n,factory:r,factoryData:s,hash:li({message:o,primaryType:i,types:c,domain:u}),signature:a,...d})},exports.waitForCallsStatus=async function(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:e})=>200===e||e>=300,retryCount:a=4,retryDelay:o=({count:e})=>200*(1<<e),timeout:i=6e4,throwOnFailure:c=!1}=t,u=Yn(["waitForCallsStatus",e.uid,n]),{promise:d,resolve:l,reject:f}=ia();let p;const h=Hd(u,{resolve:l,reject:f},t=>{const i=Vd(async()=>{const r=e=>{clearTimeout(p),i(),e(),h()};try{const i=await Wo(async()=>{const t=await Nr(e,tl,"getCallsStatus")({id:n});if(c&&"failure"===t.status)throw new rl(t);return t},{retryCount:a,delay:o});if(!s(i))return;r(()=>t.resolve(i))}catch(e){r(()=>t.reject(e))}},{interval:r,emitOnBegin:!0});return i});return p=i?setTimeout(()=>{h(),clearTimeout(p),f(new sl({id:n}))},i):void 0,await d},exports.waitForTransactionReceipt=async function(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:a,retryCount:o=6,retryDelay:i=({count:e})=>200*(1<<e),timeout:c=18e4}=t,u=Yn(["waitForTransactionReceipt",e.uid,s]),d=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let l,f,p,h,b,m=!1;const{promise:y,resolve:g,reject:w}=ia(),v=c?setTimeout(()=>{b?.(),h?.(),w(new lr({hash:s}))},c):void 0;return h=Hd(u,{onReplaced:a,resolve:g,reject:w},async t=>{if(p=await Nr(e,qc,"getTransactionReceipt")({hash:s}).catch(()=>{}),p&&r<=1)return clearTimeout(v),t.resolve(p),void h?.();b=Nr(e,Wd,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:d,async onBlockNumber(a){const c=e=>{clearTimeout(v),b?.(),e(),h?.()};let u=a;if(!m)try{if(p){if(r>1&&(!p.blockNumber||u-p.blockNumber+1n<r))return;return void c(()=>t.resolve(p))}if(n&&!l&&(m=!0,await Wo(async()=>{l=await Nr(e,_c,"getTransaction")({hash:s}),l.blockNumber&&(u=l.blockNumber)},{delay:i,retryCount:o}),m=!1),p=await Nr(e,qc,"getTransactionReceipt")({hash:s}),r>1&&(!p.blockNumber||u-p.blockNumber+1n<r))return;c(()=>t.resolve(p))}catch(n){if(n instanceof ur||n instanceof dr){if(!l)return void(m=!1);try{f=l,m=!0;const n=await Wo(()=>Nr(e,to,"getBlock")({blockNumber:u,includeTransactions:!0}),{delay:i,retryCount:o,shouldRetry:({error:e})=>e instanceof Ja});m=!1;const s=n.transactions.find(({from:e,nonce:t})=>e===f.from&&t===f.nonce);if(!s)return;if(p=await Nr(e,qc,"getTransactionReceipt")({hash:s.hash}),r>1&&(!p.blockNumber||u-p.blockNumber+1n<r))return;let a="replaced";s.to===f.to&&s.value===f.value&&s.input===f.input?a="repriced":s.from===s.to&&0n===s.value&&(a="cancelled"),c(()=>{t.onReplaced?.({reason:a,replacedTransaction:f,transaction:s,transactionReceipt:p}),t.resolve(p)})}catch(e){c(()=>t.reject(e))}}else c(()=>t.reject(n))}}})}),y},exports.watchAsset=async function(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})},exports.watchBlockNumber=Wd,exports.watchBlocks=function(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:a,includeTransactions:o,poll:i,pollingInterval:c=e.pollingInterval}){const u=void 0!==i?i:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type),d=o??!1;let l;return u?Hd(Yn(["watchBlocks",e.uid,t,n,r,d,c]),{onBlock:s,onError:a},s=>Vd(async()=>{try{const r=await Nr(e,to,"getBlock")({blockTag:t,includeTransactions:d});if(null!==r.number&&null!=l?.number){if(r.number===l.number)return;if(r.number-l.number>1&&n)for(let t=l?.number+1n;t<r.number;t++){const n=await Nr(e,to,"getBlock")({blockNumber:t,includeTransactions:d});s.onBlock(n,l),l=n}}(null==l?.number||"pending"===t&&null==r?.number||null!==r.number&&r.number>l.number)&&(s.onBlock(r,l),l=r)}catch(e){s.onError?.(e)}},{emitOnBegin:r,interval:c})):(()=>{let n=!0,o=!0,i=()=>n=!1;return(async()=>{try{r&&Nr(e,to,"getBlock")({blockTag:t,includeTransactions:d}).then(e=>{n&&o&&(s(e,void 0),o=!1)}).catch(a);const c=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:u}=await c.subscribe({params:["newHeads"],async onData(t){if(!n)return;const r=await Nr(e,to,"getBlock")({blockNumber:t.result?.number,includeTransactions:d}).catch(()=>{});n&&(s(r,l),o=!1,l=r)},onError(e){a?.(e)}});i=u,n||i()}catch(e){a?.(e)}})(),()=>i()})()},exports.watchContractEvent=function(e,t){const{abi:n,address:r,args:s,batch:a=!0,eventName:o,fromBlock:i,onError:c,onLogs:u,poll:d,pollingInterval:l=e.pollingInterval,strict:f}=t;return(void 0!==d?d:"bigint"==typeof i||"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type))?(()=>{const t=f??!1;return Hd(Yn(["watchContractEvent",r,s,a,e.uid,o,l,t,i]),{onLogs:u,onError:c},c=>{let u,d;void 0!==i&&(u=i-1n);let f=!1;const p=Vd(async()=>{if(f)try{let i;if(d)i=await Nr(e,Ho,"getFilterChanges")({filter:d});else{const a=await Nr(e,So,"getBlockNumber")({});i=u&&u<a?await Nr(e,qo,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:u+1n,toBlock:a,strict:t}):[],u=a}if(0===i.length)return;if(a)c.onLogs(i);else for(const e of i)c.onLogs([e])}catch(e){d&&e instanceof Cr&&(f=!1),c.onError?.(e)}else{try{d=await Nr(e,Ra,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:t,fromBlock:i})}catch{}f=!0}},{emitOnBegin:!0,interval:l});return async()=>{d&&await Nr(e,su,"uninstallFilter")({filter:d}),p()}})})():(()=>{const t=f??!1,i=Yn(["watchContractEvent",r,s,a,e.uid,o,l,t]);let d=!0,p=()=>d=!1;return Hd(i,{onLogs:u,onError:c},t=>((async()=>{try{const a=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),i=o?Ca({abi:n,eventName:o,args:s}):[],{unsubscribe:c}=await a.subscribe({params:["logs",{address:r,topics:i}],onData(e){if(!d)return;const r=e.result;try{const{eventName:e,args:s}=Ro({abi:n,data:r.data,topics:r.topics,strict:f}),a=jo(r,{args:s,eventName:e});t.onLogs([a])}catch(e){let n,s;if(e instanceof M||e instanceof U){if(f)return;n=e.abiItem.name,s=e.abiItem.inputs?.some(e=>!("name"in e&&e.name))}const a=jo(r,{args:s?[]:{},eventName:n});t.onLogs([a])}},onError(e){t.onError?.(e)}});p=c,d||p()}catch(e){c?.(e)}})(),()=>p()))})()},exports.watchEvent=function(e,{address:t,args:n,batch:r=!0,event:s,events:a,fromBlock:o,onError:i,onLogs:c,poll:u,pollingInterval:d=e.pollingInterval,strict:l}){const f=void 0!==u?u:"bigint"==typeof o||"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type),p=l??!1;return f?Hd(Yn(["watchEvent",t,n,r,e.uid,s,d,o]),{onLogs:c,onError:i},i=>{let c,u;void 0!==o&&(c=o-1n);let l=!1;const f=Vd(async()=>{if(l)try{let o;if(u)o=await Nr(e,Ho,"getFilterChanges")({filter:u});else{const r=await Nr(e,So,"getBlockNumber")({});o=c&&c!==r?await Nr(e,_o,"getLogs")({address:t,args:n,event:s,events:a,fromBlock:c+1n,toBlock:r}):[],c=r}if(0===o.length)return;if(r)i.onLogs(o);else for(const e of o)i.onLogs([e])}catch(e){u&&e instanceof Cr&&(l=!1),i.onError?.(e)}else{try{u=await Nr(e,Ma,"createEventFilter")({address:t,args:n,event:s,events:a,strict:p,fromBlock:o})}catch{}l=!0}},{emitOnBegin:!0,interval:d});return async()=>{u&&await Nr(e,su,"uninstallFilter")({filter:u}),f()}}):(()=>{let r=!0,o=()=>r=!1;return(async()=>{try{const u=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),d=a??(s?[s]:void 0);let f=[];if(d){const e=d.flatMap(e=>Ca({abi:[e],eventName:e.name,args:n}));f=[e],s&&(f=f[0])}const{unsubscribe:h}=await u.subscribe({params:["logs",{address:t,topics:f}],onData(e){if(!r)return;const t=e.result;try{const{eventName:e,args:n}=Ro({abi:d??[],data:t.data,topics:t.topics,strict:p}),r=jo(t,{args:n,eventName:e});c([r])}catch(e){let n,r;if(e instanceof M||e instanceof U){if(l)return;n=e.abiItem.name,r=e.abiItem.inputs?.some(e=>!("name"in e&&e.name))}const s=jo(t,{args:r?[]:{},eventName:n});c([s])}},onError(e){i?.(e)}});o=h,r||o()}catch(e){i?.(e)}})(),()=>o()})()},exports.watchPendingTransactions=function(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=e.pollingInterval}){return(void 0!==s?s:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type)?Hd(Yn(["watchPendingTransactions",e.uid,t,a]),{onTransactions:r,onError:n},n=>{let r;const s=Vd(async()=>{try{if(!r)try{return void(r=await Nr(e,Ua,"createPendingTransactionFilter")({}))}catch(e){throw s(),e}const a=await Nr(e,Ho,"getFilterChanges")({filter:r});if(0===a.length)return;if(t)n.onTransactions(a);else for(const e of a)n.onTransactions([e])}catch(e){n.onError?.(e)}},{emitOnBegin:!0,interval:a});return async()=>{r&&await Nr(e,su,"uninstallFilter")({filter:r}),s()}}):(()=>{let t=!0,s=()=>t=!1;return(async()=>{try{const{unsubscribe:a}=await e.transport.subscribe({params:["newPendingTransactions"],onData(e){if(!t)return;const n=e.result;r([n])},onError(e){n?.(e)}});s=a,t||s()}catch(e){n?.(e)}})(),()=>s()})()},exports.writeContract=al;
