import*as e from"node:crypto";const t=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],n=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],r=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],s=[...r,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],a=[...r,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],o=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],i=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],c=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],u=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];function d(e,{includeName:t=!1}={}){if("function"!==e.type&&"event"!==e.type&&"error"!==e.type)throw new G(e.type);return`${e.name}(${f(e.inputs,{includeName:t})})`}function f(e,{includeName:t=!1}={}){return e?e.map(e=>function(e,{includeName:t}){if(e.type.startsWith("tuple"))return`(${f(e.components,{includeName:t})})${e.type.slice(5)}`;return e.type+(t&&e.name?` ${e.name}`:"")}(e,{includeName:t})).join(t?", ":","):""}function l(e,{strict:t=!0}={}){return!!e&&("string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")))}function h(e){return l(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const p="2.38.6";let b=({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,m=`viem@${p}`,y=class e extends Error{constructor(t,n={}){const r=n.cause instanceof e?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof e&&n.cause.docsPath||n.docsPath,a=b?.({...n,docsPath:s});super([t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...m?[`Version: ${m}`]:[]].join("\n"),n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=p}walk(e){return g(this,e)}};function g(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e&&void 0!==e.cause?g(e.cause,t):t?null:e}class w extends y{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join("\n"),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class v extends y{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join("\n"),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class x extends y{constructor({data:e,params:t,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join("\n"),{metaMessages:[`Params: (${f(t,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=n}}class P extends y{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class E extends y{constructor({expectedLength:e,givenLength:t,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${t}`].join("\n"),{name:"AbiEncodingArrayLengthMismatchError"})}}class k extends y{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${h(t)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class I extends y{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${t}`].join("\n"),{name:"AbiEncodingLengthMismatchError"})}}class B extends y{constructor(e,{docsPath:t}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join("\n"),{docsPath:t,name:"AbiErrorInputsNotFoundError"})}}class $ extends y{constructor(e,{docsPath:t}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join("\n"),{docsPath:t,name:"AbiErrorNotFoundError"})}}class A extends y{constructor(e,{docsPath:t}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class N extends y{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class z extends y{constructor(e,{docsPath:t}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t,name:"AbiEventSignatureNotFoundError"})}}class O extends y{constructor(e,{docsPath:t}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join("\n"),{docsPath:t,name:"AbiEventNotFoundError"})}}class T extends y{constructor(e,{docsPath:t}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t,name:"AbiFunctionNotFoundError"})}}class S extends y{constructor(e,{docsPath:t}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t,name:"AbiFunctionOutputsNotFoundError"})}}class F extends y{constructor(e,{docsPath:t}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t,name:"AbiFunctionSignatureNotFoundError"})}}class C extends y{constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${d(e.abiItem)}\`, and`,`\`${t.type}\` in \`${d(t.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let R=class extends y{constructor({expectedSize:e,givenSize:t}){super(`Expected bytes${e}, got bytes${t}.`,{name:"BytesSizeMismatchError"})}};class U extends y{constructor({abiItem:e,data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for non-indexed event parameters.`].join("\n"),{metaMessages:[`Params: (${f(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=t,this.params=n,this.size=r}}class L extends y{constructor({abiItem:e,param:t}){super([`Expected a topic for indexed event parameter${t.name?` "${t.name}"`:""} on event "${d(e,{includeName:!0})}".`].join("\n"),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class M extends y{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t,name:"InvalidAbiEncodingType"})}}class j extends y{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t,name:"InvalidAbiDecodingType"})}}let q=class extends y{constructor(e){super([`Value "${e}" is not a valid array.`].join("\n"),{name:"InvalidArrayError"})}};class G extends y{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join("\n"),{name:"InvalidDefinitionTypeError"})}}let _=class extends y{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},D=class extends y{constructor({offset:e,position:t,size:n}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}},H=class extends y{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}};class V extends y{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${t} ${n} long, but is ${e} ${n} long.`,{name:"InvalidBytesLengthError"})}}function W(e,{dir:t,size:n=32}={}){return"string"==typeof e?Z(e,{dir:t,size:n}):function(e,{dir:t,size:n=32}={}){if(null===n)return e;if(e.length>n)throw new H({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const a="right"===t;r[a?s:n-s-1]=e[a?s:e.length-s-1]}return r}(e,{dir:t,size:n})}function Z(e,{dir:t,size:n=32}={}){if(null===n)return e;const r=e.replace("0x","");if(r.length>2*n)throw new H({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r["right"===t?"padEnd":"padStart"](2*n,"0")}`}let Y=class extends y{constructor({max:e,min:t,signed:n,size:r,value:s}){super(`Number "${s}" is not in safe ${r?`${8*r}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}},K=class extends y{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class J extends y{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let X=class extends y{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Q(e,{dir:t="left"}={}){let n="string"==typeof e?e.replace("0x",""):e,r=0;for(let e=0;e<n.length-1&&"0"===n["left"===t?e:n.length-e-1].toString();e++)r++;return n="left"===t?n.slice(r):n.slice(0,n.length-r),"string"==typeof e?(1===n.length&&"right"===t&&(n=`${n}0`),`0x${n.length%2==1?`0${n}`:n}`):n}function ee(e,{size:t}){if(h(e)>t)throw new X({givenSize:h(e),maxSize:t})}function te(e,t={}){const{signed:n}=t;t.size&&ee(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2;return r<=(1n<<8n*BigInt(s)-1n)-1n?r:r-BigInt(`0x${"f".padStart(2*s,"f")}`)-1n}function ne(e,t={}){return Number(te(e,t))}const re=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function se(e,t={}){return"number"==typeof e||"bigint"==typeof e?ie(e,t):"string"==typeof e?ue(e,t):"boolean"==typeof e?ae(e,t):oe(e,t)}function ae(e,t={}){const n=`0x${Number(e)}`;return"number"==typeof t.size?(ee(n,{size:t.size}),W(n,{size:t.size})):n}function oe(e,t={}){let n="";for(let t=0;t<e.length;t++)n+=re[e[t]];const r=`0x${n}`;return"number"==typeof t.size?(ee(r,{size:t.size}),W(r,{dir:"right",size:t.size})):r}function ie(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let a;r?a=n?(1n<<8n*BigInt(r)-1n)-1n:2n**(8n*BigInt(r))-1n:"number"==typeof e&&(a=BigInt(Number.MAX_SAFE_INTEGER));const o="bigint"==typeof a&&n?-a-1n:0;if(a&&s>a||s<o){const t="bigint"==typeof e?"n":"";throw new Y({max:a?`${a}${t}`:void 0,min:`${o}${t}`,signed:n,size:r,value:`${e}${t}`})}const i=`0x${(n&&s<0?(1n<<BigInt(8*r))+BigInt(s):s).toString(16)}`;return r?W(i,{size:r}):i}const ce=new TextEncoder;function ue(e,t={}){return oe(ce.encode(e),t)}const de=new TextEncoder;function fe(e,t={}){return"number"==typeof e||"bigint"==typeof e?function(e,t){const n=ie(e,t);return pe(n)}(e,t):"boolean"==typeof e?function(e,t={}){const n=new Uint8Array(1);if(n[0]=Number(e),"number"==typeof t.size)return ee(n,{size:t.size}),W(n,{size:t.size});return n}(e,t):l(e)?pe(e,t):be(e,t)}const le={zero:48,nine:57,A:65,F:70,a:97,f:102};function he(e){return e>=le.zero&&e<=le.nine?e-le.zero:e>=le.A&&e<=le.F?e-(le.A-10):e>=le.a&&e<=le.f?e-(le.a-10):void 0}function pe(e,t={}){let n=e;t.size&&(ee(n,{size:t.size}),n=W(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,a=new Uint8Array(s);for(let e=0,t=0;e<s;e++){const n=he(r.charCodeAt(t++)),s=he(r.charCodeAt(t++));if(void 0===n||void 0===s)throw new y(`Invalid byte sequence ("${r[t-2]}${r[t-1]}" in "${r}").`);a[e]=16*n+s}return a}function be(e,t={}){const n=de.encode(e);return"number"==typeof t.size?(ee(n,{size:t.size}),W(n,{dir:"right",size:t.size})):n}const me=BigInt(2**32-1),ye=BigInt(32);function ge(e,t=!1){return t?{h:Number(e&me),l:Number(e>>ye&me)}:{h:0|Number(e>>ye&me),l:0|Number(e&me)}}const we=e&&"object"==typeof e&&"webcrypto"in e?e.webcrypto:e&&"object"==typeof e&&"randomBytes"in e?e:void 0;function ve(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function xe(e,...t){if(!((n=e)instanceof Uint8Array||ArrayBuffer.isView(n)&&"Uint8Array"===n.constructor.name))throw new Error("Uint8Array expected");
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
var n;if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Pe(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ee(e,t){xe(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function ke(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Ie(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Be(e,t){return e<<32-t|e>>>t}function $e(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const Ae=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])()?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=$e(e[t]);return e};function Ne(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}(e)),xe(e),e}let ze=class{};function Oe(e){const t=t=>e().update(Ne(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Te(e=32){if(we&&"function"==typeof we.getRandomValues)return we.getRandomValues(new Uint8Array(e));if(we&&"function"==typeof we.randomBytes)return Uint8Array.from(we.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const Se=BigInt(0),Fe=BigInt(1),Ce=BigInt(2),Re=BigInt(7),Ue=BigInt(256),Le=BigInt(113),Me=[],je=[],qe=[];for(let e=0,t=Fe,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Me.push(2*(5*r+n)),je.push((e+1)*(e+2)/2%64);let s=Se;for(let e=0;e<7;e++)t=(t<<Fe^(t>>Re)*Le)%Ue,t&Ce&&(s^=Fe<<(Fe<<BigInt(e))-Fe);qe.push(s)}const Ge=function(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let a=0;a<n;a++){const{h:n,l:o}=ge(e[a],t);[r[a],s[a]]=[n,o]}return[r,s]}(qe,!0),_e=Ge[0],De=Ge[1],He=(e,t,n)=>n>32?((e,t,n)=>t<<n-32|e>>>64-n)(e,t,n):((e,t,n)=>e<<n|t>>>32-n)(e,t,n),Ve=(e,t,n)=>n>32?((e,t,n)=>e<<n-32|t>>>64-n)(e,t,n):((e,t,n)=>t<<n|e>>>32-n)(e,t,n);let We=class e extends ze{constructor(e,t,n,r=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=s,ve(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");var a;this.state=new Uint8Array(200),this.state32=(a=this.state,new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)))}clone(){return this._cloneInto()}keccak(){Ae(this.state32),function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,s=(t+2)%10,a=n[s],o=n[s+1],i=He(a,o,1)^n[r],c=Ve(a,o,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=i,e[t+n+1]^=c}let t=e[2],s=e[3];for(let n=0;n<24;n++){const r=je[n],a=He(t,s,r),o=Ve(t,s,r),i=Me[n];t=e[i],s=e[i+1],e[i]=a,e[i+1]=o}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=_e[r],e[1]^=De[r]}ke(n)}(this.state32,this.rounds),Ae(this.state32),this.posOut=0,this.pos=0}update(e){Pe(this),xe(e=Ne(e));const{blockLen:t,state:n}=this,r=e.length;for(let s=0;s<r;){const a=Math.min(t-this.pos,r-s);for(let t=0;t<a;t++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,128&t&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){Pe(this,!1),xe(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,s=e.length;r<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-r);e.set(t.subarray(this.posOut,this.posOut+a),r),this.posOut+=a,r+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ve(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ee(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ke(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:a,enableXOF:o}=this;return t||(t=new e(n,r,s,o,a)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=a,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}};const Ze=(()=>{return e=1,t=136,n=32,Oe(()=>new We(t,e,n));var e,t,n})();function Ye(e,t){const n=t||"hex",r=Ze(l(e,{strict:!1})?fe(e):e);return"bytes"===n?r:se(r)}let Ke=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}};const Je=/^0x[a-fA-F0-9]{40}$/,Xe=new Ke(8192);function Qe(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(Xe.has(r))return Xe.get(r);const s=!(!Je.test(e)||e.toLowerCase()!==e&&n&&tt(e)!==e);return Xe.set(r,s),s}const et=new Ke(8192);function tt(e,t){if(et.has(`${e}.${t}`))return et.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=Ye(be(n),"bytes"),s=n.split("");for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&s[e]&&(s[e]=s[e].toUpperCase()),(15&r[e>>1])>=8&&s[e+1]&&(s[e+1]=s[e+1].toUpperCase());const a=`0x${s.join("")}`;return et.set(`${e}.${t}`,a),a}function nt(e,t){if(!Qe(e,{strict:!1}))throw new _({address:e});return tt(e,t)}let rt=class extends y{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},st=class extends y{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},at=class extends y{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const ot={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new at({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new st({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new rt({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new rt({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function it(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(ot);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function ct(e,t,n,{strict:r}={}){return l(e,{strict:!1})?lt(e,t,n,{strict:r}):ft(e,t,n,{strict:r})}function ut(e,t){if("number"==typeof t&&t>0&&t>h(e)-1)throw new D({offset:t,position:"start",size:h(e)})}function dt(e,t,n){if("number"==typeof t&&"number"==typeof n&&h(e)!==n-t)throw new D({offset:n,position:"end",size:h(e)})}function ft(e,t,n,{strict:r}={}){ut(e,t);const s=e.slice(t,n);return r&&dt(s,t,n),s}function lt(e,t,n,{strict:r}={}){ut(e,t);const s=`0x${e.replace("0x","").slice(2*(t??0),2*(n??e.length))}`;return r&&dt(s,t,n),s}function ht(e,t={}){void 0!==t.size&&ee(e,{size:t.size});return te(oe(e,t),t)}function pt(e,t={}){let n=e;if(void 0!==t.size&&(ee(n,{size:t.size}),n=Q(n)),n.length>1||n[0]>1)throw new K(n);return Boolean(n[0])}function bt(e,t={}){void 0!==t.size&&ee(e,{size:t.size});return ne(oe(e,t),t)}function mt(e){return"string"==typeof e[0]?yt(e):function(e){let t=0;for(const n of e)t+=n.length;const n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(e)}function yt(e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}const gt=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,wt=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function vt(e,t){if(e.length!==t.length)throw new I({expectedLength:e.length,givenLength:t.length});const n=function({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(xt({param:e[r],value:t[r]}));return n}({params:e,values:t}),r=Pt(n);return 0===r.length?"0x":r}function xt({param:e,value:t}){const n=Et(e.type);if(n){const[r,s]=n;return function(e,{length:t,param:n}){const r=null===t;if(!Array.isArray(e))throw new q(e);if(!r&&e.length!==t)throw new E({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const a=[];for(let t=0;t<e.length;t++){const r=xt({param:n,value:e[t]});r.dynamic&&(s=!0),a.push(r)}if(r||s){const e=Pt(a);if(r){const t=ie(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?mt([t,e]):t}}if(s)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:mt(a.map(({encoded:e})=>e))}}(t,{length:r,param:{...e,type:s}})}if("tuple"===e.type)return function(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const a=t.components[s],o=xt({param:a,value:e[Array.isArray(e)?s:a.name]});r.push(o),o.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Pt(r):mt(r.map(({encoded:e})=>e))}}(t,{param:e});if("address"===e.type)return function(e){if(!Qe(e))throw new _({address:e});return{dynamic:!1,encoded:Z(e.toLowerCase())}}(t);if("bool"===e.type)return function(e){if("boolean"!=typeof e)throw new y(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Z(ae(e))}}(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const n=e.type.startsWith("int"),[,,r="256"]=wt.exec(e.type)??[];return function(e,{signed:t,size:n=256}){if("number"==typeof n){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Y({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:ie(e,{size:32,signed:t})}}(t,{signed:n,size:Number(r)})}if(e.type.startsWith("bytes"))return function(e,{param:t}){const[,n]=t.type.split("bytes"),r=h(e);if(!n){let t=e;return r%32!=0&&(t=Z(t,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:mt([Z(ie(r,{size:32})),t])}}if(r!==Number.parseInt(n,10))throw new k({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Z(e,{dir:"right"})}}(t,{param:e});if("string"===e.type)return function(e){const t=ue(e),n=Math.ceil(h(t)/32),r=[];for(let e=0;e<n;e++)r.push(Z(ct(t,32*e,32*(e+1)),{dir:"right"}));return{dynamic:!0,encoded:mt([Z(ie(h(t),{size:32})),...r])}}(t);throw new M(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Pt(e){let t=0;for(let n=0;n<e.length;n++){const{dynamic:r,encoded:s}=e[n];t+=r?32:h(s)}const n=[],r=[];let s=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:i}=e[a];o?(n.push(ie(t+s,{size:32})),r.push(i),s+=h(i)):n.push(i)}return mt([...n,...r])}function Et(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function kt(e,t){const n="string"==typeof t?pe(t):t,r=it(n);if(0===h(n)&&e.length>0)throw new P;if(h(t)&&h(t)<32)throw new x({data:"string"==typeof t?t:oe(t),params:e,size:h(t)});let s=0;const a=[];for(let t=0;t<e.length;++t){const n=e[t];r.setPosition(s);const[o,i]=It(r,n,{staticPosition:0});s+=i,a.push(o)}return a}function It(e,t,{staticPosition:n}){const r=Et(t.type);if(r){const[s,a]=r;return function(e,t,{length:n,staticPosition:r}){if(!n){const n=r+bt(e.readBytes($t)),s=n+Bt;e.setPosition(n);const a=bt(e.readBytes(Bt)),o=At(t);let i=0;const c=[];for(let n=0;n<a;++n){e.setPosition(s+(o?32*n:i));const[r,a]=It(e,t,{staticPosition:s});i+=a,c.push(r)}return e.setPosition(r+32),[c,32]}if(At(t)){const s=r+bt(e.readBytes($t)),a=[];for(let r=0;r<n;++r){e.setPosition(s+32*r);const[n]=It(e,t,{staticPosition:s});a.push(n)}return e.setPosition(r+32),[a,32]}let s=0;const a=[];for(let o=0;o<n;++o){const[n,o]=It(e,t,{staticPosition:r+s});s+=o,a.push(n)}return[a,s]}(e,{...t,type:a},{length:s,staticPosition:n})}if("tuple"===t.type)return function(e,t,{staticPosition:n}){const r=0===t.components.length||t.components.some(({name:e})=>!e),s=r?[]:{};let a=0;if(At(t)){const o=n+bt(e.readBytes($t));for(let n=0;n<t.components.length;++n){const i=t.components[n];e.setPosition(o+a);const[c,u]=It(e,i,{staticPosition:o});a+=u,s[r?n:i?.name]=c}return e.setPosition(n+32),[s,32]}for(let o=0;o<t.components.length;++o){const i=t.components[o],[c,u]=It(e,i,{staticPosition:n});s[r?o:i?.name]=c,a+=u}return[s,a]}(e,t,{staticPosition:n});if("address"===t.type)return function(e){const t=e.readBytes(32);return[tt(oe(ft(t,-20))),32]}(e);if("bool"===t.type)return function(e){return[pt(e.readBytes(32),{size:32}),32]}(e);if(t.type.startsWith("bytes"))return function(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const t=bt(e.readBytes(32));e.setPosition(n+t);const r=bt(e.readBytes(32));if(0===r)return e.setPosition(n+32),["0x",32];const s=e.readBytes(r);return e.setPosition(n+32),[oe(s),32]}const a=oe(e.readBytes(Number.parseInt(s,10),32));return[a,32]}(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return function(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?ht(s,{signed:n}):bt(s,{signed:n}),32]}(e,t);if("string"===t.type)return function(e,{staticPosition:t}){const n=bt(e.readBytes(32)),r=t+n;e.setPosition(r);const s=bt(e.readBytes(32));if(0===s)return e.setPosition(t+32),["",32];const a=e.readBytes(s,32),o=function(e,t={}){let n=e;return void 0!==t.size&&(ee(n,{size:t.size}),n=Q(n,{dir:"right"})),(new TextDecoder).decode(n)}(Q(a));return e.setPosition(t+32),[o,32]}(e,{staticPosition:n});throw new j(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Bt=32,$t=32;function At(e){const{type:t}=e;if("string"===t)return!0;if("bytes"===t)return!0;if(t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(At);const n=Et(e.type);return!(!n||!At({...e,type:n[1]}))}function Nt(e){return Ye(fe(e))}let zt=class e extends Error{constructor(t,n={}){const r=n.cause instanceof e?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof e&&n.cause.docsPath||n.docsPath;super([t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],"Version: abitype@1.1.0"].join("\n")),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function Ot(e,t){const n=e.exec(t);return n?.groups}const Tt=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,St=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Ft=/^\(.+?\).*?$/,Ct=/^tuple(?<array>(\[(\d*)\])*)$/;function Rt(e){let t=e.type;if(Ct.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let r=0;r<n;r++){t+=Rt(e.components[r]),r<n-1&&(t+=", ")}const r=Ot(Ct,e.type);return t+=`)${r?.array??""}`,Rt({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Ut(e){let t="";const n=e.length;for(let r=0;r<n;r++){t+=Rt(e[r]),r!==n-1&&(t+=", ")}return t}function Lt(e){return"function"===e.type?`function ${e.name}(${Ut(e.inputs)})${e.stateMutability&&"nonpayable"!==e.stateMutability?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${Ut(e.outputs)})`:""}`:"event"===e.type?`event ${e.name}(${Ut(e.inputs)})`:"error"===e.type?`error ${e.name}(${Ut(e.inputs)})`:"constructor"===e.type?`constructor(${Ut(e.inputs)})${"payable"===e.stateMutability?" payable":""}`:"fallback"===e.type?"fallback() external"+("payable"===e.stateMutability?" payable":""):"receive() external payable"}const Mt=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;const jt=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;const qt=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;const Gt=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function _t(e){return Gt.test(e)}function Dt(e){return Ot(Gt,e)}const Ht=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;const Vt=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;const Wt=/^receive\(\) external payable$/;const Zt=new Set(["memory","indexed","storage","calldata"]),Yt=new Set(["indexed"]),Kt=new Set(["calldata","memory","storage"]);class Jt extends zt{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Xt extends zt{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Qt extends zt{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class en extends zt{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class tn extends zt{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class nn extends zt{constructor({param:e,name:t}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${t}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class rn extends zt{constructor({param:e,type:t,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${t?` in "${t}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class sn extends zt{constructor({param:e,type:t,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${t?` in "${t}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${n}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class an extends zt{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class on extends zt{constructor({signature:e,type:t}){super(`Invalid ${t} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class cn extends zt{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class un extends zt{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class dn extends zt{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class fn extends zt{constructor({current:e,depth:t}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${t>0?"opening":"closing"} parentheses.`],details:`Depth "${t}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}const ln=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function hn(e,t={}){if(function(e){return qt.test(e)}(e))return function(e,t={}){const n=function(e){return Ot(qt,e)}(e);if(!n)throw new on({signature:e,type:"function"});const r=gn(n.parameters),s=[],a=r.length;for(let e=0;e<a;e++)s.push(yn(r[e],{modifiers:Kt,structs:t,type:"function"}));const o=[];if(n.returns){const e=gn(n.returns),r=e.length;for(let n=0;n<r;n++)o.push(yn(e[n],{modifiers:Kt,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}(e,t);if(function(e){return jt.test(e)}(e))return function(e,t={}){const n=function(e){return Ot(jt,e)}(e);if(!n)throw new on({signature:e,type:"event"});const r=gn(n.parameters),s=[],a=r.length;for(let e=0;e<a;e++)s.push(yn(r[e],{modifiers:Yt,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}(e,t);if(function(e){return Mt.test(e)}(e))return function(e,t={}){const n=function(e){return Ot(Mt,e)}(e);if(!n)throw new on({signature:e,type:"error"});const r=gn(n.parameters),s=[],a=r.length;for(let e=0;e<a;e++)s.push(yn(r[e],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}(e,t);if(function(e){return Ht.test(e)}(e))return function(e,t={}){const n=function(e){return Ot(Ht,e)}(e);if(!n)throw new on({signature:e,type:"constructor"});const r=gn(n.parameters),s=[],a=r.length;for(let e=0;e<a;e++)s.push(yn(r[e],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}(e,t);if(function(e){return Vt.test(e)}(e))return function(e){const t=function(e){return Ot(Vt,e)}(e);if(!t)throw new on({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}(e);if(function(e){return Wt.test(e)}(e))return{type:"receive",stateMutability:"payable"};throw new cn({signature:e})}const pn=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,bn=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,mn=/^u?int$/;function yn(e,t){const n=function(e,t,n){let r="";if(n)for(const e of Object.entries(n)){if(!e)continue;let t="";for(const n of e[1])t+=`[${n.type}${n.name?`:${n.name}`:""}]`;r+=`(${e[0]}{${t}})`}return t?`${t}:${e}${r}`:e}(e,t?.type,t?.structs);if(ln.has(n))return ln.get(n);const r=Ft.test(e),s=Ot(r?bn:pn,e);if(!s)throw new tn({param:e});if(s.name&&function(e){return"address"===e||"bool"===e||"function"===e||"string"===e||"tuple"===e||Tt.test(e)||St.test(e)||vn.test(e)}(s.name))throw new nn({param:e,name:s.name});const a=s.name?{name:s.name}:{},o="indexed"===s.modifier?{indexed:!0}:{},i=t?.structs??{};let c,u={};if(r){c="tuple";const e=gn(s.type),t=[],n=e.length;for(let r=0;r<n;r++)t.push(yn(e[r],{structs:i}));u={components:t}}else if(s.type in i)c="tuple",u={components:i[s.type]};else if(mn.test(s.type))c=`${s.type}256`;else if("address payable"===s.type)c="address";else if(c=s.type,"struct"!==t?.type&&!wn(c))throw new Qt({type:c});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new rn({param:e,type:t?.type,modifier:s.modifier});if(Kt.has(s.modifier)&&!function(e,t){return t||"bytes"===e||"string"===e||"tuple"===e}(c,!!s.array))throw new sn({param:e,type:t?.type,modifier:s.modifier})}const d={type:`${c}${s.array??""}`,...a,...o,...u};return ln.set(n,d),d}function gn(e,t=[],n="",r=0){const s=e.trim().length;for(let a=0;a<s;a++){const s=e[a],o=e.slice(a+1);switch(s){case",":return 0===r?gn(o,[...t,n.trim()]):gn(o,t,`${n}${s}`,r);case"(":return gn(o,t,`${n}${s}`,r+1);case")":return gn(o,t,`${n}${s}`,r-1);default:return gn(o,t,`${n}${s}`,r)}}if(""===n)return t;if(0!==r)throw new fn({current:n,depth:r});return t.push(n.trim()),t}function wn(e){return"address"===e||"bool"===e||"function"===e||"string"===e||Tt.test(e)||St.test(e)}const vn=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function xn(e){const t={},n=e.length;for(let r=0;r<n;r++){const n=e[r];if(!_t(n))continue;const s=Dt(n);if(!s)throw new on({signature:n,type:"struct"});const a=s.properties.split(";"),o=[],i=a.length;for(let e=0;e<i;e++){const t=a[e].trim();if(!t)continue;const n=yn(t,{type:"struct"});o.push(n)}if(!o.length)throw new un({signature:n});t[s.name]=o}const r={},s=Object.entries(t),a=s.length;for(let e=0;e<a;e++){const[n,a]=s[e];r[n]=En(a,t)}return r}const Pn=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function En(e,t,n=new Set){const r=[],s=e.length;for(let a=0;a<s;a++){const s=e[a];if(Ft.test(s.type))r.push(s);else{const e=Ot(Pn,s.type);if(!e?.type)throw new an({abiParameter:s});const{array:a,type:o}=e;if(o in t){if(n.has(o))throw new dn({type:o});r.push({...s,type:`tuple${a??""}`,components:En(t[o]??[],t,new Set([...n,o]))})}else{if(!wn(o))throw new Xt({type:o});r.push(s)}}}return r}function kn(e){const t=xn(e),n=[],r=e.length;for(let s=0;s<r;s++){const r=e[s];_t(r)||n.push(hn(r,t))}return n}function In(e){let t;if("string"==typeof e)t=hn(e);else{const n=xn(e),r=e.length;for(let s=0;s<r;s++){const r=e[s];if(!_t(r)){t=hn(r,n);break}}}if(!t)throw new Jt({signature:e});return t}function Bn(e){const t=[];if("string"==typeof e){const n=gn(e),r=n.length;for(let e=0;e<r;e++)t.push(yn(n[e],{modifiers:Zt}))}else{const n=xn(e),r=e.length;for(let s=0;s<r;s++){const r=e[s];if(_t(r))continue;const a=gn(r),o=a.length;for(let e=0;e<o;e++)t.push(yn(a[e],{modifiers:Zt,structs:n}))}}if(0===t.length)throw new en({params:e});return t}const $n=e=>function(e){let t=!0,n="",r=0,s="",a=!1;for(let o=0;o<e.length;o++){const i=e[o];if(["(",")",","].includes(i)&&(t=!0),"("===i&&r++,")"===i&&r--,t)if(0!==r)" "!==i?(s+=i,n+=i):","!==e[o-1]&&","!==n&&",("!==n&&(n="",t=!1);else if(" "===i&&["event","function",""].includes(s))s="";else if(s+=i,")"===i){a=!0;break}}if(!a)throw new y("Unable to normalize signature.");return s}("string"==typeof e?e:Lt(e));function An(e){return Nt($n(e))}const Nn=An,zn=e=>ct(An(e),0,4);function On(e){const{abi:t,args:n=[],name:r}=e,s=l(r,{strict:!1}),a=t.filter(e=>s?"function"===e.type?zn(e)===r:"event"===e.type&&Nn(e)===r:"name"in e&&e.name===r);if(0===a.length)return;if(1===a.length)return a[0];let o;for(const e of a){if(!("inputs"in e))continue;if(!n||0===n.length){if(!e.inputs||0===e.inputs.length)return e;continue}if(!e.inputs)continue;if(0===e.inputs.length)continue;if(e.inputs.length!==n.length)continue;if(n.every((t,n)=>{const r="inputs"in e&&e.inputs[n];return!!r&&Tn(t,r)})){if(o&&"inputs"in o&&o.inputs){const t=Sn(e.inputs,o.inputs,n);if(t)throw new C({abiItem:e,type:t[0]},{abiItem:o,type:t[1]})}o=e}}return o||a[0]}function Tn(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Qe(e,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:return"tuple"===r&&"components"in t?Object.values(t.components).every((t,n)=>Tn(Object.values(e)[n],t)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?"number"===n||"bigint"===n:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?"string"===n||e instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)&&(Array.isArray(e)&&e.every(e=>Tn(e,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})))}}function Sn(e,t,n){for(const r in e){const s=e[r],a=t[r];if("tuple"===s.type&&"tuple"===a.type&&"components"in s&&"components"in a)return Sn(s.components,a.components,n[r]);const o=[s.type,a.type];if((()=>!(!o.includes("address")||!o.includes("bytes20"))||(o.includes("address")&&o.includes("string")||!(!o.includes("address")||!o.includes("bytes")))&&Qe(n[r],{strict:!1}))())return o}}const Fn="/docs/contract/decodeFunctionResult";function Cn(e){const{abi:t,args:n,functionName:r,data:s}=e;let a=t[0];if(r){const e=On({abi:t,args:n,name:r});if(!e)throw new T(r,{docsPath:Fn});a=e}if("function"!==a.type)throw new T(void 0,{docsPath:Fn});if(!a.outputs)throw new S(a.name,{docsPath:Fn});const o=kt(a.outputs,s);return o&&o.length>1?o:o&&1===o.length?o[0]:void 0}const Rn="/docs/contract/encodeFunctionData";function Un(e){const{args:t}=e,{abi:n,functionName:r}=1===e.abi.length&&e.functionName?.startsWith("0x")?e:function(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const e=On({abi:t,args:n,name:r});if(!e)throw new T(r,{docsPath:Rn});s=e}if("function"!==s.type)throw new T(void 0,{docsPath:Rn});return{abi:[s],functionName:zn(d(s))}}(e),s=n[0];return yt([r,("inputs"in s&&s.inputs?vt(s.inputs,t??[]):void 0)??"0x"])}class Ln extends y{constructor({blockNumber:e,chain:t,contract:n}){super(`Chain "${t.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Mn extends y{constructor({chain:e,currentChainId:t}){super(`The current chain of the wallet (id: ${t}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${t}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class jn extends y{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join("\n"),{name:"ChainNotFoundError"})}}class qn extends y{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function Gn({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new Ln({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Ln({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function _n(e){return"string"==typeof e?{address:e,type:"json-rpc"}:e}const Dn={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Hn={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Vn={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function Wn(e){const{abi:t,data:n}=e,r=ct(n,0,4);if("0x"===r)throw new P;const s=[...t||[],Hn,Vn].find(e=>"error"===e.type&&r===zn(d(e)));if(!s)throw new A(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?kt(s.inputs,ct(n,4)):void 0,errorName:s.name}}const Zn=(e,t,n)=>JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString():t,n);function Yn({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((e,n)=>`${r&&e.name?`${e.name}: `:""}${"object"==typeof t[n]?Zn(t[n]):t[n]}`).join(", ")})`}const Kn={gwei:9,wei:18},Jn={ether:-9,wei:9};function Xn(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,a]=[n.slice(0,n.length-t),n.slice(n.length-t)];return a=a.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${a?`.${a}`:""}`}function Qn(e,t="wei"){return Xn(e,Kn[t])}function er(e,t="wei"){return Xn(e,Jn[t])}class tr extends y{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class nr extends y{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function rr(e){return e.reduce((e,{slot:t,value:n})=>`${e}        ${t}: ${n}\n`,"")}function sr(e){const t=Object.entries(e).map(([e,t])=>void 0===t||!1===t?null:[e,t]).filter(Boolean),n=t.reduce((e,[t])=>Math.max(e,t.length),0);return t.map(([e,t])=>`  ${`${e}:`.padEnd(n+1)}  ${t}`).join("\n")}class ar extends y{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join("\n"),{name:"FeeConflictError"})}}class or extends y{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",sr(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class ir extends y{constructor(e,{account:t,docsPath:n,chain:r,data:s,gas:a,gasPrice:o,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:u,to:d,value:f}){const l=sr({chain:r&&`${r?.name} (id: ${r?.id})`,from:t?.address,to:d,value:void 0!==f&&`${Qn(f)} ${r?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:void 0!==o&&`${er(o)} gwei`,maxFeePerGas:void 0!==i&&`${er(i)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${er(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",l].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class cr extends y{constructor({blockHash:e,blockNumber:t,blockTag:n,hash:r,index:s}){let a="Transaction";n&&void 0!==s&&(a=`Transaction at block time "${n}" at index "${s}"`),e&&void 0!==s&&(a=`Transaction at block hash "${e}" at index "${s}"`),t&&void 0!==s&&(a=`Transaction at block number "${t}" at index "${s}"`),r&&(a=`Transaction with hash "${r}"`),super(`${a} could not be found.`,{name:"TransactionNotFoundError"})}}class ur extends y{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class dr extends y{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}class fr extends y{constructor(e,{account:t,docsPath:n,chain:r,data:s,gas:a,gasPrice:o,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:u,to:d,value:f,stateOverride:l}){const h=t?_n(t):void 0;let p=sr({from:h?.address,to:d,value:void 0!==f&&`${Qn(f)} ${r?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:void 0!==o&&`${er(o)} gwei`,maxFeePerGas:void 0!==i&&`${er(i)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${er(c)} gwei`,nonce:u});l&&(p+=`\n${function(e){return e.reduce((e,{address:t,...n})=>{let r=`${e}    ${t}:\n`;return n.nonce&&(r+=`      nonce: ${n.nonce}\n`),n.balance&&(r+=`      balance: ${n.balance}\n`),n.code&&(r+=`      code: ${n.code}\n`),n.state&&(r+="      state:\n",r+=rr(n.state)),n.stateDiff&&(r+="      stateDiff:\n",r+=rr(n.stateDiff)),r},"  State Override:\n").slice(0,-1)}(l)}`),super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",p].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class lr extends y{constructor(e,{abi:t,args:n,contractAddress:r,docsPath:s,functionName:a,sender:o}){const i=On({abi:t,args:n,name:a}),c=i?Yn({abiItem:i,args:n,includeFunctionName:!1,includeName:!1}):void 0,u=sr({address:r&&r,function:i?d(i,{includeName:!0}):void 0,args:c&&"()"!==c&&`${[...Array(a?.length??0).keys()].map(()=>" ").join("")}${c}`,sender:o});super(e.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],u&&"Contract Call:",u].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=t,this.args=n,this.cause=e,this.contractAddress=r,this.functionName=a,this.sender=o}}class hr extends y{constructor({abi:e,data:t,functionName:n,message:r}){let s,a,o,i,c;if(t&&"0x"!==t)try{a=Wn({abi:e,data:t});const{abiItem:n,errorName:r,args:s}=a;if("Error"===r)i=s[0];else if("Panic"===r){const[e]=s;i=Dn[e]}else{const e=n?d(n,{includeName:!0}):void 0,t=n&&s?Yn({abiItem:n,args:s,includeFunctionName:!1,includeName:!1}):void 0;o=[e?`Error: ${e}`:"",t&&"()"!==t?`       ${[...Array(r?.length??0).keys()].map(()=>" ").join("")}${t}`:""]}}catch(e){s=e}else r&&(i=r);s instanceof A&&(c=s.signature,o=[`Unable to decode signature "${c}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${c}.`]),super(i&&"execution reverted"!==i||c?[`The contract function "${n}" reverted with the following ${c?"signature":"reason"}:`,i||c].join("\n"):`The contract function "${n}" reverted.`,{cause:s,metaMessages:o,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.raw=t,this.reason=i,this.signature=c}}class pr extends y{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class br extends y{constructor({factory:e}){super("Deployment for counterfactual contract call failed"+(e?` for factory "${e}".`:""),{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class mr extends y{constructor({data:e,message:t}){super(t||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function yr(e){if(!(e instanceof y))return!1;const t=e.walk(e=>e instanceof hr);return t instanceof hr&&("HttpError"===t.data?.errorName||("ResolverError"===t.data?.errorName||("ResolverNotContract"===t.data?.errorName||("ResolverNotFound"===t.data?.errorName||("ReverseAddressMismatch"===t.data?.errorName||"UnsupportedResolverProfile"===t.data?.errorName)))))}const gr="/docs/contract/encodeErrorResult";function wr(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const e=On({abi:t,args:r,name:n});if(!e)throw new $(n,{docsPath:gr});s=e}if("error"!==s.type)throw new $(void 0,{docsPath:gr});const a=d(s),o=zn(a);let i="0x";if(r&&r.length>0){if(!s.inputs)throw new B(s.name,{docsPath:gr});i=vt(s.inputs,r)}return yt([o,i])}const vr="/docs/contract/encodeFunctionResult";const xr="x-batch-gateway:true";async function Pr(e){const{data:t,ccipRequest:r}=e,{args:[s]}=function(e){const{abi:t,data:n}=e,r=ct(n,0,4),s=t.find(e=>"function"===e.type&&r===zn(d(e)));if(!s)throw new F(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?kt(s.inputs,ct(n,4)):void 0}}({abi:n,data:t}),a=[],o=[];return await Promise.all(s.map(async(e,t)=>{try{o[t]=e.urls.includes(xr)?await Pr({data:e.data,ccipRequest:r}):await r(e),a[t]=!1}catch(e){a[t]=!0,o[t]="HttpRequestError"===(s=e).name&&s.status?wr({abi:n,errorName:"HttpError",args:[s.status,s.shortMessage]}):wr({abi:[Hn],errorName:"Error",args:["shortMessage"in s?s.shortMessage:s.message]})}var s})),function(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const e=On({abi:t,name:n});if(!e)throw new T(n,{docsPath:vr});s=e}if("function"!==s.type)throw new T(void 0,{docsPath:vr});if(!s.outputs)throw new S(s.name,{docsPath:vr});const a=(()=>{if(0===s.outputs.length)return[];if(1===s.outputs.length)return[r];if(Array.isArray(r))return r;throw new q(r)})();return vt(s.outputs,a)}({abi:n,functionName:"query",result:[a,o]})}function Er(e){if(66!==e.length)return null;if(0!==e.indexOf("["))return null;if(65!==e.indexOf("]"))return null;const t=`0x${e.slice(1,65)}`;return l(t)?t:null}function kr(e){let t=new Uint8Array(32).fill(0);if(!e)return oe(t);const n=e.split(".");for(let e=n.length-1;e>=0;e-=1){const r=Er(n[e]),s=r?fe(r):Ye(be(n[e]),"bytes");t=Ye(mt([t,s]),"bytes")}return oe(t)}function Ir(e){return`[${e.slice(2)}]`}function Br(e){const t=new Uint8Array(32).fill(0);return e?Er(e)||Ye(be(e)):oe(t)}function $r(e){const t=e.replace(/^\.|\.$/gm,"");if(0===t.length)return new Uint8Array(1);const n=new Uint8Array(be(t).byteLength+2);let r=0;const s=t.split(".");for(let e=0;e<s.length;e++){let t=be(s[e]);t.byteLength>255&&(t=be(Ir(Br(s[e])))),n[r]=t.length,n.set(t,r+1),r+=t.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}function Ar(e,t,n){const r=e[t.name];if("function"==typeof r)return r;const s=e[n];return"function"==typeof s?s:n=>t(e,n)}class Nr extends y{constructor({body:e,cause:t,details:n,headers:r,status:s,url:a}){super("HTTP request failed.",{cause:t,details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${a}`,e&&`Request body: ${Zn(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=r,this.status=s,this.url=a}}class zr extends y{constructor({body:e,error:t,url:n}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${n}`,`Request body: ${Zn(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data}}class Or extends y{constructor(e,{code:t,docsPath:n,metaMessages:r,name:s,shortMessage:a}){super(a,{cause:e,docsPath:n,metaMessages:r||e?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof zr?e.code:t??-1}}class Tr extends Or{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class Sr extends Or{constructor(e){super(e,{code:Sr.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Sr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Fr extends Or{constructor(e){super(e,{code:Fr.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join("\n")})}}Object.defineProperty(Fr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Cr extends Tr{constructor(e){super(e,{code:Cr.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Cr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Rr extends Tr{constructor(e){super(e,{code:Rr.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Rr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});const Ur=3;function Lr(e,{abi:t,address:n,args:r,docsPath:s,functionName:a,sender:o}){const i=e instanceof mr?e:e instanceof y?e.walk(e=>"data"in e)||e.walk():{},{code:c,data:u,details:d,message:f,shortMessage:l}=i,h=e instanceof P?new pr({functionName:a}):[Ur,Sr.code].includes(c)&&(u||d||f||l)?new hr({abi:t,data:"object"==typeof u?u.data:u,functionName:a,message:i instanceof zr?d:l??f}):e;return new lr(h,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:a,sender:o})}class Mr extends Error{constructor(e,t={}){const n=(()=>{if(t.cause instanceof Mr){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"==typeof t.cause.details?t.cause.details:t.cause?.message?t.cause.message:t.details})(),r=t.cause instanceof Mr&&t.cause.docsPath||t.docsPath,s=`https://oxlib.sh${r??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...n||r?["",n?`Details: ${n}`:void 0,r?`See: ${s}`:void 0]:[]].filter(e=>"string"==typeof e).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=n,this.docs=s,this.docsPath=r,this.shortMessage=e}walk(e){return jr(this,e)}}function jr(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e&&e.cause?jr(e.cause,t):t?null:e}function qr(e,t){if(ss(e)>t)throw new ls({givenSize:ss(e),maxSize:t})}const Gr=48,_r=57,Dr=65,Hr=70,Vr=97,Wr=102;function Zr(e){return e>=Gr&&e<=_r?e-Gr:e>=Dr&&e<=Hr?e-(Dr-10):e>=Vr&&e<=Wr?e-(Vr-10):void 0}function Yr(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let e=0;e<r.length-1&&"0"===r["left"===n?e:r.length-e-1].toString();e++)s++;return r="left"===n?r.slice(s):r.slice(0,r.length-s),r}function Kr(e,t){if(ks(e)>t)throw new Os({givenSize:ks(e),maxSize:t})}function Jr(e,t={}){const{dir:n,size:r=32}=t;if(0===r)return e;const s=e.replace("0x","");if(s.length>2*r)throw new Ss({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s["right"===n?"padEnd":"padStart"](2*r,"0")}`}function Xr(e,t,n){return JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString()+"#__bigint":t,n)}const Qr=new TextDecoder,es=new TextEncoder;function ts(e){return e instanceof Uint8Array?e:"string"==typeof e?ns(e):function(e){return e instanceof Uint8Array?e:new Uint8Array(e)}(e)}function ns(e,t={}){const{size:n}=t;let r=e;n&&(Kr(e,n),r=Ps(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const a=s.length/2,o=new Uint8Array(a);for(let e=0,t=0;e<a;e++){const n=Zr(s.charCodeAt(t++)),r=Zr(s.charCodeAt(t++));if(void 0===n||void 0===r)throw new Mr(`Invalid byte sequence ("${s[t-2]}${s[t-1]}" in "${s}").`);o[e]=16*n+r}return o}function rs(e,t={}){const{size:n}=t,r=es.encode(e);return"number"==typeof n?(qr(r,n),function(e,t){return function(e,t={}){const{dir:n,size:r=32}=t;if(0===r)return e;if(e.length>r)throw new hs({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let t=0;t<r;t++){const a="right"===n;s[a?t:r-t-1]=e[a?t:e.length-t-1]}return s}(e,{dir:"right",size:t})}(r,n)):r}function ss(e){return e.length}function as(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function os(e,t={}){const{size:n}=t;void 0!==n&&qr(e,n);return Is(gs(e,t),t)}function is(e,t={}){const{size:n}=t;let r=e;if(void 0!==n&&(qr(r,n),r=ds(r)),r.length>1||r[0]>1)throw new fs(r);return Boolean(r[0])}function cs(e,t={}){const{size:n}=t;void 0!==n&&qr(e,n);return Bs(gs(e,t),t)}function us(e,t={}){const{size:n}=t;let r=e;return void 0!==n&&(qr(r,n),r=Yr(r,{dir:"right"})),Qr.decode(r)}function ds(e){return Yr(e,{dir:"left"})}class fs extends Mr{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let ls=class extends Mr{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},hs=class extends Mr{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const ps=new TextEncoder,bs=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ms(...e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}function ys(e,t={}){const n=`0x${Number(e)}`;return"number"==typeof t.size?(Kr(n,t.size),xs(n,t.size)):n}function gs(e,t={}){let n="";for(let t=0;t<e.length;t++)n+=bs[e[t]];const r=`0x${n}`;return"number"==typeof t.size?(Kr(r,t.size),Ps(r,t.size)):r}function ws(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let a;r?a=n?(1n<<8n*BigInt(r)-1n)-1n:2n**(8n*BigInt(r))-1n:"number"==typeof e&&(a=BigInt(Number.MAX_SAFE_INTEGER));const o="bigint"==typeof a&&n?-a-1n:0;if(a&&s>a||s<o){const t="bigint"==typeof e?"n":"";throw new As({max:a?`${a}${t}`:void 0,min:`${o}${t}`,signed:n,size:r,value:`${e}${t}`})}const i=`0x${(n&&s<0?(1n<<BigInt(8*r))+BigInt(s):s).toString(16)}`;return r?xs(i,r):i}function vs(e,t={}){return gs(ps.encode(e),t)}function xs(e,t){return Jr(e,{dir:"left",size:t})}function Ps(e,t){return Jr(e,{dir:"right",size:t})}function Es(e,t,n,r={}){const{strict:s}=r;!function(e,t){if("number"==typeof t&&t>0&&t>ks(e)-1)throw new Ts({offset:t,position:"start",size:ks(e)})}(e,t);const a=`0x${e.replace("0x","").slice(2*(t??0),2*(n??e.length))}`;return s&&function(e,t,n){if("number"==typeof t&&"number"==typeof n&&ks(e)!==n-t)throw new Ts({offset:n,position:"end",size:ks(e)})}(a,t,n),a}function ks(e){return Math.ceil((e.length-2)/2)}function Is(e,t={}){const{signed:n}=t;t.size&&Kr(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,a=(1n<<8n*BigInt(s))-1n;return r<=a>>1n?r:r-a-1n}function Bs(e,t={}){const{signed:n,size:r}=t;return Number(n||r?Is(e,t):e)}function $s(e,t={}){const{strict:n=!1}=t;try{return function(e,t={}){const{strict:n=!1}=t;if(!e)throw new Ns(e);if("string"!=typeof e)throw new Ns(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new zs(e);if(!e.startsWith("0x"))throw new zs(e)}(e,{strict:n}),!0}catch{return!1}}class As extends Mr{constructor({max:e,min:t,signed:n,size:r,value:s}){super(`Number \`${s}\` is not in safe${r?` ${8*r}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Ns extends Mr{constructor(e){super(`Value \`${"object"==typeof e?Xr(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class zs extends Mr{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class Os extends Mr{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Ts extends Mr{constructor({offset:e,position:t,size:n}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class Ss extends Mr{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function Fs(e){return{address:e.address,amount:ws(e.amount),index:ws(e.index),validatorIndex:ws(e.validatorIndex)}}function Cs(e){return{..."bigint"==typeof e.baseFeePerGas&&{baseFeePerGas:ws(e.baseFeePerGas)},..."bigint"==typeof e.blobBaseFee&&{blobBaseFee:ws(e.blobBaseFee)},..."string"==typeof e.feeRecipient&&{feeRecipient:e.feeRecipient},..."bigint"==typeof e.gasLimit&&{gasLimit:ws(e.gasLimit)},..."bigint"==typeof e.number&&{number:ws(e.number)},..."bigint"==typeof e.prevRandao&&{prevRandao:ws(e.prevRandao)},..."bigint"==typeof e.time&&{time:ws(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(Fs)}}}const Rs="0x82ad56cb",Us="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Ls="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Ms="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",js="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033",qs="/docs/contract/encodeDeployData";function Gs(e){const{abi:t,args:n,bytecode:r}=e;if(!n||0===n.length)return r;const s=t.find(e=>"type"in e&&"constructor"===e.type);if(!s)throw new w({docsPath:qs});if(!("inputs"in s))throw new v({docsPath:qs});if(!s.inputs||0===s.inputs.length)throw new v({docsPath:qs});return yt([r,vt(s.inputs,n)])}class _s extends y{constructor({cause:e,message:t}={}){const n=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(_s,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(_s,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Ds extends y{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${er(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(Ds,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Hs extends y{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${er(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(Hs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Vs extends y{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(Vs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Ws extends y{constructor({cause:e,nonce:t}={}){super([`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join("\n"),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(Ws,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Zs extends y{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(Zs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Ys extends y{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join("\n"),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Ys,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Ks extends y{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Ks,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Js extends y{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Js,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Xs extends y{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Xs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Qs extends y{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${er(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${er(n)} gwei`:""}).`].join("\n"),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(Qs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class ea extends y{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function ta(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof y?e.walk(e=>e?.code===_s.code):e;return r instanceof y?new _s({cause:e,message:r.details}):_s.nodeMessage.test(n)?new _s({cause:e,message:e.details}):Ds.nodeMessage.test(n)?new Ds({cause:e,maxFeePerGas:t?.maxFeePerGas}):Hs.nodeMessage.test(n)?new Hs({cause:e,maxFeePerGas:t?.maxFeePerGas}):Vs.nodeMessage.test(n)?new Vs({cause:e,nonce:t?.nonce}):Ws.nodeMessage.test(n)?new Ws({cause:e,nonce:t?.nonce}):Zs.nodeMessage.test(n)?new Zs({cause:e,nonce:t?.nonce}):Ys.nodeMessage.test(n)?new Ys({cause:e}):Ks.nodeMessage.test(n)?new Ks({cause:e,gas:t?.gas}):Js.nodeMessage.test(n)?new Js({cause:e,gas:t?.gas}):Xs.nodeMessage.test(n)?new Xs({cause:e}):Qs.nodeMessage.test(n)?new Qs({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new ea({cause:e})}function na(e,{docsPath:t,...n}){const r=(()=>{const t=ta(e,n);return t instanceof ea?e:t})();return new fr(r,{docsPath:t,...n})}function ra(e,{format:t}){if(!t)return{};const n={};return function t(r){const s=Object.keys(r);for(const a of s)a in e&&(n[a]=e[a]),r[a]&&"object"==typeof r[a]&&!Array.isArray(r[a])&&t(r[a])}(t(e||{})),n}const sa={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function aa(e,t){const n={};return void 0!==e.authorizationList&&(n.authorizationList=e.authorizationList.map(e=>({address:e.address,r:e.r?ie(BigInt(e.r)):e.r,s:e.s?ie(BigInt(e.s)):e.s,chainId:ie(e.chainId),nonce:ie(e.nonce),...void 0!==e.yParity?{yParity:ie(e.yParity)}:{},...void 0!==e.v&&void 0===e.yParity?{v:ie(e.v)}:{}}))),void 0!==e.accessList&&(n.accessList=e.accessList),void 0!==e.blobVersionedHashes&&(n.blobVersionedHashes=e.blobVersionedHashes),void 0!==e.blobs&&("string"!=typeof e.blobs[0]?n.blobs=e.blobs.map(e=>oe(e)):n.blobs=e.blobs),void 0!==e.data&&(n.data=e.data),e.account&&(n.from=e.account.address),void 0!==e.from&&(n.from=e.from),void 0!==e.gas&&(n.gas=ie(e.gas)),void 0!==e.gasPrice&&(n.gasPrice=ie(e.gasPrice)),void 0!==e.maxFeePerBlobGas&&(n.maxFeePerBlobGas=ie(e.maxFeePerBlobGas)),void 0!==e.maxFeePerGas&&(n.maxFeePerGas=ie(e.maxFeePerGas)),void 0!==e.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=ie(e.maxPriorityFeePerGas)),void 0!==e.nonce&&(n.nonce=ie(e.nonce)),void 0!==e.to&&(n.to=e.to),void 0!==e.type&&(n.type=sa[e.type]),void 0!==e.value&&(n.value=ie(e.value)),n}function oa(){let e=()=>{},t=()=>{};return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}}const ia=new Map;function ca(e){if(e&&0!==e.length)return e.reduce((e,{slot:t,value:n})=>{if(66!==t.length)throw new V({size:t.length,targetSize:66,type:"hex"});if(66!==n.length)throw new V({size:n.length,targetSize:66,type:"hex"});return e[t]=n,e},{})}function ua(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:a}=e,o={};if(void 0!==a&&(o.code=a),void 0!==t&&(o.balance=ie(t)),void 0!==n&&(o.nonce=ie(n)),void 0!==r&&(o.state=ca(r)),void 0!==s){if(o.state)throw new nr;o.stateDiff=ca(s)}return o}function da(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!Qe(n,{strict:!1}))throw new _({address:n});if(t[n])throw new tr({address:n});t[n]=ua(r)}return t}const fa=2n**256n-1n;function la(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:a}=e,o=t?_n(t):void 0;if(o&&!Qe(o.address))throw new _({address:o.address});if(a&&!Qe(a))throw new _({address:a});if(void 0!==n&&(void 0!==r||void 0!==s))throw new ar;if(r&&r>fa)throw new Ds({maxFeePerGas:r});if(s&&r&&s>r)throw new Qs({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function ha(e,n){const{account:r=e.account,authorizationList:s,batch:a=Boolean(e.batch?.multicall),blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",accessList:c,blobs:u,blockOverrides:d,code:f,data:l,factory:h,factoryData:p,gas:b,gasPrice:m,maxFeePerBlobGas:g,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:x,to:P,value:E,stateOverride:k,...I}=n,B=r?_n(r):void 0;if(f&&(h||p))throw new y("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&P)throw new y("Cannot provide both `code` & `to` as parameters.");const $=f&&l,A=h&&p&&P&&l,N=$||A,z=$?pa({code:f,data:l}):A?function(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Gs({abi:kn(["constructor(address, bytes, address, bytes)"]),bytecode:Ls,args:[s,t,n,r]})}({data:l,factory:h,factoryData:p,to:P}):l;try{la(n);const r=("bigint"==typeof o?ie(o):void 0)||i,f=d?Cs(d):void 0,l=da(k),h=e.chain?.formatters?.transactionRequest?.format,p=(h||aa)({...ra(I,{format:h}),accessList:c,account:B,authorizationList:s,blobs:u,data:z,gas:b,gasPrice:m,maxFeePerBlobGas:g,maxFeePerGas:w,maxPriorityFeePerGas:v,nonce:x,to:N?void 0:P,value:E},"call");if(a&&function({request:e}){const{data:t,to:n,...r}=e;return!!t&&(!t.startsWith(Rs)&&(!!n&&!(Object.values(r).filter(e=>void 0!==e).length>0)))}({request:p})&&!l&&!f)try{return await async function(e,n){const{batchSize:r=1024,deployless:s=!1,wait:a=0}="object"==typeof e.batch?.multicall?e.batch.multicall:{},{blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",data:c,to:u}=n,d=(()=>{if(s)return null;if(n.multicallAddress)return n.multicallAddress;if(e.chain)return Gn({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new qn})(),f="bigint"==typeof o?ie(o):void 0,l=f||i,{schedule:h}=function({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const a=async()=>{const t=i();o();const n=t.map(({args:e})=>e);0!==n.length&&e(n).then(e=>{s&&Array.isArray(e)&&e.sort(s);for(let n=0;n<t.length;n++){const{resolve:r}=t[n];r?.([e[n],e])}}).catch(e=>{for(let n=0;n<t.length;n++){const{reject:r}=t[n];r?.(e)}})},o=()=>ia.delete(t),i=()=>ia.get(t)||[],c=e=>ia.set(t,[...i(),e]);return{flush:o,async schedule(e){const{promise:t,resolve:s,reject:o}=oa(),u=n?.([...i().map(({args:e})=>e),e]);return u&&a(),i().length>0?(c({args:e,resolve:s,reject:o}),t):(c({args:e,resolve:s,reject:o}),setTimeout(a,r),t)}}}({id:`${e.uid}.${l}`,wait:a,shouldSplitBatch(e){const t=e.reduce((e,{data:t})=>e+(t.length-2),0);return t>2*r},fn:async n=>{const r=n.map(e=>({allowFailure:!0,callData:e.data,target:e.to})),s=Un({abi:t,args:[r],functionName:"aggregate3"}),a=await e.request({method:"eth_call",params:[{...null===d?{data:pa({code:js,data:s})}:{to:d,data:s}},l]});return Cn({abi:t,args:[r],functionName:"aggregate3",data:a||"0x"})}}),[{returnData:p,success:b}]=await h({data:c,to:u});if(!b)throw new mr({data:p});return"0x"===p?{data:void 0}:{data:p}}(e,{...p,blockNumber:o,blockTag:i})}catch(e){if(!(e instanceof qn||e instanceof Ln))throw e}const y=(()=>{const e=[p,r];return l&&f?[...e,l,f]:l?[...e,l]:f?[...e,{},f]:e})(),$=await e.request({method:"eth_call",params:y});return"0x"===$?{data:void 0}:{data:$}}catch(t){const r=function(e){if(!(e instanceof y))return;const t=e.walk();return"object"==typeof t?.data?t.data?.data:t.data}(t),{offchainLookup:s,offchainLookupSignature:a}=await Promise.resolve().then(function(){return li});if(!1!==e.ccipRead&&r?.slice(0,10)===a&&P)return{data:await s(e,{data:r,to:P})};if(N&&"0x101bb98d"===r?.slice(0,10))throw new br({factory:h});throw na(t,{...n,account:B,chain:e.chain})}}function pa(e){const{code:t,data:n}=e;return Gs({abi:kn(["constructor(bytes, bytes)"]),bytecode:Us,args:[t,n]})}async function ba(e,t){const{abi:n,address:r,args:s,functionName:a,...o}=t,i=Un({abi:n,args:s,functionName:a});try{const{data:t}=await Ar(e,ha,"call")({...o,data:i,to:r});return Cn({abi:n,args:s,functionName:a,data:t||"0x"})}catch(e){throw Lr(e,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:a})}}async function ma(e,t){const{blockNumber:n,blockTag:r,coinType:a,name:o,gatewayUrls:c,strict:u}=t,{chain:d}=e,f=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!d)throw new Error("client chain not configured. universalResolverAddress is required.");return Gn({blockNumber:n,chain:d,contract:"ensUniversalResolver"})})(),l=d?.ensTlds;if(l&&!l.some(e=>o.endsWith(e)))return null;const h=null!=a?[kr(o),BigInt(a)]:[kr(o)];try{const t=Un({abi:i,functionName:"addr",args:h}),a={address:f,abi:s,functionName:"resolveWithGateways",args:[se($r(o)),t,c??[xr]],blockNumber:n,blockTag:r},u=Ar(e,ba,"readContract"),d=await u(a);if("0x"===d[0])return null;const l=Cn({abi:i,args:h,functionName:"addr",data:d[0]});return"0x"===l||"0x00"===Q(l)?null:l}catch(e){if(u)throw e;if(yr(e))return null;throw e}}class ya extends y{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class ga extends y{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class wa extends y{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class va extends y{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const xa=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Pa=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Ea=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,ka=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;function Ia(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Ba({uri:e,gatewayUrls:t}){const n=Ea.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Ia(t?.ipfs,"https://ipfs.io"),s=Ia(t?.arweave,"https://arweave.net"),a=e.match(xa),{protocol:o,subpath:i,target:c,subtarget:u=""}=a?.groups||{},d="ipns:/"===o||"ipns/"===i,f="ipfs:/"===o||"ipfs/"===i||Pa.test(e);if(e.startsWith("http")&&!d&&!f){let n=e;return t?.arweave&&(n=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:n,isOnChain:!1,isEncoded:!1}}if((d||f)&&c)return{uri:`${r}/${d?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if("ar:/"===o&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(ka,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new wa({uri:e})}function $a(e){if("object"!=typeof e||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new ya({data:e});return e.image||e.image_url||e.image_data}async function Aa({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Ba({uri:t,gatewayUrls:e});if(r)return n;const s=await async function(e){try{const t=await fetch(e,{method:"HEAD"});if(200===t.status){const e=t.headers.get("content-type");return e?.startsWith("image/")}return!1}catch(t){return("object"!=typeof t||void 0===t.response)&&!!Object.hasOwn(globalThis,"Image")&&new Promise(t=>{const n=new Image;n.onload=()=>{t(!0)},n.onerror=()=>{t(!1)},n.src=e})}}(n);if(s)return n;throw new wa({uri:t})}async function Na(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?async function(e,{gatewayUrls:t,record:n}){const r=function(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[a,o]=n.split(":"),[i,c]=r.split(":");if(!a||"eip155"!==a.toLowerCase())throw new ga({reason:"Only EIP-155 supported"});if(!o)throw new ga({reason:"Chain ID not found"});if(!c)throw new ga({reason:"Contract address not found"});if(!s)throw new ga({reason:"Token ID not found"});if(!i)throw new ga({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:i.toLowerCase(),contractAddress:c,tokenID:s}}(n),s=await async function(e,{nft:t}){if("erc721"===t.namespace)return ba(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if("erc1155"===t.namespace)return ba(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new va({namespace:t.namespace})}(e,{nft:r}),{uri:a,isOnChain:o,isEncoded:i}=Ba({uri:s,gatewayUrls:t});if(o&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const e=i?atob(a.replace("data:application/json;base64,","")):a;return Aa({uri:$a(JSON.parse(e)),gatewayUrls:t})}let c=r.tokenID;"erc1155"===r.namespace&&(c=c.replace("0x","").padStart(64,"0"));return async function({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(e=>e.json());return await Aa({gatewayUrls:e,uri:$a(n)})}catch{throw new wa({uri:t})}}({gatewayUrls:t,uri:a.replace(/(?:0x)?{id}/,c)})}(e,{gatewayUrls:t,record:n}):Aa({uri:n,gatewayUrls:t})}async function za(e,t){const{blockNumber:n,blockTag:r,key:a,name:i,gatewayUrls:c,strict:u}=t,{chain:d}=e,f=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!d)throw new Error("client chain not configured. universalResolverAddress is required.");return Gn({blockNumber:n,chain:d,contract:"ensUniversalResolver"})})(),l=d?.ensTlds;if(l&&!l.some(e=>i.endsWith(e)))return null;try{const t={address:f,abi:s,args:[se($r(i)),Un({abi:o,functionName:"text",args:[kr(i),a]}),c??[xr]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},u=Ar(e,ba,"readContract"),d=await u(t);if("0x"===d[0])return null;const l=Cn({abi:o,functionName:"text",data:d[0]});return""===l?null:l}catch(e){if(u)throw e;if(yr(e))return null;throw e}}async function Oa(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:a,strict:o,universalResolverAddress:i}){const c=await Ar(e,za,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:i,gatewayUrls:a,strict:o});if(!c)return null;try{return await Na(e,{record:c,gatewayUrls:r})}catch{return null}}async function Ta(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:o=60n,gatewayUrls:i,strict:c}=t,{chain:u}=e,d=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!u)throw new Error("client chain not configured. universalResolverAddress is required.");return Gn({blockNumber:r,chain:u,contract:"ensUniversalResolver"})})();try{const t={address:d,abi:a,args:[n,o,i??[xr]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},c=Ar(e,ba,"readContract"),[u]=await c(t);return u||null}catch(e){if(c)throw e;if(yr(e))return null;throw e}}async function Sa(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:a}=e,o=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return Gn({blockNumber:n,chain:a,contract:"ensUniversalResolver"})})(),i=a?.ensTlds;if(i&&!i.some(e=>s.endsWith(e)))throw new Error(`${s} is not a valid ENS TLD (${i?.join(", ")}) for chain "${a.name}" (id: ${a.id}).`);const[c]=await Ar(e,ba,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[se($r(s))],blockNumber:n,blockTag:r});return c}async function Fa(e,t){const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:a,data:o,gas:i,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,to:l,value:h,...p}=t,b=n?_n(n):void 0;try{la(t);const n=("bigint"==typeof r?ie(r):void 0)||s,m=e.chain?.formatters?.transactionRequest?.format,y=(m||aa)({...ra(p,{format:m}),account:b,blobs:a,data:o,gas:i,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:f,to:l,value:h},"createAccessList"),g=await e.request({method:"eth_createAccessList",params:[y,n]});return{accessList:g.accessList,gasUsed:BigInt(g.gasUsed)}}catch(n){throw na(n,{...t,account:b,chain:e.chain})}}function Ca(e,{method:t}){const n={};return"fallback"===e.transport.type&&e.transport.onResponse?.(({method:e,response:r,status:s,transport:a})=>{"success"===s&&t===e&&(n[r]=a.request)}),t=>n[t]||e.request}async function Ra(e){const t=Ca(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}class Ua extends y{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const La="/docs/contract/encodeEventTopics";function Ma(e){const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const e=On({abi:t,name:n});if(!e)throw new O(n,{docsPath:La});s=e}if("event"!==s.type)throw new O(void 0,{docsPath:La});const a=d(s),o=Nn(a);let i=[];if(r&&"inputs"in s){const e=s.inputs?.filter(e=>"indexed"in e&&e.indexed),t=Array.isArray(r)?r:Object.values(r).length>0?e?.map(e=>r[e.name])??[]:[];t.length>0&&(i=e?.map((e,n)=>Array.isArray(t[n])?t[n].map((r,s)=>ja({param:e,value:t[n][s]})):void 0!==t[n]&&null!==t[n]?ja({param:e,value:t[n]}):null)??[])}return[o,...i]}function ja({param:e,value:t}){if("string"===e.type||"bytes"===e.type)return Ye(fe(t));if("tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Ua(e.type);return vt([e],[t])}async function qa(e,t){const{address:n,abi:r,args:s,eventName:a,fromBlock:o,strict:i,toBlock:c}=t,u=Ca(e,{method:"eth_newFilter"}),d=a?Ma({abi:r,args:s,eventName:a}):void 0,f=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:"bigint"==typeof o?ie(o):o,toBlock:"bigint"==typeof c?ie(c):c,topics:d}]});return{abi:r,args:s,eventName:a,id:f,request:u(f),strict:Boolean(i),type:"event"}}async function Ga(e,{address:t,args:n,event:r,events:s,fromBlock:a,strict:o,toBlock:i}={}){const c=s??(r?[r]:void 0),u=Ca(e,{method:"eth_newFilter"});let d=[];if(c){const e=c.flatMap(e=>Ma({abi:[e],eventName:e.name,args:n}));d=[e],r&&(d=d[0])}const f=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof a?ie(a):a,toBlock:"bigint"==typeof i?ie(i):i,...d.length?{topics:d}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:a,id:f,request:u(f),strict:Boolean(o),toBlock:i,type:"event"}}async function _a(e){const t=Ca(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}function Da(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw new Error("Invalid yParityOrV value")}async function Ha({hash:e,signature:t}){return n=await async function({hash:e,signature:t}){const n=l(e)?e:se(e),{secp256k1:r}=await Promise.resolve().then(function(){return sf});return`0x${(()=>{if("object"==typeof t&&"r"in t&&"s"in t){const{r:e,s:n,v:s,yParity:a}=t,o=Da(Number(a??s));return new r.Signature(te(e),te(n)).addRecoveryBit(o)}const e=l(t)?t:se(t);if(65!==h(e))throw new Error("invalid signature length");const n=Da(ne(`0x${e.slice(130)}`));return r.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(n)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}({hash:e,signature:t}),tt(`0x${Ye(`0x${n.substring(4)}`).substring(26)}`);var n}function Va(e,t="hex"){const n=Wa(e),r=it(new Uint8Array(n.length));return n.encode(r),"hex"===t?oe(r.bytes):r.bytes}function Wa(e){return Array.isArray(e)?function(e){const t=e.reduce((e,t)=>e+t.length,0),n=Za(t);return{length:t<=55?1+t:1+n+t,encode(r){t<=55?r.pushByte(192+t):(r.pushByte(247+n),1===n?r.pushUint8(t):2===n?r.pushUint16(t):3===n?r.pushUint24(t):r.pushUint32(t));for(const{encode:t}of e)t(r)}}}(e.map(e=>Wa(e))):function(e){const t="string"==typeof e?pe(e):e,n=Za(t.length),r=1===t.length&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length;return{length:r,encode(e){1===t.length&&t[0]<128?e.pushBytes(t):t.length<=55?(e.pushByte(128+t.length),e.pushBytes(t)):(e.pushByte(183+n),1===n?e.pushUint8(t.length):2===n?e.pushUint16(t.length):3===n?e.pushUint24(t.length):e.pushUint32(t.length),e.pushBytes(t))}}}(e)}function Za(e){if(e<256)return 1;if(e<65536)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new y("Length is too large.")}function Ya(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,a=Ye(yt(["0x05",Va([t?ie(t):"0x",s,n?ie(n):"0x"])]));return"bytes"===r?pe(a):a}async function Ka(e){const{authorization:t,signature:n}=e;return Ha({hash:Ya(t),signature:n??t})}class Ja extends y{constructor(e,{account:t,docsPath:n,chain:r,data:s,gas:a,gasPrice:o,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:u,to:d,value:f}){const l=sr({from:t?.address,to:d,value:void 0!==f&&`${Qn(f)} ${r?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:void 0!==o&&`${er(o)} gwei`,maxFeePerGas:void 0!==i&&`${er(i)} gwei`,maxPriorityFeePerGas:void 0!==c&&`${er(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",l].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Xa extends y{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Qa extends y{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class eo extends y{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${er(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class to extends y{constructor({blockHash:e,blockNumber:t}){let n="Block";e&&(n=`Block at hash "${e}"`),t&&(n=`Block at number "${t}"`),super(`${n} could not be found.`,{name:"BlockNotFoundError"})}}const no={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function ro(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?ne(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?ne(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?no[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=e.authorizationList.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof n.v){if(0n===n.v||27n===n.v)return 0;if(1n===n.v||28n===n.v)return 1;if(n.v>=35n)return n.v%2n==0n?1:0}})(),"legacy"===n.type&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),"eip2930"===n.type&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),"eip1559"===n.type&&delete n.maxFeePerBlobGas,n}function so(e,t){const n=(e.transactions??[]).map(e=>"string"==typeof e?e:ro(e));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function ao(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){const a=s??!1,o=void 0!==n?ie(n):void 0;let i=null;if(i=t?await e.request({method:"eth_getBlockByHash",params:[t,a]},{dedupe:!0}):await e.request({method:"eth_getBlockByNumber",params:[o||r,a]},{dedupe:Boolean(o)}),!i)throw new to({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||so)(i,"getBlock")}async function oo(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function io(e,t){return co(e,t)}async function co(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const t=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if("function"==typeof t){const r=n||await Ar(e,ao,"getBlock")({}),a=await t({block:r,client:e,request:s});if(null===a)throw new Error;return a}if(void 0!==t)return t;return te(await e.request({method:"eth_maxPriorityFeePerGas"}))}catch{const[t,r]=await Promise.all([n?Promise.resolve(n):Ar(e,ao,"getBlock")({}),Ar(e,oo,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new Qa;const s=r-t.baseFeePerGas;return s<0n?0n:s}}async function uo(e,t){return fo(e,t)}async function fo(e,t){const{block:n,chain:r=e.chain,request:s,type:a="eip1559"}=t||{},o=await(async()=>"function"==typeof r?.fees?.baseFeeMultiplier?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(o<1)throw new Xa;const i=10**(o.toString().split(".")[1]?.length??0),c=e=>e*BigInt(Math.ceil(o*i))/BigInt(i),u=n||await Ar(e,ao,"getBlock")({});if("function"==typeof r?.fees?.estimateFeesPerGas){const t=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:c,request:s,type:a});if(null!==t)return t}if("eip1559"===a){if("bigint"!=typeof u.baseFeePerGas)throw new Qa;const t="bigint"==typeof s?.maxPriorityFeePerGas?s.maxPriorityFeePerGas:await co(e,{block:u,chain:r,request:s}),n=c(u.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??n+t,maxPriorityFeePerGas:t}}return{gasPrice:s?.gasPrice??c(await Ar(e,oo,"getGasPrice")({}))}}async function lo(e,{address:t,blockTag:n="latest",blockNumber:r}){return ne(await e.request({method:"eth_getTransactionCount",params:[t,"bigint"==typeof r?ie(r):n]},{dedupe:Boolean(r)}))}function ho(e){const{kzg:t}=e,n=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),r="string"==typeof e.blobs[0]?e.blobs.map(e=>pe(e)):e.blobs,s=[];for(const e of r)s.push(Uint8Array.from(t.blobToKzgCommitment(e)));return"bytes"===n?s:s.map(e=>oe(e))}function po(e){const{kzg:t}=e,n=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),r="string"==typeof e.blobs[0]?e.blobs.map(e=>pe(e)):e.blobs,s="string"==typeof e.commitments[0]?e.commitments.map(e=>pe(e)):e.commitments,a=[];for(let e=0;e<r.length;e++){const n=r[e],o=s[e];a.push(Uint8Array.from(t.computeBlobKzgProof(n,o)))}return"bytes"===n?a:a.map(e=>oe(e))}function bo(e,t,n){return e&t^~e&n}function mo(e,t,n){return e&t^e&n^t&n}class yo extends ze{constructor(e,t,n,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.buffer=new Uint8Array(e),this.view=Ie(this.buffer)}update(e){Pe(this),xe(e=Ne(e));const{view:t,buffer:n,blockLen:r}=this,s=e.length;for(let a=0;a<s;){const o=Math.min(r-this.pos,s-a);if(o===r){const t=Ie(e);for(;r<=s-a;a+=r)this.process(t,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Pe(this),Ee(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:s}=this;let{pos:a}=this;t[a++]=128,ke(this.buffer.subarray(a)),this.padOffset>r-a&&(this.process(n,0),a=0);for(let e=a;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const s=BigInt(32),a=BigInt(4294967295),o=Number(n>>s&a),i=Number(n&a),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,i,r)}(n,r-8,BigInt(8*this.length),s),this.process(n,0);const o=Ie(e),i=this.outputLen;if(i%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=i/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)o.setUint32(4*e,u[e],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:s,destroyed:a,pos:o}=this;return e.destroyed=a,e.finished=s,e.length=r,e.pos=o,r%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const go=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wo=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),vo=new Uint32Array(64);class xo extends yo{constructor(e=32){super(64,e,8,!1),this.A=0|go[0],this.B=0|go[1],this.C=0|go[2],this.D=0|go[3],this.E=0|go[4],this.F=0|go[5],this.G=0|go[6],this.H=0|go[7]}get(){const{A:e,B:t,C:n,D:r,E:s,F:a,G:o,H:i}=this;return[e,t,n,r,s,a,o,i]}set(e,t,n,r,s,a,o,i){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|s,this.F=0|a,this.G=0|o,this.H=0|i}process(e,t){for(let n=0;n<16;n++,t+=4)vo[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=vo[e-15],n=vo[e-2],r=Be(t,7)^Be(t,18)^t>>>3,s=Be(n,17)^Be(n,19)^n>>>10;vo[e]=s+vo[e-7]+r+vo[e-16]|0}let{A:n,B:r,C:s,D:a,E:o,F:i,G:c,H:u}=this;for(let e=0;e<64;e++){const t=u+(Be(o,6)^Be(o,11)^Be(o,25))+bo(o,i,c)+wo[e]+vo[e]|0,d=(Be(n,2)^Be(n,13)^Be(n,22))+mo(n,r,s)|0;u=c,c=i,i=o,o=a+t|0,a=s,s=r,r=n,n=t+d|0}n=n+this.A|0,r=r+this.B|0,s=s+this.C|0,a=a+this.D|0,o=o+this.E|0,i=i+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,r,s,a,o,i,c,u)}roundClean(){ke(vo)}destroy(){this.set(0,0,0,0,0,0,0,0),ke(this.buffer)}}const Po=Oe(()=>new xo),Eo=Po;function ko(e){const{commitment:t,version:n=1}=e,r=e.to??("string"==typeof t?"hex":"bytes"),s=Eo(l(a=t,{strict:!1})?fe(a):a);var a;return s.set([n],0),"bytes"===r?s:oe(s)}const Io=4096,Bo=131072,$o=761855;class Ao extends y{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}}class No extends y{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function zo(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??function(e){const t="string"==typeof e.data?pe(e.data):e.data,n=h(t);if(!n)throw new No;if(n>$o)throw new Ao({maxSize:$o,size:n});const r=[];let s=!0,a=0;for(;s;){const e=it(new Uint8Array(Bo));let n=0;for(;n<Io;){const r=t.slice(a,a+31);if(e.pushByte(0),e.pushBytes(r),r.length<31){e.pushByte(128),s=!1;break}n++,a+=31}r.push(e)}return r.map(e=>oe(e.bytes))}({data:t}),a=e.commitments??ho({blobs:s,kzg:n,to:r}),o=e.proofs??po({blobs:s,commitments:a,kzg:n,to:r}),i=[];for(let e=0;e<s.length;e++)i.push({blob:s[e],commitment:a[e],proof:o[e]});return i}async function Oo(e){return ne(await e.request({method:"eth_chainId"},{dedupe:!0}))}const To=["blobVersionedHashes","chainId","fees","gas","nonce","type"],So=new Map;async function Fo(e,t){const{account:n=e.account,blobs:r,chain:s,gas:a,kzg:o,nonce:i,nonceManager:c,parameters:u=To,type:d}=t,f=n?_n(n):n,l={...t,...f?{from:f?.address}:{}};let h,p;async function b(){return h||(h=await Ar(e,ao,"getBlock")({blockTag:"latest"}),h)}async function m(){if(p)return p;if(s)return s.id;if(void 0!==t.chainId)return t.chainId;const n=await Ar(e,Oo,"getChainId")({});return p=n,p}if(u.includes("nonce")&&void 0===i&&f)if(c){const t=await m();l.nonce=await c.consume({address:f.address,chainId:t,client:e})}else l.nonce=await Ar(e,lo,"getTransactionCount")({address:f.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&o){const e=ho({blobs:r,kzg:o});if(u.includes("blobVersionedHashes")){const t=function(e){const{commitments:t,version:n}=e,r=e.to,s=[];for(const e of t)s.push(ko({commitment:e,to:r,version:n}));return s}({commitments:e,to:"hex"});l.blobVersionedHashes=t}if(u.includes("sidecars")){const t=zo({blobs:r,commitments:e,proofs:po({blobs:r,commitments:e,kzg:o}),to:"hex"});l.sidecars=t}}if(u.includes("chainId")&&(l.chainId=await m()),(u.includes("fees")||u.includes("type"))&&void 0===d)try{l.type=function(e){if(e.type)return e.type;if(void 0!==e.authorizationList)return"eip7702";if(void 0!==e.blobs||void 0!==e.blobVersionedHashes||void 0!==e.maxFeePerBlobGas||void 0!==e.sidecars)return"eip4844";if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new or({transaction:e})}(l)}catch{let t=So.get(e.uid);if(void 0===t){const n=await b();t="bigint"==typeof n?.baseFeePerGas,So.set(e.uid,t)}l.type=t?"eip1559":"legacy"}if(u.includes("fees"))if("legacy"!==l.type&&"eip2930"!==l.type){if(void 0===l.maxFeePerGas||void 0===l.maxPriorityFeePerGas){const n=await b(),{maxFeePerGas:r,maxPriorityFeePerGas:a}=await fo(e,{block:n,chain:s,request:l});if(void 0===t.maxPriorityFeePerGas&&t.maxFeePerGas&&t.maxFeePerGas<a)throw new eo({maxPriorityFeePerGas:a});l.maxPriorityFeePerGas=a,l.maxFeePerGas=r}}else{if(void 0!==t.maxFeePerGas||void 0!==t.maxPriorityFeePerGas)throw new Qa;if(void 0===t.gasPrice){const t=await b(),{gasPrice:n}=await fo(e,{block:t,chain:s,request:l,type:"legacy"});l.gasPrice=n}}return u.includes("gas")&&void 0===a&&(l.gas=await Ar(e,Co,"estimateGas")({...l,account:f,prepare:"local"===f?.type?[]:["blobVersionedHashes"]})),la(l),delete l.parameters,l}async function Co(e,t){const{account:n=e.account,prepare:r=!0}=t,s=n?_n(n):void 0,a=Array.isArray(r)?r:"local"!==s?.type?["blobVersionedHashes"]:void 0;try{const{accessList:n,authorizationList:o,blobs:i,blobVersionedHashes:c,blockNumber:u,blockTag:d,data:f,gas:l,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:b,maxPriorityFeePerGas:m,nonce:g,value:w,stateOverride:v,...x}=r?await Fo(e,{...t,parameters:a}):t,P=("bigint"==typeof u?ie(u):void 0)||d,E=da(v),k=await(async()=>x.to?x.to:o&&o.length>0?await Ka({authorization:o[0]}).catch(()=>{throw new y("`to` is required. Could not infer from `authorizationList`")}):void 0)();la(t);const I=e.chain?.formatters?.transactionRequest?.format,B=(I||aa)({...ra(x,{format:I}),account:s,accessList:n,authorizationList:o,blobs:i,blobVersionedHashes:c,data:f,gas:l,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:b,maxPriorityFeePerGas:m,nonce:g,to:k,value:w},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:E?[B,P??e.experimental_blockTag??"latest",E]:P?[B,P]:[B]}))}catch(n){throw function(e,{docsPath:t,...n}){const r=(()=>{const t=ta(e,n);return t instanceof ea?e:t})();return new Ja(r,{docsPath:t,...n})}(n,{...t,account:s,chain:e.chain})}}async function Ro(e,t){const{abi:n,address:r,args:s,functionName:a,dataSuffix:o,...i}=t,c=Un({abi:n,args:s,functionName:a});try{return await Ar(e,Co,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:r,...i})}catch(e){const t=i.account?_n(i.account):void 0;throw Lr(e,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:t?.address})}}async function Uo(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s="bigint"==typeof n?ie(n):void 0,a=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(a)}async function Lo(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}const Mo=new Map,jo=new Map;async function qo(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=function(e){const t=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:n=>t.set(e,n)}),n=t(e,Mo),r=t(e,jo);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}(t),s=r.response.get();if(s&&n>0){if(Date.now()-s.created.getTime()<n)return s.data}let a=r.promise.get();a||(a=e(),r.promise.set(a));try{const e=await a;return r.response.set({created:new Date,data:e}),e}finally{r.promise.clear()}}async function Go(e,{cacheTime:t=e.cacheTime}={}){const n=await qo(()=>e.request({method:"eth_blockNumber"}),{cacheKey:(r=e.uid,`blockNumber.${r}`),cacheTime:t});var r;return BigInt(n)}async function _o(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=void 0!==n?ie(n):void 0;let a;return a=t?await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:Boolean(s)}),ne(a)}async function Do(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=void 0!==n?ie(n):void 0,a=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:Boolean(s)});if("0x"!==a)return a}function Ho(e,t){if(!Qe(e,{strict:!1}))throw new _({address:e});if(!Qe(t,{strict:!1}))throw new _({address:t});return e.toLowerCase()===t.toLowerCase()}const Vo="/docs/contract/decodeEventLog";function Wo(e){const{abi:t,data:n,strict:r,topics:s}=e,a=r??!0,[o,...i]=s;if(!o)throw new N({docsPath:Vo});const c=t.find(e=>"event"===e.type&&o===Nn(d(e)));if(!c||!("name"in c)||"event"!==c.type)throw new z(o,{docsPath:Vo});const{name:u,inputs:f}=c,l=f?.some(e=>!("name"in e&&e.name)),p=l?[]:{},b=f.map((e,t)=>[e,t]).filter(([e])=>"indexed"in e&&e.indexed);for(let e=0;e<b.length;e++){const[t,n]=b[e],r=i[e];if(!r)throw new L({abiItem:c,param:t});p[l?n:t.name||n]=Zo({param:t,value:r})}const m=f.filter(e=>!("indexed"in e&&e.indexed));if(m.length>0)if(n&&"0x"!==n)try{const e=kt(m,n);if(e)if(l)for(let t=0;t<f.length;t++)p[t]=p[t]??e.shift();else for(let t=0;t<m.length;t++)p[m[t].name]=e[t]}catch(e){if(a){if(e instanceof x||e instanceof st)throw new U({abiItem:c,data:n,params:m,size:h(n)});throw e}}else if(a)throw new U({abiItem:c,data:"0x",params:m,size:0});return{eventName:u,args:Object.values(p).length>0?p:void 0}}function Zo({param:e,value:t}){if("string"===e.type||"bytes"===e.type||"tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))return t;return(kt([e],t)||[])[0]}function Yo(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,a=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(e=>{try{const r=t.find(t=>"event"===t.type&&e.topics[0]===Nn(t));if(!r)return null;const o=Wo({...e,abi:[r],strict:s});return a&&!a.includes(o.eventName)?null:function(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(e,t,n){try{return"address"===e.type?Ho(t,n):"string"===e.type||"bytes"===e.type?Ye(fe(t))===n:t===n}catch{return!1}}if(Array.isArray(t)&&Array.isArray(r))return r.every((e,r)=>{if(null==e)return!0;const a=n[r];if(!a)return!1;return(Array.isArray(e)?e:[e]).some(e=>s(a,e,t[r]))});return"object"==typeof t&&!Array.isArray(t)&&"object"==typeof r&&!Array.isArray(r)&&Object.entries(r).every(([e,r])=>{if(null==r)return!0;const a=n.find(t=>t.name===e);if(!a)return!1;return(Array.isArray(r)?r:[r]).some(n=>s(a,n,t[e]))})}({args:o.args,inputs:r.inputs,matchArgs:n})?{...o,...e}:null}catch(t){let n,r;if(t instanceof z)return null;if(t instanceof U||t instanceof L){if(s)return null;n=t.abiItem.name,r=t.abiItem.inputs?.some(e=>!("name"in e&&e.name))}return{...e,args:r?[]:{},eventName:n}}}).filter(Boolean)}function Ko(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function Jo(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:a,events:o,args:i,strict:c}={}){const u=c??!1,d=o??(a?[a]:void 0);let f,l=[];if(d){const e=d.flatMap(e=>Ma({abi:[e],eventName:e.name,args:o?void 0:i}));l=[e],a&&(l=l[0])}f=n?await e.request({method:"eth_getLogs",params:[{address:t,topics:l,blockHash:n}]}):await e.request({method:"eth_getLogs",params:[{address:t,topics:l,fromBlock:"bigint"==typeof r?ie(r):r,toBlock:"bigint"==typeof s?ie(s):s}]});const h=f.map(e=>Ko(e));return d?Yo({abi:d,args:i,logs:h,strict:u}):h}async function Xo(e,t){const{abi:n,address:r,args:s,blockHash:a,eventName:o,fromBlock:i,toBlock:c,strict:u}=t,d=o?On({abi:n,name:o}):void 0,f=d?void 0:n.filter(e=>"event"===e.type);return Ar(e,Jo,"getLogs")({address:r,args:s,blockHash:a,event:d,events:f,fromBlock:i,toBlock:c,strict:u})}class Qo extends y{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function ei(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[t,a,o,i,c,u,d]=await Ar(e,ba,"readContract")({abi:ti,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:a,version:o,chainId:Number(i),verifyingContract:c,salt:u},extensions:d,fields:t}}catch(e){const t=e;if("ContractFunctionExecutionError"===t.name&&"ContractFunctionZeroDataError"===t.cause.name)throw new Qo({address:n});throw t}}const ti=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];async function ni(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const a="bigint"==typeof n?ie(n):void 0;return function(e){return{baseFeePerGas:e.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(e=>e.map(e=>BigInt(e)))}}(await e.request({method:"eth_feeHistory",params:[ie(t),a||r,s]},{dedupe:Boolean(a)}))}async function ri(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if("string"==typeof r[0])return r;const s=r.map(e=>Ko(e));return"abi"in t&&t.abi?Yo({abi:t.abi,logs:s,strict:n}):s}async function si(e,{filter:t}){const n=t.strict??!1,r=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(e=>Ko(e));return t.abi?Yo({abi:t.abi,logs:r,strict:n}):r}async function ai(e){return new Promise(t=>setTimeout(t,e))}function oi(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,a)=>{const o=async({count:i=0}={})=>{try{const t=await e();s(t)}catch(e){if(i<n&&await r({count:i,error:e}))return(async({error:e})=>{const n="function"==typeof t?t({count:i,error:e}):t;n&&await ai(n),o({count:i+1})})({error:e});a(e)}};o()})}class ii extends y{constructor({callbackSelector:e,cause:t,data:n,extraData:r,sender:s,urls:a}){super(t.shortMessage||"An error occurred while fetching for an offchain result.",{cause:t,metaMessages:[...t.metaMessages||[],t.metaMessages?.length?"":[],"Offchain Gateway Call:",a&&["  Gateway URL(s):",...a.map(e=>`    ${e}`)],`  Sender: ${s}`,`  Data: ${n}`,`  Callback selector: ${e}`,`  Extra data: ${r}`].flat(),name:"OffchainLookupError"})}}class ci extends y{constructor({result:e,url:t}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${t}`,`Response: ${Zn(e)}`],name:"OffchainLookupResponseMalformedError"})}}class ui extends y{constructor({sender:e,to:t}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${t}`,`OffchainLookup sender address: ${e}`],name:"OffchainLookupSenderMismatchError"})}}const di={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function fi({data:e,sender:t,urls:n}){let r=new Error("An unknown error occurred.");for(let s=0;s<n.length;s++){const a=n[s],o=a.includes("{data}")?"GET":"POST",i="POST"===o?{data:e,sender:t}:void 0,c="POST"===o?{"Content-Type":"application/json"}:{};try{const n=await fetch(a.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(i),headers:c,method:o});let s;if(s=n.headers.get("Content-Type")?.startsWith("application/json")?(await n.json()).data:await n.text(),!n.ok){r=new Nr({body:i,details:s?.error?Zn(s.error):n.statusText,headers:n.headers,status:n.status,url:a});continue}if(!l(s)){r=new ci({result:s,url:a});continue}return s}catch(e){r=new Nr({body:i,details:e.message,url:a})}}throw r}var li=Object.freeze({__proto__:null,ccipRequest:fi,offchainLookup:async function(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:a}=Wn({data:r,abi:[di]}),[o,i,c,u,d]=a,{ccipRead:f}=e,l=f&&"function"==typeof f?.request?f.request:fi;try{if(!Ho(s,o))throw new ui({sender:o,to:s});const r=i.includes(xr)?await Pr({data:c,ccipRequest:l}):await l({data:c,sender:o,urls:i}),{data:a}=await ha(e,{blockNumber:t,blockTag:n,data:mt([u,vt([{type:"bytes"},{type:"bytes"}],[r,d])]),to:s});return a}catch(e){throw new ii({callbackSelector:u,cause:e,data:r,extraData:d,sender:o,urls:i})}},offchainLookupAbiItem:di,offchainLookupSignature:"0x556f1830"});function hi({chain:e,currentChainId:t}){if(!e)throw new jn;if(t!==e.id)throw new Mn({chain:e,currentChainId:t})}function pi(e,{docsPath:t,...n}){const r=(()=>{const t=ta(e,n);return t instanceof ea?e:t})();return new ir(r,{docsPath:t,...n})}const bi={"0x0":"reverted","0x1":"success"};function mi(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(e=>Ko(e)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?ne(e.transactionIndex):null,status:e.status?bi[e.status]:null,type:e.type?no[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}function yi(e,t){return Ye(function(e){const t="string"==typeof e?ue(e):"string"==typeof e.raw?e.raw:oe(e.raw);return mt([ue(`Ethereum Signed Message:\n${h(t)}`),t])}(e),t)}class gi extends y{constructor({domain:e}){super(`Invalid domain "${Zn(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class wi extends y{constructor({primaryType:e,types:t}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(t))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class vi extends y{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function xi(e){const{domain:t,message:n,primaryType:r,types:s}=e,a=(e,t)=>{for(const n of e){const{name:e,type:r}=n,o=t[e],i=r.match(wt);if(i&&("number"==typeof o||"bigint"==typeof o)){const[e,t,n]=i;ie(o,{signed:"int"===t,size:Number.parseInt(n,10)/8})}if("address"===r&&"string"==typeof o&&!Qe(o))throw new _({address:o});const c=r.match(gt);if(c){const[e,t]=c;if(t&&h(o)!==Number.parseInt(t,10))throw new R({expectedSize:Number.parseInt(t,10),givenSize:h(o)})}const u=s[r];u&&(Ei(r),a(u,o))}};if(s.EIP712Domain&&t){if("object"!=typeof t)throw new gi({domain:t});a(s.EIP712Domain,t)}if("EIP712Domain"!==r){if(!s[r])throw new wi({primaryType:r,types:s});a(s[r],n)}}function Pi({domain:e}){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},("number"==typeof e?.chainId||"bigint"==typeof e?.chainId)&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Ei(e){if("address"===e||"bool"===e||"string"===e||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new vi({type:e})}function ki(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:Pi({domain:t}),...e.types};xi({domain:t,message:n,primaryType:r,types:s});const a=["0x1901"];return t&&a.push(function({domain:e,types:t}){return Ii({data:e,primaryType:"EIP712Domain",types:t})}({domain:t,types:s})),"EIP712Domain"!==r&&a.push(Ii({data:n,primaryType:r,types:s})),Ye(mt(a))}function Ii({data:e,primaryType:t,types:n}){return Ye(Bi({data:e,primaryType:t,types:n}))}function Bi({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[$i({primaryType:t,types:n})];for(const a of n[t]){const[t,o]=Ni({types:n,name:a.name,type:a.type,value:e[a.name]});r.push(t),s.push(o)}return vt(r,s)}function $i({primaryType:e,types:t}){const n=se(function({primaryType:e,types:t}){let n="";const r=Ai({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const e of s)n+=`${e}(${t[e].map(({name:e,type:t})=>`${t} ${e}`).join(",")})`;return n}({primaryType:e,types:t}));return Ye(n)}function Ai({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r?.[0];if(n.has(s)||void 0===t[s])return n;n.add(s);for(const e of t[s])Ai({primaryType:e.type,types:t},n);return n}function Ni({types:e,name:t,type:n,value:r}){if(void 0!==e[n])return[{type:"bytes32"},Ye(Bi({data:r,primaryType:n,types:e}))];if("bytes"===n){return[{type:"bytes32"},Ye(r=`0x${(r.length%2?"0":"")+r.slice(2)}`)]}if("string"===n)return[{type:"bytes32"},Ye(se(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),a=r.map(n=>Ni({name:t,type:s,types:e,value:n}));return[{type:"bytes32"},Ye(vt(a.map(([e])=>e),a.map(([,e])=>e)))]}return[{type:n},r]}class zi extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}}const Oi={checksum:new zi(8192)}.checksum;function Ti(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Si(e,...t){if(!((n=e)instanceof Uint8Array||ArrayBuffer.isView(n)&&"Uint8Array"===n.constructor.name))throw new Error("Uint8Array expected");
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
var n;if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Fi(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ci(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Ri(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const Ui=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])()?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=Ri(e[t]);return e};function Li(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}(e)),Si(e),e}class Mi{}const ji=BigInt(2**32-1),qi=BigInt(32);function Gi(e,t=!1){return t?{h:Number(e&ji),l:Number(e>>qi&ji)}:{h:0|Number(e>>qi&ji),l:0|Number(e&ji)}}const _i=BigInt(0),Di=BigInt(1),Hi=BigInt(2),Vi=BigInt(7),Wi=BigInt(256),Zi=BigInt(113),Yi=[],Ki=[],Ji=[];for(let e=0,t=Di,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Yi.push(2*(5*r+n)),Ki.push((e+1)*(e+2)/2%64);let s=_i;for(let e=0;e<7;e++)t=(t<<Di^(t>>Vi)*Zi)%Wi,t&Hi&&(s^=Di<<(Di<<BigInt(e))-Di);Ji.push(s)}const Xi=function(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let a=0;a<n;a++){const{h:n,l:o}=Gi(e[a],t);[r[a],s[a]]=[n,o]}return[r,s]}(Ji,!0),Qi=Xi[0],ec=Xi[1],tc=(e,t,n)=>n>32?((e,t,n)=>t<<n-32|e>>>64-n)(e,t,n):((e,t,n)=>e<<n|t>>>32-n)(e,t,n),nc=(e,t,n)=>n>32?((e,t,n)=>e<<n-32|t>>>64-n)(e,t,n):((e,t,n)=>t<<n|e>>>32-n)(e,t,n);class rc extends Mi{constructor(e,t,n,r=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=s,Ti(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");var a;this.state=new Uint8Array(200),this.state32=(a=this.state,new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)))}clone(){return this._cloneInto()}keccak(){Ui(this.state32),function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,s=(t+2)%10,a=n[s],o=n[s+1],i=tc(a,o,1)^n[r],c=nc(a,o,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=i,e[t+n+1]^=c}let t=e[2],s=e[3];for(let n=0;n<24;n++){const r=Ki[n],a=tc(t,s,r),o=nc(t,s,r),i=Yi[n];t=e[i],s=e[i+1],e[i]=a,e[i+1]=o}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=Qi[r],e[1]^=ec[r]}Ci(n)}(this.state32,this.rounds),Ui(this.state32),this.posOut=0,this.pos=0}update(e){Fi(this),Si(e=Li(e));const{blockLen:t,state:n}=this,r=e.length;for(let s=0;s<r;){const a=Math.min(t-this.pos,r-s);for(let t=0;t<a;t++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,128&t&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){Fi(this,!1),Si(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,s=e.length;r<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-r);e.set(t.subarray(this.posOut,this.posOut+a),r),this.posOut+=a,r+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ti(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(function(e,t){Si(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Ci(this.state)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:s,enableXOF:a}=this;return e||(e=new rc(t,n,r,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=r,e.enableXOF=a,e.destroyed=this.destroyed,e}}const sc=(e,t,n)=>function(e){const t=t=>e().update(Li(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}(()=>new rc(t,e,n)),ac=(()=>sc(1,136,32))();function oc(e,t={}){const{as:n=("string"==typeof e?"Hex":"Bytes")}=t,r=ac(ts(e));return"Bytes"===n?r:gs(r)}const ic=/^0x[a-fA-F0-9]{40}$/;function cc(e,t={}){const{strict:n=!0}=t;if(!ic.test(e))throw new fc({address:e,cause:new lc});if(n){if(e.toLowerCase()===e)return;if(uc(e)!==e)throw new fc({address:e,cause:new hc})}}function uc(e){if(Oi.has(e))return Oi.get(e);cc(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=oc(rs(t),{as:"Bytes"}),r=t.split("");for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&r[e]&&(r[e]=r[e].toUpperCase()),(15&n[e>>1])>=8&&r[e+1]&&(r[e+1]=r[e+1].toUpperCase());const s=`0x${r.join("")}`;return Oi.set(e,s),s}function dc(e,t={}){const{strict:n=!0}=t??{};try{return cc(e,{strict:n}),!0}catch{return!1}}class fc extends Mr{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class lc extends Mr{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class hc extends Mr{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const pc=/^(.*)\[([0-9]*)\]$/,bc=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,mc=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,yc=2n**256n-1n;function gc(e,t,n){const{checksumAddress:r,staticPosition:s}=n,a=Ec(t.type);if(a){const[n,o]=a;return function(e,t,n){const{checksumAddress:r,length:s,staticPosition:a}=n;if(!s){const n=a+cs(e.readBytes(vc)),s=n+wc;e.setPosition(n);const o=cs(e.readBytes(wc)),i=kc(t);let c=0;const u=[];for(let n=0;n<o;++n){e.setPosition(s+(i?32*n:c));const[a,o]=gc(e,t,{checksumAddress:r,staticPosition:s});c+=o,u.push(a)}return e.setPosition(a+32),[u,32]}if(kc(t)){const n=a+cs(e.readBytes(vc)),o=[];for(let a=0;a<s;++a){e.setPosition(n+32*a);const[s]=gc(e,t,{checksumAddress:r,staticPosition:n});o.push(s)}return e.setPosition(a+32),[o,32]}let o=0;const i=[];for(let n=0;n<s;++n){const[n,s]=gc(e,t,{checksumAddress:r,staticPosition:a+o});o+=s,i.push(n)}return[i,o]}(e,{...t,type:o},{checksumAddress:r,length:n,staticPosition:s})}if("tuple"===t.type)return function(e,t,n){const{checksumAddress:r,staticPosition:s}=n,a=0===t.components.length||t.components.some(({name:e})=>!e),o=a?[]:{};let i=0;if(kc(t)){const n=s+cs(e.readBytes(vc));for(let s=0;s<t.components.length;++s){const c=t.components[s];e.setPosition(n+i);const[u,d]=gc(e,c,{checksumAddress:r,staticPosition:n});i+=d,o[a?s:c?.name]=u}return e.setPosition(s+32),[o,32]}for(let n=0;n<t.components.length;++n){const c=t.components[n],[u,d]=gc(e,c,{checksumAddress:r,staticPosition:s});o[a?n:c?.name]=u,i+=d}return[o,i]}(e,t,{checksumAddress:r,staticPosition:s});if("address"===t.type)return function(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32),s=e=>n?uc(e):e;return[s(gs(as(r,-20))),32]}(e,{checksum:r});if("bool"===t.type)return function(e){return[is(e.readBytes(32),{size:32}),32]}(e);if(t.type.startsWith("bytes"))return function(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const t=cs(e.readBytes(32));e.setPosition(n+t);const r=cs(e.readBytes(32));if(0===r)return e.setPosition(n+32),["0x",32];const s=e.readBytes(r);return e.setPosition(n+32),[gs(s),32]}const a=gs(e.readBytes(Number.parseInt(s,10),32));return[a,32]}(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return function(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?os(s,{signed:n}):cs(s,{signed:n}),32]}(e,t);if("string"===t.type)return function(e,{staticPosition:t}){const n=cs(e.readBytes(32)),r=t+n;e.setPosition(r);const s=cs(e.readBytes(32));if(0===s)return e.setPosition(t+32),["",32];const a=e.readBytes(s,32),o=us(ds(a));return e.setPosition(t+32),[o,32]}(e,{staticPosition:s});throw new Mc(t.type)}const wc=32,vc=32;function xc({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=Ec(r.type);if(s){const[t,a]=s;return function(e,t){const{checksumAddress:n,length:r,parameter:s}=t,a=null===r;if(!Array.isArray(e))throw new Lc(e);if(!a&&e.length!==r)throw new Cc({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let o=!1;const i=[];for(let t=0;t<e.length;t++){const r=xc({checksumAddress:n,parameter:s,value:e[t]});r.dynamic&&(o=!0),i.push(r)}if(a||o){const e=Pc(i);if(a){const t=ws(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?ms(t,e):t}}if(o)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:ms(...i.map(({encoded:e})=>e))}}(n,{checksumAddress:e,length:t,parameter:{...r,type:a}})}if("tuple"===r.type)return function(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const a=[];for(let t=0;t<r.components.length;t++){const o=r.components[t],i=xc({checksumAddress:n,parameter:o,value:e[Array.isArray(e)?t:o.name]});a.push(i),i.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Pc(a):ms(...a.map(({encoded:e})=>e))}}(n,{checksumAddress:e,parameter:r});if("address"===r.type)return function(e,t){const{checksum:n=!1}=t;return cc(e,{strict:n}),{dynamic:!1,encoded:xs(e.toLowerCase())}}(n,{checksum:e});if("bool"===r.type)return function(e){if("boolean"!=typeof e)throw new Mr(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:xs(ys(e))}}(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const e=r.type.startsWith("int"),[,,t="256"]=mc.exec(r.type)??[];return function(e,{signed:t,size:n}){if("number"==typeof n){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new As({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:ws(e,{size:32,signed:t})}}(n,{signed:e,size:Number(t)})}if(r.type.startsWith("bytes"))return function(e,{type:t}){const[,n]=t.split("bytes"),r=ks(e);if(!n){let t=e;return r%32!=0&&(t=Ps(t,32*Math.ceil((e.length-2)/2/32))),{dynamic:!0,encoded:ms(xs(ws(r,{size:32})),t)}}if(r!==Number.parseInt(n,10))throw new Rc({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Ps(e)}}(n,{type:r.type});if("string"===r.type)return function(e){const t=vs(e),n=Math.ceil(ks(t)/32),r=[];for(let e=0;e<n;e++)r.push(Ps(Es(t,32*e,32*(e+1))));return{dynamic:!0,encoded:ms(Ps(ws(ks(t),{size:32})),...r)}}(n);throw new Mc(r.type)}function Pc(e){let t=0;for(let n=0;n<e.length;n++){const{dynamic:r,encoded:s}=e[n];t+=r?32:ks(s)}const n=[],r=[];let s=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:i}=e[a];o?(n.push(ws(t+s,{size:32})),r.push(i),s+=ks(i)):n.push(i)}return ms(...n,...r)}function Ec(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function kc(e){const{type:t}=e;if("string"===t)return!0;if("bytes"===t)return!0;if(t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(kc);const n=Ec(e.type);return!(!n||!kc({...e,type:n[1]}))}const Ic={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Ac({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new $c({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Bc({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Bc({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};class Bc extends Mr{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class $c extends Mr{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class Ac extends Mr{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function Nc(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,a="string"==typeof t?ns(t):t,o=function(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Ic);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}(a);if(0===ss(a)&&e.length>0)throw new Fc;if(ss(a)&&ss(a)<32)throw new Sc({data:"string"==typeof t?t:gs(t),parameters:e,size:ss(a)});let i=0;const c="Array"===r?[]:{};for(let t=0;t<e.length;++t){const n=e[t];o.setPosition(i);const[a,u]=gc(o,n,{checksumAddress:s,staticPosition:0});i+=u,"Array"===r?c.push(a):c[n.name??t]=a}return c}function zc(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new Uc({expectedLength:e.length,givenLength:t.length});const s=function({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(xc({checksumAddress:e,parameter:t[s],value:n[s]}));return r}({checksumAddress:r,parameters:e,values:t}),a=Pc(s);return 0===a.length?"0x":a}function Oc(e,t){if(e.length!==t.length)throw new Uc({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],a=t[r];n.push(Oc.encode(s,a))}return ms(...n)}function Tc(e){return Array.isArray(e)&&"string"==typeof e[0]||"string"==typeof e?Bn(e):e}!function(e){e.encode=function e(t,n,r=!1){if("address"===t){const e=n;return cc(e),xs(e.toLowerCase(),r?32:0)}if("string"===t)return vs(n);if("bytes"===t)return n;if("bool"===t)return xs(ys(n),r?32:1);const s=t.match(mc);if(s){const[e,t,a="256"]=s,o=Number.parseInt(a,10)/8;return ws(n,{size:r?32:o,signed:"int"===t})}const a=t.match(bc);if(a){const[e,t]=a;if(Number.parseInt(t,10)!==(n.length-2)/2)throw new Rc({expectedSize:Number.parseInt(t,10),value:n});return Ps(n,r?32:0)}const o=t.match(pc);if(o&&Array.isArray(n)){const[t,r]=o,s=[];for(let t=0;t<n.length;t++)s.push(e(r,n[t],!0));return 0===s.length?"0x":ms(...s)}throw new Mc(t)}}(Oc||(Oc={}));class Sc extends Mr{constructor({data:e,parameters:t,size:n}){super(`Data size of ${n} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Ut(t)})`,`Data:   ${e} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class Fc extends Mr{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Cc extends Mr{constructor({expectedLength:e,givenLength:t,type:n}){super(`Array length mismatch for type \`${n}\`. Expected: \`${e}\`. Given: \`${t}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Rc extends Mr{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${ks(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Uc extends Mr{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${t}`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Lc extends Mr{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Mc extends Mr{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function jc(e,t={}){const{recovered:n}=t;if(void 0===e.r)throw new Hc({signature:e});if(void 0===e.s)throw new Hc({signature:e});if(n&&void 0===e.yParity)throw new Hc({signature:e});if(e.r<0n||e.r>yc)throw new Vc({value:e.r});if(e.s<0n||e.s>yc)throw new Wc({value:e.s});if("number"==typeof e.yParity&&0!==e.yParity&&1!==e.yParity)throw new Zc({value:e.yParity})}function qc(e){if(130!==e.length&&132!==e.length)throw new Dc({signature:e});const t=BigInt(Es(e,0,32)),n=BigInt(Es(e,32,64)),r=(()=>{const t=Number(`0x${e.slice(130)}`);if(!Number.isNaN(t))try{return _c(t)}catch{throw new Zc({value:t})}})();return void 0===r?{r:t,s:n}:{r:t,s:n,yParity:r}}function Gc(e){if(void 0!==e.r&&void 0!==e.s)return function(e){const t="string"==typeof e?qc(e):e instanceof Uint8Array?function(e){return qc(gs(e))}(e):"string"==typeof e.r?function(e){const t=(()=>{const t=e.v?Number(e.v):void 0;let n=e.yParity?Number(e.yParity):void 0;if("number"==typeof t&&"number"!=typeof n&&(n=_c(t)),"number"!=typeof n)throw new Zc({value:e.yParity});return n})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}(e):e.v?function(e){return{r:e.r,s:e.s,yParity:_c(e.v)}}(e):{r:e.r,s:e.s,...void 0!==e.yParity?{yParity:e.yParity}:{}};return jc(t),t}(e)}function _c(e){if(0===e||27===e)return 0;if(1===e||28===e)return 1;if(e>=35)return e%2==0?1:0;throw new Yc({value:e})}class Dc extends Mr{constructor({signature:e}){var t;super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${ks((t=e,t instanceof Uint8Array?gs(t):Array.isArray(t)?gs(new Uint8Array(t)):t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Hc extends Mr{constructor({signature:e}){super(`Signature \`${Xr(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class Vc extends Mr{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class Wc extends Mr{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Zc extends Mr{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class Yc extends Mr{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function Kc(e,t={}){return"string"==typeof e.chainId?function(e){const{address:t,chainId:n,nonce:r}=e,s=Gc(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}(e):{...e,...t.signature}}const Jc=Tc("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Xc(e){if("string"==typeof e){if("0x8010801080108010801080108010801080108010801080108010801080108010"!==Es(e,-32))throw new Qc(e)}else jc(e.authorization)}let Qc=class extends Mr{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};async function eu(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const a=r??"latest",o=void 0!==n?ie(n):void 0;return function(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?ne(e.nonce):void 0,storageProof:e.storageProof?(t=e.storageProof,t.map(e=>({...e,value:BigInt(e.value)}))):void 0};var t}(await e.request({method:"eth_getProof",params:[t,s,o||a]}))}async function tu(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const a=void 0!==n?ie(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,a||r]})}async function nu(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){const o=r||"latest",i=void 0!==n?ie(n):void 0;let c=null;if(c=s?await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,ie(a)]},{dedupe:!0}):await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[i||o,ie(a)]},{dedupe:Boolean(i)}),!c)throw new cr({blockHash:t,blockNumber:n,blockTag:o,hash:s,index:a});return(e.chain?.formatters?.transaction?.format||ro)(c,"getTransaction")}async function ru(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([Ar(e,Go,"getBlockNumber")({}),t?Ar(e,nu,"getTransaction")({hash:t}):void 0]),a=n?.blockNumber||s?.blockNumber;return a?r-a+1n:0n}async function su(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new ur({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||mi)(n,"getTransactionReceipt")}async function au(e,n){const{account:r,authorizationList:s,allowFailure:a=!0,blockNumber:o,blockOverrides:i,blockTag:c,stateOverride:u}=n,d=n.contracts,{batchSize:f=n.batchSize??1024,deployless:l=n.deployless??!1}="object"==typeof e.batch?.multicall?e.batch.multicall:{},h=(()=>{if(n.multicallAddress)return n.multicallAddress;if(l)return null;if(e.chain)return Gn({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),p=[[]];let b=0,m=0;for(let e=0;e<d.length;e++){const{abi:t,address:n,args:s,functionName:o}=d[e];try{const e=Un({abi:t,args:s,functionName:o});m+=(e.length-2)/2,f>0&&m>f&&p[b].length>0&&(b++,m=(e.length-2)/2,p[b]=[]),p[b]=[...p[b],{allowFailure:!0,callData:e,target:n}]}catch(e){const i=Lr(e,{abi:t,address:n,args:s,docsPath:"/docs/contract/multicall",functionName:o,sender:r});if(!a)throw i;p[b]=[...p[b],{allowFailure:!0,callData:"0x",target:n}]}}const g=await Promise.allSettled(p.map(n=>Ar(e,ba,"readContract")({...null===h?{code:js}:{address:h},abi:t,account:r,args:[n],authorizationList:s,blockNumber:o,blockOverrides:i,blockTag:c,functionName:"aggregate3",stateOverride:u}))),w=[];for(let e=0;e<g.length;e++){const t=g[e];if("rejected"===t.status){if(!a)throw t.reason;for(let n=0;n<p[e].length;n++)w.push({status:"failure",error:t.reason,result:void 0});continue}const n=t.value;for(let t=0;t<n.length;t++){const{returnData:r,success:s}=n[t],{callData:o}=p[e][t],{abi:i,address:c,functionName:u,args:f}=d[w.length];try{if("0x"===o)throw new P;if(!s)throw new mr({data:r});const e=Cn({abi:i,args:f,data:r,functionName:u});w.push(a?{result:e,status:"success"}:e)}catch(e){const t=Lr(e,{abi:i,address:c,args:f,docsPath:"/docs/contract/multicall",functionName:u});if(!a)throw t;w.push({error:t,result:void 0,status:"failure"})}}}if(w.length!==d.length)throw new y("multicall results mismatch");return w}async function ou(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:a,traceTransfers:o,validation:i}=t;try{const t=[];for(const e of s){const n=e.blockOverrides?Cs(e.blockOverrides):void 0,r=e.calls.map(e=>{const t=e,n=t.account?_n(t.account):void 0,r=t.abi?Un(t):t.data,s={...t,account:n,data:t.dataSuffix?mt([r||"0x",t.dataSuffix]):r,from:t.from??n?.address};return la(s),aa(s)}),s=e.stateOverrides?da(e.stateOverrides):void 0;t.push({blockOverrides:n,calls:r,stateOverrides:s})}const c=("bigint"==typeof n?ie(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:t,returnFullTransactions:a,traceTransfers:o,validation:i},c]})).map((e,t)=>({...so(e),calls:e.calls.map((e,n)=>{const{abi:r,args:a,functionName:o,to:i}=s[t].calls[n],c=e.error?.data??e.returnData,u=BigInt(e.gasUsed),d=e.logs?.map(e=>Ko(e)),f="0x1"===e.status?"success":"failure",l=r&&"success"===f&&"0x"!==c?Cn({abi:r,data:c,functionName:o}):null,h=(()=>{if("success"===f)return;let t;return"0x"===e.error?.data?t=new P:e.error&&(t=new mr(e.error)),t?Lr(t,{abi:r??[],address:i??"0x",args:a,functionName:o??"<unknown>"}):void 0})();return{data:c,gasUsed:u,logs:d,status:f,..."success"===f?{result:l}:{error:h}}})}))}catch(e){const t=e,n=ta(t,{});if(n instanceof ea)throw t;throw n}}function iu(e){let t=!0,n="",r=0,s="",a=!1;for(let o=0;o<e.length;o++){const i=e[o];if(["(",")",","].includes(i)&&(t=!0),"("===i&&r++,")"===i&&r--,t)if(0!==r)" "!==i?(s+=i,n+=i):","!==e[o-1]&&","!==n&&",("!==n&&(n="",t=!1);else if(" "===i&&["event","function","error",""].includes(s))s="";else if(s+=i,")"===i){a=!0;break}}if(!a)throw new Mr("Unable to normalize signature.");return s}function cu(e,t){const n=typeof e,r=t.type;switch(r){case"address":return dc(e,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:return"tuple"===r&&"components"in t?Object.values(t.components).every((t,n)=>cu(Object.values(e)[n],t)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?"number"===n||"bigint"===n:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?"string"===n||e instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)&&(Array.isArray(e)&&e.every(e=>cu(e,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})))}}function uu(e,t,n){for(const r in e){const s=e[r],a=t[r];if("tuple"===s.type&&"tuple"===a.type&&"components"in s&&"components"in a)return uu(s.components,a.components,n[r]);const o=[s.type,a.type];if((()=>!(!o.includes("address")||!o.includes("bytes20"))||(o.includes("address")&&o.includes("string")||!(!o.includes("address")||!o.includes("bytes")))&&dc(n[r],{strict:!1}))())return o}}function du(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||"string"==typeof e?In(e):e;return{...r,...n?{hash:hu(r)}:{}}}function fu(e,t,n){const{args:r=[],prepare:s=!0}=n??{},a=$s(t,{strict:!1}),o=e.filter(e=>a?"function"===e.type||"error"===e.type?lu(e)===Es(t,0,4):"event"===e.type&&hu(e)===t:"name"in e&&e.name===t);if(0===o.length)throw new bu({name:t});if(1===o.length)return{...o[0],...s?{hash:hu(o[0])}:{}};let i;for(const e of o){if(!("inputs"in e))continue;if(!r||0===r.length){if(!e.inputs||0===e.inputs.length)return{...e,...s?{hash:hu(e)}:{}};continue}if(!e.inputs)continue;if(0===e.inputs.length)continue;if(e.inputs.length!==r.length)continue;if(r.every((t,n)=>{const r="inputs"in e&&e.inputs[n];return!!r&&cu(t,r)})){if(i&&"inputs"in i&&i.inputs){const t=uu(e.inputs,i.inputs,r);if(t)throw new pu({abiItem:e,type:t[0]},{abiItem:i,type:t[1]})}i=e}}const c=(()=>{if(i)return i;const[e,...t]=o;return{...e,overloads:t}})();if(!c)throw new bu({name:t});return{...c,...s?{hash:hu(c)}:{}}}function lu(...e){const t=(()=>{if(Array.isArray(e[0])){const[t,n]=e;return fu(t,n)}return e[0]})();return Es(hu(t),0,4)}function hu(...e){const t=(()=>{if(Array.isArray(e[0])){const[t,n]=e;return fu(t,n)}return e[0]})();return"string"!=typeof t&&"hash"in t&&t.hash?t.hash:oc(vs(function(...e){const t=(()=>{if(Array.isArray(e[0])){const[t,n]=e;return fu(t,n)}return e[0]})();return iu("string"==typeof t?t:Lt(t))}(t)))}class pu extends Mr{constructor(e,t){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${iu(Lt(e.abiItem))}\`, and`,`\`${t.type}\` in \`${iu(Lt(t.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class bu extends Mr{constructor({name:e,data:t,type:n="item"}){super(`ABI ${n}${e?` with name "${e}"`:t?` with data "${t}"`:""} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function mu(e){const t=e.find(e=>"constructor"===e.type);if(!t)throw new bu({name:"constructor"});return t}function yu(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[t,n,r]=e;return[wu(t,n,{args:r}),r]}const[t,n]=e;return[t,n]})(),{overloads:r}=t,s=r?wu([t,...r],t.name,{args:n}):t,a=lu(s);const o=n.length>0?zc(s.inputs,n):void 0;return o?ms(a,o):a}function gu(e,t={}){return du(e,t)}function wu(e,t,n){const r=fu(e,t,n);if("function"!==r.type)throw new bu({name:t,type:"function"});return r}const vu="0x0000000000000000000000000000000000000000";async function xu(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:a,traceAssetChanges:o,traceTransfers:i,validation:c}=t,u=t.account?_n(t.account):void 0;if(o&&!u)throw new y("`account` is required when `traceAssetChanges` is true");const d=u?function(...e){const[t,n]=(()=>{if(Array.isArray(e[0])){const[t,n]=e;return[mu(t),n]}return e})(),{bytecode:r,args:s}=n;return ms(r,t.inputs?.length&&s?.length?zc(t.inputs,s):"0x")}(du("constructor(bytes, bytes)"),{bytecode:Us,args:["0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033",yu(gu("function getBalance(address)"),[u.address])]}):void 0;const f=o?await Promise.all(t.calls.map(async t=>{if(!t.data&&!t.abi)return;const{accessList:n}=await Fa(e,{account:u.address,...t,data:t.abi?Un(t):t.data});return n.map(({address:e,storageKeys:t})=>t.length>0?e:null)})).then(e=>e.flat().filter(Boolean)):[],l=await ou(e,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:d}],stateOverrides:a},{calls:f.map((e,t)=>({abi:[gu("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:e,from:vu,nonce:t})),stateOverrides:[{address:vu,nonce:0}]}]:[],{calls:[...s,{}].map(e=>({...e,from:u?.address})),stateOverrides:a},...o?[{calls:[{data:d}]},{calls:f.map((e,t)=>({abi:[gu("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:e,from:vu,nonce:t})),stateOverrides:[{address:vu,nonce:0}]},{calls:f.map((e,t)=>({to:e,abi:[gu("function decimals() returns (uint256)")],functionName:"decimals",from:vu,nonce:t})),stateOverrides:[{address:vu,nonce:0}]},{calls:f.map((e,t)=>({to:e,abi:[gu("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:vu,nonce:t})),stateOverrides:[{address:vu,nonce:0}]},{calls:f.map((e,t)=>({to:e,abi:[gu("function symbol() returns (string)")],functionName:"symbol",from:vu,nonce:t})),stateOverrides:[{address:vu,nonce:0}]}]:[]],traceTransfers:i,validation:c}),h=o?l[2]:l[0],[p,b,,m,g,w,v,x]=o?l:[],{calls:P,...E}=h,k=P.slice(0,-1)??[],I=[...p?.calls??[],...b?.calls??[]].map(e=>"success"===e.status?te(e.data):null),B=[...m?.calls??[],...g?.calls??[]].map(e=>"success"===e.status?te(e.data):null),$=(w?.calls??[]).map(e=>"success"===e.status?e.result:null),A=(x?.calls??[]).map(e=>"success"===e.status?e.result:null),N=(v?.calls??[]).map(e=>"success"===e.status?e.result:null),z=[];for(const[e,t]of B.entries()){const n=I[e];if("bigint"!=typeof t)continue;if("bigint"!=typeof n)continue;const r=$[e-1],s=A[e-1],a=N[e-1],o=(()=>0===e?{address:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",decimals:18,symbol:"ETH"}:{address:f[e-1],decimals:a||r?Number(r??1):void 0,symbol:s??void 0})();z.some(e=>e.token.address===o.address)||z.push({token:o,value:{pre:n,post:t,diff:t-n}})}return{assetChanges:z,block:E,results:k}}async function Pu(e,t){const{abi:n,address:r,args:s,dataSuffix:a,functionName:o,...i}=t,c=i.account?_n(i.account):e.account,u=Un({abi:n,args:s,functionName:o});try{const{data:d}=await Ar(e,ha,"call")({batch:!1,data:`${u}${a?a.replace("0x",""):""}`,to:r,...i,account:c}),f=Cn({abi:n,args:s,functionName:o,data:d||"0x"});return{result:f,request:{abi:n.filter(e=>"name"in e&&e.name===t.functionName),address:r,args:s,dataSuffix:a,functionName:o,...i,account:c}}}catch(e){throw Lr(e,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c?.address})}}async function Eu(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}const ku="0x6492649264926492649264926492649264926492649264926492649264926492";function Iu(e){try{return function(e){if(Es(e,-32)!==ku)throw new Bu(e)}(e),!0}catch{return!1}}class Bu extends Mr{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}class $u extends ze{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");ve(e.outputLen),ve(e.blockLen)}(e);const n=Ne(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,s=new Uint8Array(r);s.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),ke(s)}update(e){return Pe(this),this.iHash.update(e),this}digestInto(e){Pe(this),xe(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:s,blockLen:a,outputLen:o}=this;return e.finished=r,e.destroyed=s,e.blockLen=a,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Au=(e,t,n)=>new $u(e,t).update(n).digest();Au.create=(e,t)=>new $u(e,t);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Nu=BigInt(0),zu=BigInt(1);function Ou(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function Tu(e){if(!Ou(e))throw new Error("Uint8Array expected")}function Su(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}function Fu(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function Cu(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?Nu:BigInt("0x"+e)}const Ru="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,Uu=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Lu(e){if(Tu(e),Ru)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Uu[e[n]];return t}const Mu=48,ju=57,qu=65,Gu=70,_u=97,Du=102;function Hu(e){return e>=Mu&&e<=ju?e-Mu:e>=qu&&e<=Gu?e-(qu-10):e>=_u&&e<=Du?e-(_u-10):void 0}function Vu(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(Ru)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let t=0,s=0;t<n;t++,s+=2){const n=Hu(e.charCodeAt(s)),a=Hu(e.charCodeAt(s+1));if(void 0===n||void 0===a){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}r[t]=16*n+a}return r}function Wu(e){return Cu(Lu(e))}function Zu(e){return Tu(e),Cu(Lu(Uint8Array.from(e).reverse()))}function Yu(e,t){return Vu(e.toString(16).padStart(2*t,"0"))}function Ku(e,t){return Yu(e,t).reverse()}function Ju(e,t,n){let r;if("string"==typeof t)try{r=Vu(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!Ou(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const s=r.length;if("number"==typeof n&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function Xu(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];Tu(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const s=e[t];n.set(s,r),r+=s.length}return n}const Qu=e=>"bigint"==typeof e&&Nu<=e;function ed(e,t,n){return Qu(e)&&Qu(t)&&Qu(n)&&t<=e&&e<n}function td(e,t,n,r){if(!ed(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}const nd=e=>(zu<<BigInt(e))-zu,rd=e=>new Uint8Array(e),sd=e=>Uint8Array.from(e);const ad={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||Ou(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function od(e,t,n={}){const r=(t,n,r)=>{const s=ad[n];if("function"!=typeof s)throw new Error("invalid validator function");const a=e[t];if(!(r&&void 0===a||s(a,e)))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+a)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e}function id(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(void 0!==s)return s;const a=e(n,...r);return t.set(n,a),a}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cd=BigInt(0),ud=BigInt(1),dd=BigInt(2),fd=BigInt(3),ld=BigInt(4),hd=BigInt(5),pd=BigInt(8);function bd(e,t){const n=e%t;return n>=cd?n:t+n}function md(e,t,n){let r=e;for(;t-- >cd;)r*=r,r%=n;return r}function yd(e,t){if(e===cd)throw new Error("invert: expected non-zero number");if(t<=cd)throw new Error("invert: expected positive modulus, got "+t);let n=bd(e,t),r=t,s=cd,a=ud;for(;n!==cd;){const e=r%n,t=s-a*(r/n);r=n,n=e,s=a,a=t}if(r!==ud)throw new Error("invert: does not exist");return bd(s,t)}function gd(e,t){const n=(e.ORDER+ud)/ld,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function wd(e,t){const n=(e.ORDER-hd)/pd,r=e.mul(t,dd),s=e.pow(r,n),a=e.mul(t,s),o=e.mul(e.mul(a,dd),s),i=e.mul(a,e.sub(o,e.ONE));if(!e.eql(e.sqr(i),t))throw new Error("Cannot find square root");return i}function vd(e){return e%ld===fd?gd:e%pd===hd?wd:function(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-ud,n=0;for(;t%dd===cd;)t/=dd,n++;let r=dd;const s=Id(e);for(;1===Ed(s,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return gd;let a=s.pow(r,t);const o=(t+ud)/dd;return function(e,r){if(e.is0(r))return r;if(1!==Ed(e,r))throw new Error("Cannot find square root");let s=n,i=e.mul(e.ONE,a),c=e.pow(r,t),u=e.pow(r,o);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,n=e.sqr(c);for(;!e.eql(n,e.ONE);)if(t++,n=e.sqr(n),t===s)throw new Error("Cannot find square root");const r=ud<<BigInt(s-t-1),a=e.pow(i,r);s=t,i=e.sqr(a),c=e.mul(c,i),u=e.mul(u,a)}return u}}(e)}const xd=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Pd(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((t,n,s)=>e.is0(n)?t:(r[s]=t,e.mul(t,n)),e.ONE),a=e.inv(s);return t.reduceRight((t,n,s)=>e.is0(n)?t:(r[s]=e.mul(t,r[s]),e.mul(t,n)),a),r}function Ed(e,t){const n=(e.ORDER-ud)/dd,r=e.pow(t,n),s=e.eql(r,e.ONE),a=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!a&&!o)throw new Error("invalid Legendre symbol result");return s?1:a?0:-1}function kd(e,t){void 0!==t&&ve(t);const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Id(e,t,n=!1,r={}){if(e<=cd)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:a}=kd(e,t);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const i=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:a,MASK:nd(s),ZERO:cd,ONE:ud,create:t=>bd(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return cd<=t&&t<e},is0:e=>e===cd,isOdd:e=>(e&ud)===ud,neg:t=>bd(-t,e),eql:(e,t)=>e===t,sqr:t=>bd(t*t,e),add:(t,n)=>bd(t+n,e),sub:(t,n)=>bd(t-n,e),mul:(t,n)=>bd(t*n,e),pow:(e,t)=>function(e,t,n){if(n<cd)throw new Error("invalid exponent, negatives unsupported");if(n===cd)return e.ONE;if(n===ud)return t;let r=e.ONE,s=t;for(;n>cd;)n&ud&&(r=e.mul(r,s)),s=e.sqr(s),n>>=ud;return r}(i,e,t),div:(t,n)=>bd(t*yd(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>yd(t,e),sqrt:r.sqrt||(t=>(o||(o=vd(e)),o(i,t))),toBytes:e=>n?Ku(e,a):Yu(e,a),fromBytes:e=>{if(e.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+e.length);return n?Zu(e):Wu(e)},invertBatch:e=>Pd(i,e),cmov:(e,t,n)=>n?t:e});return Object.freeze(i)}function Bd(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function $d(e){const t=Bd(e);return t+Math.ceil(t/2)}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Ad=BigInt(0),Nd=BigInt(1);function zd(e,t){const n=t.negate();return e?n:t}function Od(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Td(e,t){Od(e,t);const n=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:nd(e),maxNumber:n,shiftBy:BigInt(e)}}function Sd(e,t,n){const{windowSize:r,mask:s,maxNumber:a,shiftBy:o}=n;let i=Number(e&s),c=e>>o;i>r&&(i-=a,c+=Nd);const u=t*r;return{nextN:c,offset:u+Math.abs(i)-1,isZero:0===i,isNeg:i<0,isNegF:t%2!=0,offsetF:u}}const Fd=new WeakMap,Cd=new WeakMap;function Rd(e){return Cd.get(e)||1}function Ud(e,t,n,r){!function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})}(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}(r,t);const s=n.length,a=r.length;if(s!==a)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,i=function(e){let t;for(t=0;e>Nu;e>>=zu,t+=1);return t}(BigInt(s));let c=1;i>12?c=i-3:i>4?c=i-2:i>0&&(c=2);const u=nd(c),d=new Array(Number(u)+1).fill(o);let f=o;for(let e=Math.floor((t.BITS-1)/c)*c;e>=0;e-=c){d.fill(o);for(let t=0;t<a;t++){const s=r[t],a=Number(s>>BigInt(e)&u);d[a]=d[a].add(n[t])}let t=o;for(let e=d.length-1,n=o;e>0;e--)n=n.add(d[e]),t=t.add(n);if(f=f.add(t),0!==e)for(let e=0;e<c;e++)f=f.double()}return f}function Ld(e){return od(e.Fp,xd.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),od(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...kd(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Md(e){void 0!==e.lowS&&Su("lowS",e.lowS),void 0!==e.prehash&&Su("prehash",e.prehash)}class jd extends Error{constructor(e=""){super(e)}}const qd={Err:jd,_tlv:{encode:(e,t)=>{const{Err:n}=qd;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Fu(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?Fu(s.length/2|128):"";return Fu(e)+a+s+t},decode(e,t){const{Err:n}=qd;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++];let a=0;if(!!(128&s)){const e=127&s;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const o=t.subarray(r,r+e);if(o.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===o[0])throw new n("tlv.decode(long): zero leftmost byte");for(const e of o)a=a<<8|e;if(r+=e,a<128)throw new n("tlv.decode(long): not minimal encoding")}else a=s;const o=t.subarray(r,r+a);if(o.length!==a)throw new n("tlv.decode: wrong value length");return{v:o,l:t.subarray(r+a)}}},_int:{encode(e){const{Err:t}=qd;if(e<_d)throw new t("integer: negative integers are not allowed");let n=Fu(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=qd;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return Wu(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=qd,s=Ju("signature",e),{v:a,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:i,l:c}=r.decode(2,a),{v:u,l:d}=r.decode(2,c);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(i),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=qd,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}};function Gd(e,t){return Lu(Yu(e,t))}const _d=BigInt(0),Dd=BigInt(1);BigInt(2);const Hd=BigInt(3),Vd=BigInt(4);function Wd(e){const t=function(e){const t=Ld(e);od(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}(e),{Fp:n}=t,r=Id(t.n,t.nBitLength),s=t.toBytes||((e,t,r)=>{const s=t.toAffine();return Xu(Uint8Array.from([4]),n.toBytes(s.x),n.toBytes(s.y))}),a=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function o(e){const{a:r,b:s}=t,a=n.sqr(e),o=n.mul(a,e);return n.add(n.add(o,n.mul(e,r)),s)}function i(e,t){const r=n.sqr(t),s=o(e);return n.eql(r,s)}if(!i(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,Hd),Vd),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function d(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:s,n:a}=t;if(n&&"bigint"!=typeof e){if(Ou(e)&&(e=Lu(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*r,"0")}let o;try{o="bigint"==typeof e?e:Wu(Ju("private key",e,r))}catch(t){throw new Error("invalid private key, expected hex or "+r+" bytes, got "+typeof e)}return s&&(o=bd(o,a)),td("private key",o,Dd,a),o}function f(e){if(!(e instanceof p))throw new Error("ProjectivePoint expected")}const l=id((e,t)=>{const{px:r,py:s,pz:a}=e;if(n.eql(a,n.ONE))return{x:r,y:s};const o=e.is0();null==t&&(t=o?n.ONE:n.inv(a));const i=n.mul(r,t),c=n.mul(s,t),u=n.mul(a,t);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(u,n.ONE))throw new Error("invZ was invalid");return{x:i,y:c}}),h=id(e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:r,y:s}=e.toAffine();if(!n.isValid(r)||!n.isValid(s))throw new Error("bad point: x or y not FE");if(!i(r,s))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(e,t,r){if(null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t)||n.is0(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof p)throw new Error("projective point not allowed");const s=e=>n.eql(e,n.ZERO);return s(t)&&s(r)?p.ZERO:new p(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=Pd(n,e.map(e=>e.pz));return e.map((e,n)=>e.toAffine(t[n])).map(p.fromAffine)}static fromHex(e){const t=p.fromAffine(a(Ju("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return p.BASE.multiply(d(e))}static msm(e,t){return Ud(p,r,e,t)}_setWindowSize(e){y.setWindowSize(this,e)}assertValidity(){h(this)}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){f(e);const{px:t,py:r,pz:s}=this,{px:a,py:o,pz:i}=e,c=n.eql(n.mul(t,i),n.mul(a,s)),u=n.eql(n.mul(r,i),n.mul(o,s));return c&&u}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,s=n.mul(r,Hd),{px:a,py:o,pz:i}=this;let c=n.ZERO,u=n.ZERO,d=n.ZERO,f=n.mul(a,a),l=n.mul(o,o),h=n.mul(i,i),b=n.mul(a,o);return b=n.add(b,b),d=n.mul(a,i),d=n.add(d,d),c=n.mul(e,d),u=n.mul(s,h),u=n.add(c,u),c=n.sub(l,u),u=n.add(l,u),u=n.mul(c,u),c=n.mul(b,c),d=n.mul(s,d),h=n.mul(e,h),b=n.sub(f,h),b=n.mul(e,b),b=n.add(b,d),d=n.add(f,f),f=n.add(d,f),f=n.add(f,h),f=n.mul(f,b),u=n.add(u,f),h=n.mul(o,i),h=n.add(h,h),f=n.mul(h,b),c=n.sub(c,f),d=n.mul(h,l),d=n.add(d,d),d=n.add(d,d),new p(c,u,d)}add(e){f(e);const{px:r,py:s,pz:a}=this,{px:o,py:i,pz:c}=e;let u=n.ZERO,d=n.ZERO,l=n.ZERO;const h=t.a,b=n.mul(t.b,Hd);let m=n.mul(r,o),y=n.mul(s,i),g=n.mul(a,c),w=n.add(r,s),v=n.add(o,i);w=n.mul(w,v),v=n.add(m,y),w=n.sub(w,v),v=n.add(r,a);let x=n.add(o,c);return v=n.mul(v,x),x=n.add(m,g),v=n.sub(v,x),x=n.add(s,a),u=n.add(i,c),x=n.mul(x,u),u=n.add(y,g),x=n.sub(x,u),l=n.mul(h,v),u=n.mul(b,g),l=n.add(u,l),u=n.sub(y,l),l=n.add(y,l),d=n.mul(u,l),y=n.add(m,m),y=n.add(y,m),g=n.mul(h,g),v=n.mul(b,v),y=n.add(y,g),g=n.sub(m,g),g=n.mul(h,g),v=n.add(v,g),m=n.mul(y,v),d=n.add(d,m),m=n.mul(x,v),u=n.mul(w,u),u=n.sub(u,m),m=n.mul(w,y),l=n.mul(x,l),l=n.add(l,m),new p(u,d,l)}subtract(e){return this.add(e.negate())}is0(){return this.equals(p.ZERO)}wNAF(e){return y.wNAFCached(this,e,p.normalizeZ)}multiplyUnsafe(e){const{endo:r,n:s}=t;td("scalar",e,_d,s);const a=p.ZERO;if(e===_d)return a;if(this.is0()||e===Dd)return this;if(!r||y.hasPrecomputes(this))return y.wNAFCachedUnsafe(this,e,p.normalizeZ);let{k1neg:o,k1:i,k2neg:c,k2:u}=r.splitScalar(e),d=a,f=a,l=this;for(;i>_d||u>_d;)i&Dd&&(d=d.add(l)),u&Dd&&(f=f.add(l)),l=l.double(),i>>=Dd,u>>=Dd;return o&&(d=d.negate()),c&&(f=f.negate()),f=new p(n.mul(f.px,r.beta),f.py,f.pz),d.add(f)}multiply(e){const{endo:r,n:s}=t;let a,o;if(td("scalar",e,Dd,s),r){const{k1neg:t,k1:s,k2neg:i,k2:c}=r.splitScalar(e);let{p:u,f:d}=this.wNAF(s),{p:f,f:l}=this.wNAF(c);u=y.constTimeNegate(t,u),f=y.constTimeNegate(i,f),f=new p(n.mul(f.px,r.beta),f.py,f.pz),a=u.add(f),o=d.add(l)}else{const{p:t,f:n}=this.wNAF(e);a=t,o=n}return p.normalizeZ([a,o])[0]}multiplyAndAddUnsafe(e,t,n){const r=p.BASE,s=(e,t)=>t!==_d&&t!==Dd&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),a=s(this,t).add(s(e,n));return a.is0()?void 0:a}toAffine(e){return l(this,e)}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Dd)return!0;if(n)return n(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Dd?this:n?n(p,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return Su("isCompressed",e),this.assertValidity(),s(p,this,e)}toHex(e=!0){return Su("isCompressed",e),Lu(this.toRawBytes(e))}}p.BASE=new p(t.Gx,t.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const{endo:b,nBitLength:m}=t,y=(g=p,w=b?Math.ceil(m/2):m,{constTimeNegate:zd,hasPrecomputes:e=>1!==Rd(e),unsafeLadder(e,t,n=g.ZERO){let r=e;for(;t>Ad;)t&Nd&&(n=n.add(r)),r=r.double(),t>>=Nd;return n},precomputeWindow(e,t){const{windows:n,windowSize:r}=Td(t,w),s=[];let a=e,o=a;for(let e=0;e<n;e++){o=a,s.push(o);for(let e=1;e<r;e++)o=o.add(a),s.push(o);a=o.double()}return s},wNAF(e,t,n){let r=g.ZERO,s=g.BASE;const a=Td(e,w);for(let e=0;e<a.windows;e++){const{nextN:o,offset:i,isZero:c,isNeg:u,isNegF:d,offsetF:f}=Sd(n,e,a);n=o,c?s=s.add(zd(d,t[f])):r=r.add(zd(u,t[i]))}return{p:r,f:s}},wNAFUnsafe(e,t,n,r=g.ZERO){const s=Td(e,w);for(let e=0;e<s.windows&&n!==Ad;e++){const{nextN:a,offset:o,isZero:i,isNeg:c}=Sd(n,e,s);if(n=a,!i){const e=t[o];r=r.add(c?e.negate():e)}}return r},getPrecomputes(e,t,n){let r=Fd.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&Fd.set(t,n(r))),r},wNAFCached(e,t,n){const r=Rd(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const s=Rd(e);return 1===s?this.unsafeLadder(e,t,r):this.wNAFUnsafe(s,this.getPrecomputes(s,e,n),t,r)},setWindowSize(e,t){Od(t,w),Cd.set(e,t),Fd.delete(e)}});var g,w;return{CURVE:t,ProjectivePoint:p,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:function(e){return ed(e,Dd,t.n)}}}function Zd(e){const t=function(e){const t=Ld(e);return od(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r,nByteLength:s,nBitLength:a}=t,o=n.BYTES+1,i=2*n.BYTES+1;function c(e){return bd(e,r)}function u(e){return yd(e,r)}const{ProjectivePoint:d,normPrivateKeyToScalar:f,weierstrassEquation:l,isWithinCurveOrder:h}=Wd({...t,toBytes(e,t,r){const s=t.toAffine(),a=n.toBytes(s.x),o=Xu;return Su("isCompressed",r),r?o(Uint8Array.from([t.hasEvenY()?2:3]),a):o(Uint8Array.from([4]),a,n.toBytes(s.y))},fromBytes(e){const t=e.length,r=e[0],s=e.subarray(1);if(t!==o||2!==r&&3!==r){if(t===i&&4===r){return{x:n.fromBytes(s.subarray(0,n.BYTES)),y:n.fromBytes(s.subarray(n.BYTES,2*n.BYTES))}}throw new Error("invalid Point, expected length of "+o+", or uncompressed "+i+", got "+t)}{const e=Wu(s);if(!ed(e,Dd,n.ORDER))throw new Error("Point is not on curve");const t=l(e);let a;try{a=n.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return!(1&~r)!==((a&Dd)===Dd)&&(a=n.neg(a)),{x:e,y:a}}}});function p(e){return e>r>>Dd}const b=(e,t,n)=>Wu(e.slice(t,n));class m{constructor(e,t,n){td("r",e,Dd,r),td("s",t,Dd,r),this.r=e,this.s=t,null!=n&&(this.recovery=n),Object.freeze(this)}static fromCompact(e){const t=s;return e=Ju("compactSignature",e,2*t),new m(b(e,0,t),b(e,t,2*t))}static fromDER(e){const{r:t,s:n}=qd.toSig(Ju("DER",e));return new m(t,n)}assertValidity(){}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:s,recovery:a}=this,o=v(Ju("msgHash",e));if(null==a||![0,1,2,3].includes(a))throw new Error("recovery id invalid");const i=2===a||3===a?r+t.n:r;if(i>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const f=1&a?"03":"02",l=d.fromHex(f+Gd(i,n.BYTES)),h=u(i),p=c(-o*h),b=c(s*h),m=d.BASE.multiplyAndAddUnsafe(l,p,b);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Vu(this.toDERHex())}toDERHex(){return qd.hexFromSig(this)}toCompactRawBytes(){return Vu(this.toCompactHex())}toCompactHex(){const e=s;return Gd(this.r,e)+Gd(this.s,e)}}const y={isValidPrivateKey(e){try{return f(e),!0}catch(e){return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const e=$d(t.n);return function(e,t,n=!1){const r=e.length,s=Bd(t),a=$d(t);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const o=bd(n?Zu(e):Wu(e),t-ud)+ud;return n?Ku(o,s):Yu(o,s)}(t.randomBytes(e),t.n)},precompute:(e=8,t=d.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function g(e){if("bigint"==typeof e)return!1;if(e instanceof d)return!0;const r=Ju("key",e).length,a=n.BYTES,o=a+1,i=2*a+1;return t.allowedPrivateKeyLengths||s===o?void 0:r===o||r===i}const w=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=Wu(e),n=8*e.length-a;return n>0?t>>BigInt(n):t},v=t.bits2int_modN||function(e){return c(w(e))},x=nd(a);function P(e){return td("num < 2^"+a,e,_d,x),Yu(e,s)}function E(e,r,s=k){if(["recovered","canonical"].some(e=>e in s))throw new Error("sign() legacy options not supported");const{hash:a,randomBytes:o}=t;let{lowS:i,prehash:l,extraEntropy:b}=s;null==i&&(i=!0),e=Ju("msgHash",e),Md(s),l&&(e=Ju("prehashed msgHash",a(e)));const y=v(e),g=f(r),x=[P(g),P(y)];if(null!=b&&!1!==b){const e=!0===b?o(n.BYTES):b;x.push(Ju("extraEntropy",e))}const E=Xu(...x),I=y;return{seed:E,k2sig:function(e){const t=w(e);if(!h(t))return;const n=u(t),r=d.BASE.multiply(t).toAffine(),s=c(r.x);if(s===_d)return;const a=c(n*c(I+s*g));if(a===_d)return;let o=(r.x===s?0:2)|Number(r.y&Dd),f=a;return i&&p(a)&&(f=function(e){return p(e)?c(-e):e}(a),o^=1),new m(s,f,o)}}}const k={lowS:t.lowS,prehash:!1},I={lowS:t.lowS,prehash:!1};return d.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return d.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(!0===g(e))throw new Error("first arg must be private key");if(!1===g(t))throw new Error("second arg must be public key");return d.fromHex(t).multiply(f(e)).toRawBytes(n)},sign:function(e,n,r=k){const{seed:s,k2sig:a}=E(e,n,r),o=t,i=function(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=rd(e),s=rd(e),a=0;const o=()=>{r.fill(1),s.fill(0),a=0},i=(...e)=>n(s,r,...e),c=(e=rd(0))=>{s=i(sd([0]),e),r=i(),0!==e.length&&(s=i(sd([1]),e),r=i())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=i();const t=r.slice();n.push(t),e+=r.length}return Xu(...n)};return(e,t)=>{let n;for(o(),c(e);!(n=t(u()));)c();return o(),n}}(o.hash.outputLen,o.nByteLength,o.hmac);return i(s,a)},verify:function(e,n,r,s=I){const a=e;n=Ju("msgHash",n),r=Ju("publicKey",r);const{lowS:o,prehash:i,format:f}=s;if(Md(s),"strict"in s)throw new Error("options.strict was renamed to lowS");if(void 0!==f&&"compact"!==f&&"der"!==f)throw new Error("format must be compact or der");const l="string"==typeof a||Ou(a),h=!l&&!f&&"object"==typeof a&&null!==a&&"bigint"==typeof a.r&&"bigint"==typeof a.s;if(!l&&!h)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let p,b;try{if(h&&(p=new m(a.r,a.s)),l){try{"compact"!==f&&(p=m.fromDER(a))}catch(e){if(!(e instanceof qd.Err))throw e}p||"der"===f||(p=m.fromCompact(a))}b=d.fromHex(r)}catch(e){return!1}if(!p)return!1;if(o&&p.hasHighS())return!1;i&&(n=t.hash(n));const{r:y,s:g}=p,w=v(n),x=u(g),P=c(w*x),E=c(y*x),k=d.BASE.multiplyAndAddUnsafe(b,P,E)?.toAffine();return!!k&&c(k.x)===y},ProjectivePoint:d,Signature:m,utils:y}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Yd(e){return{hash:e,hmac:(t,...n)=>Au(e,t,function(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];xe(r),t+=r.length}const n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const s=e[t];n.set(s,r),r+=s.length}return n}(...n)),randomBytes:Te}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Kd=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Jd=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Xd=BigInt(0),Qd=BigInt(1),ef=BigInt(2),tf=(e,t)=>(e+t/ef)/t;const nf=Id(Kd,void 0,void 0,{sqrt:function(e){const t=Kd,n=BigInt(3),r=BigInt(6),s=BigInt(11),a=BigInt(22),o=BigInt(23),i=BigInt(44),c=BigInt(88),u=e*e*e%t,d=u*u*e%t,f=md(d,n,t)*d%t,l=md(f,n,t)*d%t,h=md(l,ef,t)*u%t,p=md(h,s,t)*h%t,b=md(p,a,t)*p%t,m=md(b,i,t)*b%t,y=md(m,c,t)*m%t,g=md(y,i,t)*b%t,w=md(g,n,t)*d%t,v=md(w,o,t)*p%t,x=md(v,r,t)*u%t,P=md(x,ef,t);if(!nf.eql(nf.sqr(P),e))throw new Error("Cannot find square root");return P}}),rf=function(e,t){const n=t=>Zd({...e,...Yd(t)});return{...n(t),create:n}}({a:Xd,b:BigInt(7),Fp:nf,n:Jd,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Jd,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Qd*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,o=BigInt("0x100000000000000000000000000000000"),i=tf(a*e,t),c=tf(-r*e,t);let u=bd(e-i*n-c*s,t),d=bd(-i*r-c*a,t);const f=u>o,l=d>o;if(f&&(u=t-u),l&&(d=t-d),u>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:l,k2:d}}}},Po);var sf=Object.freeze({__proto__:null,secp256k1:rf});async function af(e,n){const{address:r,hash:s,erc6492VerifierAddress:a=n.universalSignatureVerifierAddress??e.chain?.contracts?.erc6492Verifier?.address,multicallAddress:o=n.multicallAddress??e.chain?.contracts?.multicall3?.address}=n,i=(()=>{const e=n.signature;return l(e)?e:"object"==typeof e&&"r"in e&&"s"in e?function({r:e,s:t,to:n="hex",v:r,yParity:s}){const a=(()=>{if(0===s||1===s)return s;if(r&&(27n===r||28n===r||r>=35n))return r%2n==0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new rf.Signature(te(e),te(t)).toCompactHex()}${0===a?"1b":"1c"}`;return"hex"===n?o:pe(o)}(e):oe(e)})();try{return function(e){try{return Xc(e),!0}catch{return!1}}(i)?await async function(e,n){const{address:r,blockNumber:s,blockTag:a,hash:o,multicallAddress:i}=n,{authorization:u,data:d,signature:f,to:l}=function(e){Xc(e);const t=Bs(Es(e,-64,-32)),n=Es(e,-t-64,-64),r=Es(e,0,-t-64),[s,a,o]=Nc(Jc,n);return{authorization:Kc({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...o&&"0x"!==o?{data:o,to:a}:{}}}(n.signature),h=await Do(e,{address:r,blockNumber:s,blockTag:a});if(h===yt(["0xef0100",u.address]))return await async function(e,t){const{address:n,blockNumber:r,blockTag:s,hash:a,signature:o}=t,i=await Ar(e,ba,"readContract")({address:n,abi:c,args:[a,o],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(e=>{if(e instanceof lr)throw new of;throw e});if(i.startsWith("0x1626ba7e"))return!0;throw new of}(e,{address:r,blockNumber:s,blockTag:a,hash:o,signature:f});const p={address:u.address,chainId:Number(u.chainId),nonce:Number(u.nonce),r:ie(u.r,{size:32}),s:ie(u.s,{size:32}),yParity:u.yParity},b=await async function({address:e,authorization:t,signature:n}){return Ho(nt(e),await Ka({authorization:t,signature:n}))}({address:r,authorization:p});if(!b)throw new of;const m=await Ar(e,ba,"readContract")({...i?{address:i}:{code:js},authorizationList:[p],abi:t,blockNumber:s,blockTag:"pending",functionName:"aggregate3",args:[[...d?[{allowFailure:!0,target:l??r,callData:d}]:[],{allowFailure:!0,target:r,callData:Un({abi:c,functionName:"isValidSignature",args:[o,f]})}]]}),y=m[m.length-1]?.returnData;if(y?.startsWith("0x1626ba7e"))return!0;throw new of}(e,{...n,multicallAddress:o,signature:i}):await async function(e,t){const{address:n,factory:r,factoryData:s,hash:a,signature:o,verifierAddress:i,...c}=t,d=await(async()=>r||s?Iu(o)?o:function(e){const{data:t,signature:n,to:r}=e;return ms(zc(Tc("address, bytes, bytes"),[r,t,n]),ku)}({data:s,signature:o,to:r}):o)(),f=i?{to:i,data:Un({abi:u,functionName:"isValidSig",args:[n,a,d]}),...c}:{data:Gs({abi:u,args:[n,a,d],bytecode:Ms}),...c},{data:l}=await Ar(e,ha,"call")(f).catch(e=>{if(e instanceof fr)throw new of;throw e});if(function(e,t={}){let n=e;if(t.size&&(ee(n,{size:t.size}),n=Q(n)),"0x00"===Q(n))return!1;if("0x01"===Q(n))return!0;throw new J(n)}(l??"0x0"))return!0;throw new of}(e,{...n,verifierAddress:a,signature:i})}catch(e){try{if(Ho(nt(r),await Ha({hash:s,signature:i})))return!0}catch{}if(e instanceof of)return!1;throw e}}class of extends Error{}async function cf(e,{address:t,message:n,factory:r,factoryData:s,signature:a,...o}){return af(e,{address:t,factory:r,factoryData:s,hash:yi(n),signature:a,...o})}async function uf(e,t){const{address:n,factory:r,factoryData:s,signature:a,message:o,primaryType:i,types:c,domain:u,...d}=t;return af(e,{address:n,factory:r,factoryData:s,hash:ki({message:o,primaryType:i,types:c,domain:u}),signature:a,...d})}const df=new Map,ff=new Map;let lf=0;function hf(e,t,n){const r=++lf,s=()=>df.get(e)||[],a=()=>{const t=s();if(!t.some(e=>e.id===r))return;const n=ff.get(e);if(1===t.length&&n){const e=n();e instanceof Promise&&e.catch(()=>{})}(()=>{const t=s();df.set(e,t.filter(e=>e.id!==r))})()},o=s();if(df.set(e,[...o,{id:r,fns:t}]),o&&o.length>0)return a;const i={};for(const e in t)i[e]=(...t)=>{const n=s();if(0!==n.length)for(const r of n)r.fns[e]?.(...t)};const c=n(i);return"function"==typeof c&&ff.set(e,c),a}function pf(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let o;t&&(o=await e({unpoll:a}));const i=await(n?.(o))??r;await ai(i);const c=async()=>{s&&(await e({unpoll:a}),await ai(r),c())};c()})(),a}function bf(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:o=e.pollingInterval}){let i;return(void 0!==a?a:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type))?hf(Zn(["watchBlockNumber",e.uid,t,n,o]),{onBlockNumber:r,onError:s},r=>pf(async()=>{try{const t=await Ar(e,Go,"getBlockNumber")({cacheTime:0});if(void 0!==i){if(t===i)return;if(t-i>1&&n)for(let e=i+1n;e<t;e++)r.onBlockNumber(e,i),i=e}(void 0===i||t>i)&&(r.onBlockNumber(t,i),i=t)}catch(e){r.onError?.(e)}},{emitOnBegin:t,interval:o})):hf(Zn(["watchBlockNumber",e.uid,t,n]),{onBlockNumber:r,onError:s},t=>{let n=!0,r=()=>n=!1;return(async()=>{try{const s=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:a}=await s.subscribe({params:["newHeads"],onData(e){if(!n)return;const r=te(e.result?.number);t.onBlockNumber(r,i),i=r},onError(e){t.onError?.(e)}});r=a,n||r()}catch(e){s?.(e)}})(),()=>r()})}async function mf(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:a,retryCount:o=6,retryDelay:i=({count:e})=>200*(1<<e),timeout:c=18e4}=t,u=Zn(["waitForTransactionReceipt",e.uid,s]),d=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let f,l,h,p,b,m=!1;const{promise:y,resolve:g,reject:w}=oa(),v=c?setTimeout(()=>{b?.(),p?.(),w(new dr({hash:s}))},c):void 0;return p=hf(u,{onReplaced:a,resolve:g,reject:w},async t=>{if(h=await Ar(e,su,"getTransactionReceipt")({hash:s}).catch(()=>{}),h&&r<=1)return clearTimeout(v),t.resolve(h),void p?.();b=Ar(e,bf,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:d,async onBlockNumber(a){const c=e=>{clearTimeout(v),b?.(),e(),p?.()};let u=a;if(!m)try{if(h){if(r>1&&(!h.blockNumber||u-h.blockNumber+1n<r))return;return void c(()=>t.resolve(h))}if(n&&!f&&(m=!0,await oi(async()=>{f=await Ar(e,nu,"getTransaction")({hash:s}),f.blockNumber&&(u=f.blockNumber)},{delay:i,retryCount:o}),m=!1),h=await Ar(e,su,"getTransactionReceipt")({hash:s}),r>1&&(!h.blockNumber||u-h.blockNumber+1n<r))return;c(()=>t.resolve(h))}catch(n){if(n instanceof cr||n instanceof ur){if(!f)return void(m=!1);try{l=f,m=!0;const n=await oi(()=>Ar(e,ao,"getBlock")({blockNumber:u,includeTransactions:!0}),{delay:i,retryCount:o,shouldRetry:({error:e})=>e instanceof to});m=!1;const s=n.transactions.find(({from:e,nonce:t})=>e===l.from&&t===l.nonce);if(!s)return;if(h=await Ar(e,su,"getTransactionReceipt")({hash:s.hash}),r>1&&(!h.blockNumber||u-h.blockNumber+1n<r))return;let a="replaced";s.to===l.to&&s.value===l.value&&s.input===l.input?a="repriced":s.from===s.to&&0n===s.value&&(a="cancelled"),c(()=>{t.onReplaced?.({reason:a,replacedTransaction:l,transaction:s,transactionReceipt:h}),t.resolve(h)})}catch(e){c(()=>t.reject(e))}}else c(()=>t.reject(n))}}})}),y}function yf(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:a,includeTransactions:o,poll:i,pollingInterval:c=e.pollingInterval}){const u=void 0!==i?i:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type),d=o??!1;let f;return u?hf(Zn(["watchBlocks",e.uid,t,n,r,d,c]),{onBlock:s,onError:a},s=>pf(async()=>{try{const r=await Ar(e,ao,"getBlock")({blockTag:t,includeTransactions:d});if(null!==r.number&&null!=f?.number){if(r.number===f.number)return;if(r.number-f.number>1&&n)for(let t=f?.number+1n;t<r.number;t++){const n=await Ar(e,ao,"getBlock")({blockNumber:t,includeTransactions:d});s.onBlock(n,f),f=n}}(null==f?.number||"pending"===t&&null==r?.number||null!==r.number&&r.number>f.number)&&(s.onBlock(r,f),f=r)}catch(e){s.onError?.(e)}},{emitOnBegin:r,interval:c})):(()=>{let n=!0,o=!0,i=()=>n=!1;return(async()=>{try{r&&Ar(e,ao,"getBlock")({blockTag:t,includeTransactions:d}).then(e=>{n&&o&&(s(e,void 0),o=!1)}).catch(a);const c=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:u}=await c.subscribe({params:["newHeads"],async onData(t){if(!n)return;const r=await Ar(e,ao,"getBlock")({blockNumber:t.result?.number,includeTransactions:d}).catch(()=>{});n&&(s(r,f),o=!1,f=r)},onError(e){a?.(e)}});i=u,n||i()}catch(e){a?.(e)}})(),()=>i()})()}function gf(e,t){const{abi:n,address:r,args:s,batch:a=!0,eventName:o,fromBlock:i,onError:c,onLogs:u,poll:d,pollingInterval:f=e.pollingInterval,strict:l}=t;return(void 0!==d?d:"bigint"==typeof i||"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type))?(()=>{const t=l??!1;return hf(Zn(["watchContractEvent",r,s,a,e.uid,o,f,t,i]),{onLogs:u,onError:c},c=>{let u,d;void 0!==i&&(u=i-1n);let l=!1;const h=pf(async()=>{if(l)try{let i;if(d)i=await Ar(e,ri,"getFilterChanges")({filter:d});else{const a=await Ar(e,Go,"getBlockNumber")({});i=u&&u<a?await Ar(e,Xo,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:u+1n,toBlock:a,strict:t}):[],u=a}if(0===i.length)return;if(a)c.onLogs(i);else for(const e of i)c.onLogs([e])}catch(e){d&&e instanceof Fr&&(l=!1),c.onError?.(e)}else{try{d=await Ar(e,qa,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:t,fromBlock:i})}catch{}l=!0}},{emitOnBegin:!0,interval:f});return async()=>{d&&await Ar(e,Eu,"uninstallFilter")({filter:d}),h()}})})():(()=>{const t=l??!1,i=Zn(["watchContractEvent",r,s,a,e.uid,o,f,t]);let d=!0,h=()=>d=!1;return hf(i,{onLogs:u,onError:c},t=>((async()=>{try{const a=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),i=o?Ma({abi:n,eventName:o,args:s}):[],{unsubscribe:c}=await a.subscribe({params:["logs",{address:r,topics:i}],onData(e){if(!d)return;const r=e.result;try{const{eventName:e,args:s}=Wo({abi:n,data:r.data,topics:r.topics,strict:l}),a=Ko(r,{args:s,eventName:e});t.onLogs([a])}catch(e){let n,s;if(e instanceof U||e instanceof L){if(l)return;n=e.abiItem.name,s=e.abiItem.inputs?.some(e=>!("name"in e&&e.name))}const a=Ko(r,{args:s?[]:{},eventName:n});t.onLogs([a])}},onError(e){t.onError?.(e)}});h=c,d||h()}catch(e){c?.(e)}})(),()=>h()))})()}function wf(e,{address:t,args:n,batch:r=!0,event:s,events:a,fromBlock:o,onError:i,onLogs:c,poll:u,pollingInterval:d=e.pollingInterval,strict:f}){const l=void 0!==u?u:"bigint"==typeof o||"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type),h=f??!1;return l?hf(Zn(["watchEvent",t,n,r,e.uid,s,d,o]),{onLogs:c,onError:i},i=>{let c,u;void 0!==o&&(c=o-1n);let f=!1;const l=pf(async()=>{if(f)try{let o;if(u)o=await Ar(e,ri,"getFilterChanges")({filter:u});else{const r=await Ar(e,Go,"getBlockNumber")({});o=c&&c!==r?await Ar(e,Jo,"getLogs")({address:t,args:n,event:s,events:a,fromBlock:c+1n,toBlock:r}):[],c=r}if(0===o.length)return;if(r)i.onLogs(o);else for(const e of o)i.onLogs([e])}catch(e){u&&e instanceof Fr&&(f=!1),i.onError?.(e)}else{try{u=await Ar(e,Ga,"createEventFilter")({address:t,args:n,event:s,events:a,strict:h,fromBlock:o})}catch{}f=!0}},{emitOnBegin:!0,interval:d});return async()=>{u&&await Ar(e,Eu,"uninstallFilter")({filter:u}),l()}}):(()=>{let r=!0,o=()=>r=!1;return(async()=>{try{const u=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),d=a??(s?[s]:void 0);let l=[];if(d){const e=d.flatMap(e=>Ma({abi:[e],eventName:e.name,args:n}));l=[e],s&&(l=l[0])}const{unsubscribe:p}=await u.subscribe({params:["logs",{address:t,topics:l}],onData(e){if(!r)return;const t=e.result;try{const{eventName:e,args:n}=Wo({abi:d??[],data:t.data,topics:t.topics,strict:h}),r=Ko(t,{args:n,eventName:e});c([r])}catch(e){let n,r;if(e instanceof U||e instanceof L){if(f)return;n=e.abiItem.name,r=e.abiItem.inputs?.some(e=>!("name"in e&&e.name))}const s=Ko(t,{args:r?[]:{},eventName:n});c([s])}},onError(e){i?.(e)}});o=p,r||o()}catch(e){i?.(e)}})(),()=>o()})()}function vf(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=e.pollingInterval}){return(void 0!==s?s:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type)?hf(Zn(["watchPendingTransactions",e.uid,t,a]),{onTransactions:r,onError:n},n=>{let r;const s=pf(async()=>{try{if(!r)try{return void(r=await Ar(e,_a,"createPendingTransactionFilter")({}))}catch(e){throw s(),e}const a=await Ar(e,ri,"getFilterChanges")({filter:r});if(0===a.length)return;if(t)n.onTransactions(a);else for(const e of a)n.onTransactions([e])}catch(e){n.onError?.(e)}},{emitOnBegin:!0,interval:a});return async()=>{r&&await Ar(e,Eu,"uninstallFilter")({filter:r}),s()}}):(()=>{let t=!0,s=()=>t=!1;return(async()=>{try{const{unsubscribe:a}=await e.transport.subscribe({params:["newPendingTransactions"],onData(e){if(!t)return;const n=e.result;r([n])},onError(e){n?.(e)}});s=a,t||s()}catch(e){n?.(e)}})(),()=>s()})()}async function xf(e,{hash:t}){await e.request({method:`${e.mode}_dropTransaction`,params:[t]})}async function Pf(e){return e.request({method:`${e.mode}_dumpState`})}async function Ef(e){return"ganache"===e.mode?await e.request({method:"eth_mining"}):await e.request({method:`${e.mode}_getAutomine`})}async function kf(e){return await e.request({method:"txpool_content"})}async function If(e){const{pending:t,queued:n}=await e.request({method:"txpool_status"});return{pending:ne(t),queued:ne(n)}}async function Bf(e,{address:t}){await e.request({method:`${e.mode}_impersonateAccount`,params:[t]})}async function $f(e,{seconds:t}){return await e.request({method:"evm_increaseTime",params:[ie(t)]})}async function Af(e){return await e.request({method:"txpool_inspect"})}async function Nf(e,{state:t}){await e.request({method:`${e.mode}_loadState`,params:[t]})}async function zf(e,{blocks:t,interval:n}){"ganache"===e.mode?await e.request({method:"evm_mine",params:[{blocks:ie(t)}]}):await e.request({method:`${e.mode}_mine`,params:[ie(t),ie(n||0)]})}async function Of(e){await e.request({method:`${e.mode}_removeBlockTimestampInterval`})}async function Tf(e,{blockNumber:t,jsonRpcUrl:n}={}){await e.request({method:`${e.mode}_reset`,params:[{forking:{blockNumber:Number(t),jsonRpcUrl:n}}]})}async function Sf(e,{id:t}){await e.request({method:"evm_revert",params:[t]})}async function Ff(e,t){const{accessList:n,data:r,from:s,gas:a,gasPrice:o,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:u,to:d,value:f,...l}=t,h=e.chain?.formatters?.transactionRequest?.format,p=(h||aa)({...ra(l,{format:h}),accessList:n,data:r,from:s,gas:a,gasPrice:o,maxFeePerGas:i,maxPriorityFeePerGas:c,nonce:u,to:d,value:f},"sendUnsignedTransaction");return await e.request({method:"eth_sendUnsignedTransaction",params:[p]})}async function Cf(e,t){"ganache"===e.mode?t?await e.request({method:"miner_start"}):await e.request({method:"miner_stop"}):await e.request({method:"evm_setAutomine",params:[t]})}async function Rf(e,{address:t,value:n}){"ganache"===e.mode?await e.request({method:"evm_setAccountBalance",params:[t,ie(n)]}):await e.request({method:`${e.mode}_setBalance`,params:[t,ie(n)]})}async function Uf(e,{gasLimit:t}){await e.request({method:"evm_setBlockGasLimit",params:[ie(t)]})}async function Lf(e,{interval:t}){const n="hardhat"===e.mode?1e3*t:t;await e.request({method:`${e.mode}_setBlockTimestampInterval`,params:[n]})}async function Mf(e,{address:t,bytecode:n}){"ganache"===e.mode?await e.request({method:"evm_setAccountCode",params:[t,n]}):await e.request({method:`${e.mode}_setCode`,params:[t,n]})}async function jf(e,{address:t}){await e.request({method:`${e.mode}_setCoinbase`,params:[t]})}async function qf(e,{interval:t}){const n="hardhat"===e.mode?1e3*t:t;await e.request({method:"evm_setIntervalMining",params:[n]})}async function Gf(e,t){await e.request({method:`${e.mode}_setLoggingEnabled`,params:[t]})}async function _f(e,{gasPrice:t}){await e.request({method:`${e.mode}_setMinGasPrice`,params:[ie(t)]})}async function Df(e,{baseFeePerGas:t}){await e.request({method:`${e.mode}_setNextBlockBaseFeePerGas`,params:[ie(t)]})}async function Hf(e,{timestamp:t}){await e.request({method:"evm_setNextBlockTimestamp",params:[ie(t)]})}async function Vf(e,{address:t,nonce:n}){await e.request({method:`${e.mode}_setNonce`,params:[t,ie(n)]})}async function Wf(e,t){await e.request({method:`${e.mode}_setRpcUrl`,params:[t]})}async function Zf(e,{address:t,index:n,value:r}){await e.request({method:`${e.mode}_setStorageAt`,params:[t,"number"==typeof n?ie(n):n,r]})}async function Yf(e){return await e.request({method:"evm_snapshot"})}async function Kf(e,{address:t}){await e.request({method:`${e.mode}_stopImpersonatingAccount`,params:[t]})}async function Jf(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:a,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:ie(n),chainName:r,nativeCurrency:s,rpcUrls:a.default.http,blockExplorerUrls:o?Object.values(o).map(({url:e})=>e):void 0}]},{dedupe:!0,retryCount:0})}class Xf extends y{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join("\n"),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class Qf extends y{constructor({docsPath:e,metaMessages:t,type:n}){super(`Account type "${n}" is not supported.`,{docsPath:e,metaMessages:t,name:"AccountTypeNotSupportedError"})}}async function el(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const tl=new Ke(128);async function nl(e,t){const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:a,blobs:o,data:i,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:l,nonce:h,type:p,value:b,...m}=t;if(void 0===n)throw new Xf({docsPath:"/docs/actions/wallet/sendTransaction"});const g=n?_n(n):null;try{la(t);const n=await(async()=>t.to?t.to:null!==t.to&&a&&a.length>0?await Ka({authorization:a[0]}).catch(()=>{throw new y("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if("json-rpc"===g?.type||null===g){let t;null!==r&&(t=await Ar(e,Oo,"getChainId")({}),hi({currentChainId:t,chain:r}));const y=e.chain?.formatters?.transactionRequest?.format,w=(y||aa)({...ra(m,{format:y}),accessList:s,account:g,authorizationList:a,blobs:o,chainId:t,data:i,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:l,nonce:h,to:n,type:p,value:b},"sendTransaction"),v=tl.get(e.uid),x=v?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:x,params:[w]},{retryCount:0})}catch(t){if(!1===v)throw t;const n=t;if("InvalidInputRpcError"===n.name||"InvalidParamsRpcError"===n.name||"MethodNotFoundRpcError"===n.name||"MethodNotSupportedRpcError"===n.name)return await e.request({method:"wallet_sendTransaction",params:[w]},{retryCount:0}).then(t=>(tl.set(e.uid,!0),t)).catch(t=>{const r=t;if("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name)throw tl.set(e.uid,!1),n;throw r});throw n}}if("local"===g?.type){const t=await Ar(e,Fo,"prepareTransactionRequest")({account:g,accessList:s,authorizationList:a,blobs:o,chain:r,data:i,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:l,nonce:h,nonceManager:g.nonceManager,parameters:[...To,"sidecars"],type:p,value:b,...m,to:n}),y=r?.serializers?.transaction,w=await g.signTransaction(t,{serializer:y});return await Ar(e,el,"sendRawTransaction")({serializedTransaction:w})}if("smart"===g?.type)throw new Qf({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new Qf({docsPath:"/docs/actions/wallet/sendTransaction",type:g?.type})}catch(e){if(e instanceof Qf)throw e;throw pi(e,{...t,account:g,chain:t.chain||void 0})}}function rl(e,t){const{abi:n,args:r,bytecode:s,...a}=t,o=Gs({abi:n,args:r,bytecode:s});return nl(e,{...a,...a.authorizationList?{to:null}:{},data:o})}async function sl(e){if("local"===e.account?.type)return[e.account.address];return(await e.request({method:"eth_accounts"},{dedupe:!0})).map(e=>tt(e))}const al="0x5792579257925792579257925792579257925792579257925792579257925792",ol=ie(0,{size:32});async function il(e,t){const{account:n=e.account,capabilities:r,chain:s=e.chain,experimental_fallback:a,experimental_fallbackDelay:o=32,forceAtomic:i=!1,id:c,version:u="2.0.0"}=t,d=n?_n(n):null,f=t.calls.map(e=>{const t=e,n=t.abi?Un({abi:t.abi,functionName:t.functionName,args:t.args}):t.data;return{data:t.dataSuffix&&n?mt([n,t.dataSuffix]):n,to:t.to,value:t.value?ie(t.value):void 0}});try{const t=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:i,calls:f,capabilities:r,chainId:ie(s.id),from:d?.address,id:c,version:u}]},{retryCount:0});return"string"==typeof t?{id:t}:t}catch(n){const c=n;if(a&&("MethodNotFoundRpcError"===c.name||"MethodNotSupportedRpcError"===c.name||"UnknownRpcError"===c.name||c.details.toLowerCase().includes("does not exist / is not available")||c.details.toLowerCase().includes("missing or invalid. request()")||c.details.toLowerCase().includes("did not match any variant of untagged enum")||c.details.toLowerCase().includes("account upgraded to unsupported contract")||c.details.toLowerCase().includes("eip-7702 not supported")||c.details.toLowerCase().includes("unsupported wc_ method")||c.details.toLowerCase().includes("feature toggled misconfigured")||c.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(r){if(Object.values(r).some(e=>!e.optional)){const e="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Cr(new y(e,{details:e}))}}if(i&&f.length>1){const e="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Rr(new y(e,{details:e}))}const t=[];for(const n of f){const r=nl(e,{account:d,chain:s,data:n.data,to:n.to,value:n.value?te(n.value):void 0});t.push(r),o>0&&await new Promise(e=>setTimeout(e,o))}const n=await Promise.allSettled(t);if(n.every(e=>"rejected"===e.status))throw n[0].reason;return{id:mt([...n.map(e=>"fulfilled"===e.status?e.value:ol),ie(s.id,{size:32}),al])}}throw pi(n,{...t,account:d,chain:t.chain})}}async function cl(e,t){const{atomic:n=!1,chainId:r,receipts:s,version:a="2.0.0",...o}=await async function(t){if(t.endsWith(al.slice(2))){const n=Q(lt(t,-64,-32)),r=lt(t,0,-64).slice(2).match(/.{1,64}/g),s=await Promise.all(r.map(t=>ol.slice(2)!==t?e.request({method:"eth_getTransactionReceipt",params:[`0x${t}`]},{dedupe:!0}):void 0)),a=s.some(e=>null===e)?100:s.every(e=>"0x1"===e?.status)?200:s.every(e=>"0x0"===e?.status)?500:600;return{atomic:!1,chainId:ne(n),receipts:s.filter(Boolean),status:a,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[t]})}(t.id),[i,c]=(()=>{const e=o.status;return e>=100&&e<200?["pending",e]:e>=200&&e<300?["success",e]:e>=300&&e<700?["failure",e]:"CONFIRMED"===e?["success",200]:"PENDING"===e?["pending",100]:[void 0,e]})();return{...o,atomic:n,chainId:r?ne(r):void 0,receipts:s?.map(e=>({...e,blockNumber:te(e.blockNumber),gasUsed:te(e.gasUsed),status:bi[e.status]}))??[],statusCode:c,status:i,version:a}}async function ul(e,t={}){const{account:n=e.account,chainId:r}=t,s=n?_n(n):void 0,a=r?[s?.address,[ie(r)]]:[s?.address],o=await e.request({method:"wallet_getCapabilities",params:a}),i={};for(const[e,t]of Object.entries(o)){i[Number(e)]={};for(let[n,r]of Object.entries(t))"addSubAccount"===n&&(n="unstable_addSubAccount"),i[Number(e)][n]=r}return"number"==typeof r?i[r]:i}async function dl(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function fl(e,t){const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new Xf({docsPath:"/docs/eip7702/prepareAuthorization"});const a=_n(n),o=(()=>{if(t.executor)return"self"===t.executor?t.executor:_n(t.executor)})(),i={address:t.contractAddress??t.address,chainId:r,nonce:s};return void 0===i.chainId&&(i.chainId=e.chain?.id??await Ar(e,Oo,"getChainId")({})),void 0===i.nonce&&(i.nonce=await Ar(e,lo,"getTransactionCount")({address:a.address,blockTag:"pending"}),("self"===o||o?.address&&Ho(o.address,a.address))&&(i.nonce+=1)),i}async function ll(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(e=>nt(e))}async function hl(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}class pl extends y{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}async function bl(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:e})=>200===e||e>=300,retryCount:a=4,retryDelay:o=({count:e})=>200*(1<<e),timeout:i=6e4,throwOnFailure:c=!1}=t,u=Zn(["waitForCallsStatus",e.uid,n]),{promise:d,resolve:f,reject:l}=oa();let h;const p=hf(u,{resolve:f,reject:l},t=>{const i=pf(async()=>{const r=e=>{clearTimeout(h),i(),e(),p()};try{const i=await oi(async()=>{const t=await Ar(e,cl,"getCallsStatus")({id:n});if(c&&"failure"===t.status)throw new pl(t);return t},{retryCount:a,delay:o});if(!s(i))return;r(()=>t.resolve(i))}catch(e){r(()=>t.reject(e))}},{interval:r,emitOnBegin:!0});return i});return h=i?setTimeout(()=>{p(),clearTimeout(h),l(new ml({id:n}))},i):void 0,await d}class ml extends y{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}async function yl(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function gl(e,t){const{account:n=e.account}=t;if(!n)throw new Xf({docsPath:"/docs/eip7702/signAuthorization"});const r=_n(n);if(!r.signAuthorization)throw new Qf({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await fl(e,t);return r.signAuthorization(s)}async function wl(e,{account:t=e.account,message:n}){if(!t)throw new Xf({docsPath:"/docs/actions/wallet/signMessage"});const r=_n(t);if(r.signMessage)return r.signMessage({message:n});const s="string"==typeof n?ue(n):n.raw instanceof Uint8Array?se(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function vl(e,t){const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new Xf({docsPath:"/docs/actions/wallet/signTransaction"});const a=_n(n);la({account:a,...t});const o=await Ar(e,Oo,"getChainId")({});null!==r&&hi({currentChainId:o,chain:r});const i=r?.formatters||e.chain?.formatters,c=i?.transactionRequest?.format||aa;return a.signTransaction?a.signTransaction({...s,chainId:o},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...c({...s,account:a},"signTransaction"),chainId:ie(o),from:a.address}]},{retryCount:0})}async function xl(e,t){const{account:n=e.account,domain:r,message:s,primaryType:a}=t;if(!n)throw new Xf({docsPath:"/docs/actions/wallet/signTypedData"});const o=_n(n),i={EIP712Domain:Pi({domain:r}),...t.types};if(xi({domain:r,message:s,primaryType:a,types:i}),o.signTypedData)return o.signTypedData({domain:r,message:s,primaryType:a,types:i});const c=function(e){const{domain:t,message:n,primaryType:r,types:s}=e,a=(e,t)=>{const n={...t};for(const t of e){const{name:e,type:r}=t;"address"===r&&(n[e]=n[e].toLowerCase())}return n},o=s.EIP712Domain&&t?a(s.EIP712Domain,t):{},i=(()=>{if("EIP712Domain"!==r)return a(s[r],n)})();return Zn({domain:o,message:i,primaryType:r,types:s})}({domain:r,message:s,primaryType:a,types:i});return e.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function Pl(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:ie(t)}]},{retryCount:0})}async function El(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}async function kl(e,t){return kl.internal(e,nl,"sendTransaction",t)}!function(e){e.internal=async function(e,t,n,r){const{abi:s,account:a=e.account,address:o,args:i,dataSuffix:c,functionName:u,...d}=r;if(void 0===a)throw new Xf({docsPath:"/docs/contract/writeContract"});const f=a?_n(a):null,l=Un({abi:s,args:i,functionName:u});try{return await Ar(e,t,n)({data:`${l}${c?c.replace("0x",""):""}`,to:o,account:f,...d})}catch(e){throw Lr(e,{abi:s,address:o,args:i,docsPath:"/docs/contract/writeContract",functionName:u,sender:f?.address})}}}(kl||(kl={}));const Il={MAINNET:43114,FUJI:43113,LOCAL:43112},Bl={MAINNET:1,FUJI:5,LOCAL:1337},$l="11111111111111111111111111111111LpoYY",Al="11111111111111111111111111111111LpoYY",Nl="11111111111111111111111111111111LpoYY",zl="P",Ol="2oYMBNV4eNHyqk2fjjV5nVQLDbtmNJzq5s3qs3Lo6ftnC6FByM",Tl="2JVSBoinj9C2J33VntvzYtVJNZdN2NKiwwKjcumHUWEb5DbBrm",Sl="2eNy1mUFdmaxXNj1eQHUe7Np4gju9sJsEtWQ4MX3ToiNKuADed",Fl="X",Cl="2q9e4r6Mu3U68nU1fYjgbR6JvwrRx36CohpAX5UQxse55x1Q5",Rl="yH8D7ThNJkxmtkuv2jgBa4P1Rn3Qpr4pPr7QYNfcdoS6k6HWp",Ul="2CA6j5zYzasynPsFeNoqWkmTCt3VScMvXUZHbfDJ8k3oGzAPtU",Ll="C",Ml=1,jl=5,ql=1337;export{Il as AVALANCHE_CHAIN_IDS,Bl as AVALANCHE_NETWORK_IDS,Ll as C_CHAIN_ALIAS,Rl as C_CHAIN_FUJI_ID,Ul as C_CHAIN_LOCAL_ID,Cl as C_CHAIN_MAINNET_ID,ql as LOCAL_NETWORK_ID,Ml as MAINNET_NETWORK_ID,zl as P_CHAIN_ALIAS,Al as P_CHAIN_FUJI_ID,Nl as P_CHAIN_LOCAL_ID,$l as P_CHAIN_MAINNET_ID,jl as TESTNET_NETWORK_ID,Fl as X_CHAIN_ALIAS,Tl as X_CHAIN_FUJI_ID,Sl as X_CHAIN_LOCAL_ID,Ol as X_CHAIN_MAINNET_ID,Jf as addChain,ha as call,Fa as createAccessList,Ra as createBlockFilter,qa as createContractEventFilter,Ga as createEventFilter,_a as createPendingTransactionFilter,To as defaultPrepareTransactionRequestParameters,rl as deployContract,xf as dropTransaction,Pf as dumpState,Ro as estimateContractGas,uo as estimateFeesPerGas,Co as estimateGas,io as estimateMaxPriorityFeePerGas,sl as getAddresses,Ef as getAutomine,Uo as getBalance,Lo as getBlobBaseFee,ao as getBlock,Go as getBlockNumber,_o as getBlockTransactionCount,Do as getBytecode,cl as getCallsStatus,ul as getCapabilities,Oo as getChainId,Do as getCode,Xo as getContractEvents,ei as getEip712Domain,ma as getEnsAddress,Oa as getEnsAvatar,Ta as getEnsName,Sa as getEnsResolver,za as getEnsText,ni as getFeeHistory,ri as getFilterChanges,si as getFilterLogs,oo as getGasPrice,Jo as getLogs,dl as getPermissions,eu as getProof,tu as getStorageAt,nu as getTransaction,ru as getTransactionConfirmations,lo as getTransactionCount,su as getTransactionReceipt,kf as getTxpoolContent,If as getTxpoolStatus,Bf as impersonateAccount,$f as increaseTime,Af as inspectTxpool,Nf as loadState,zf as mine,au as multicall,fl as prepareAuthorization,Fo as prepareTransactionRequest,ba as readContract,Of as removeBlockTimestampInterval,ll as requestAddresses,hl as requestPermissions,Tf as reset,Sf as revert,il as sendCalls,el as sendRawTransaction,nl as sendTransaction,Ff as sendUnsignedTransaction,Cf as setAutomine,Rf as setBalance,Uf as setBlockGasLimit,Lf as setBlockTimestampInterval,Mf as setCode,jf as setCoinbase,qf as setIntervalMining,Gf as setLoggingEnabled,_f as setMinGasPrice,Df as setNextBlockBaseFeePerGas,Hf as setNextBlockTimestamp,Vf as setNonce,Wf as setRpcUrl,Zf as setStorageAt,yl as showCallsStatus,gl as signAuthorization,wl as signMessage,vl as signTransaction,xl as signTypedData,ou as simulate,ou as simulateBlocks,xu as simulateCalls,Pu as simulateContract,Yf as snapshot,Kf as stopImpersonatingAccount,Pl as switchChain,Eu as uninstallFilter,af as verifyHash,cf as verifyMessage,uf as verifyTypedData,bl as waitForCallsStatus,mf as waitForTransactionReceipt,El as watchAsset,bf as watchBlockNumber,yf as watchBlocks,gf as watchContractEvent,wf as watchEvent,vf as watchPendingTransactions,kl as writeContract};
